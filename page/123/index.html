<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta name="generator" content="Hugo 0.122.0">
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>追风少年的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="追风少年的博客">
		<meta property="og:title" content="追风少年的博客" />
<meta property="og:description" content="追风少年的博客" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://zhuifengsn.github.io/" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	
	<link rel="alternate" type="application/rss+xml" href="/index.xml" title="追风少年的博客">

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="追风少年的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">追风少年的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main list" role="main">
	<article class="list__item post">
	
	<header class="list__header">
		<h2 class="list__title post__title">
			<a href="/posts/92b400c4d9bfe43723a2fe5c313a1669/" rel="bookmark">
			数据结构：C&#43;&#43;链表类及一元多项式的实现时遇到的困难
			</a>
		</h2>
		
	</header>
	<div class="content list__excerpt post__content clearfix">
		书上要求一个链表类，一个结点类，不会写。 在别人的博客上看到有四种方式：
复合类：在Node类中定义友元的方式，使List类可以访问结点的私有成员。嵌套类：在List内部定义Node类，但是Node的数据成员放在public部分，使List和Node均可以直接访问Node的成员。继承：在Node类中吧成员定义为protected，然后让List继承Node类。直接用struct定义Node类，因为struct的成员默认为公有数据成员，所以可直接访问。 一开始采用第二种嵌套类，但发现不方便创建单独的结点。于是用第三种继承，把结点的数据域设为public，这样就OK了。这样用C++也能实现书本上的函数了。
Clearlist（） 一直没搞定！ 解决方法在循环中创建的对象每次循环后会自动delete，故不用加delete了。C++可以delete指向NULL的指针，但delete后依然是NULL，似乎没意义。 关于delete
对同一个内存空间使用两次 delete 表达式。当两个指针指向同一个动态创建的对象，删除时就会发生错误。如果在其中一个指针上做 delete 运算，将该对象的内存空间返还给自由存储区，然后接着 delete 第二个指针，此时则自由存储区可能会被破坏。
delete指针释放的是指向的内存空间。
delete &amp;p的时候出错，表面看是陷入死循环。p是一个对象，为什么会这样？而且不加&amp;，编译器会报错：表达式必须包含指针类型 解决方法：用析构函数删除对象。因为new出来的才要delete。笨啊
下面是一元多项式部分
傻了：
Status InsertBefore(LNode &amp;i, ElemType e);//将e插入到i结点之前 Status InsertAfter(LNode &amp;i, ElemType e);//将e插入到i结点之后 当时自作聪明，插入的是数据而不是结点，现在继承为一元多项式就麻烦了。唉……
链表类没写好，导致写一元多项式都是泪啊。由此得出：写基础的类要充分考虑到后面的！
快疯了…… 太混乱了 先放一放 现在的主要问题：
顺序错误，只有第一个数成功排序 无法相加，同次的会分别显示 第二天找到解决方法了，问题竟然是把continue写成break了 我晕。基础不过关。
	</div>
</article><article class="list__item post">
	
	<header class="list__header">
		<h2 class="list__title post__title">
			<a href="/posts/209745bef7684b343cf82ee3b7b6c314/" rel="bookmark">
			google mock C&#43;&#43;单元测试框架
			</a>
		</h2>
		
	</header>
	<div class="content list__excerpt post__content clearfix">
		google mock是用来配合google test对C++项目做单元测试的。它依赖于googletest（参见我上篇文章《如何用googletest写单元测试》： http://blog.csdn.net/russell_tao/article/details/7333226），下面我来说说linux上怎么用它来做单元测试。
本文包括：1、如何获取、编译google mock；2、如何使用gmock（下面用gmock来代称google mock）配合gtest做单元测试。3、如何运行单元测试；4、gmock的工作原理。
1、如何获取、编译google mock
gmock的当前版本与gtest一样，是1.6.0。可以从这个网址获取：http://code.google.com/p/googlemock/downloads/list。
下载到压缩包解压后，下面我们开始编译出静态库文件（必须得自己编译出），以在我们自己的单元测试工程中使用。
与gtest相同，我们执行完./configure; make后，不能执行make install，理由与上篇相同。
验证这个包有没有问题，依然可以执行如下命令：
[cpp] view plain copy cd make make ./gmock_test 如果你看到类似下文的输出屏幕，证明你的机器运行gmock没有问题。 [cpp] view plain copy [----------] Global test environment tear-down [==========] 13 tests from 3 test cases ran. (2 ms total) [ PASSED ] 13 tests. 这时还没有编译出我们要的libgmock.a呢。继续在gmock解包目录下执行： [cpp] view plain copy g++ -I gtest/include/ -I gtest/ -I include/ -I ./ -c gtest/src/gtest-all.cc g++ -I gtest/include/ -I gtest/ -I include/ -I .
	</div>
	<div class="list__footer clearfix">
		<a class="list__footer-readmore btn" href="/posts/209745bef7684b343cf82ee3b7b6c314/">Read more…</a>
	</div>
</article><article class="list__item post">
	
	<header class="list__header">
		<h2 class="list__title post__title">
			<a href="/posts/56a14d7c1d99abadce5bdb3957ec287d/" rel="bookmark">
			win7开机后svchost..exe占用CPU和内存很高的解决方法
			</a>
		</h2>
		
	</header>
	<div class="content list__excerpt post__content clearfix">
		近来，经常发现win7系统开机后反应超慢，经过检查发现占用CPU和内存很高。这种情况要持续十几分钟，之后就正常了。
各种开机项目都禁止了，还是如此。有可以的服务也禁止了，依旧如此。实在搞不明白了，难道是中病毒或者木马了？
经过一番网络上的调查，发现很多人说的我都实验过了，还是不行。终究找到了一个篇特殊的。说的可能window update导致的。于是参考这篇文章找到C:\Windows\SoftwareDistribution\DataStore\DataStore.edb这个文件。发现这个文件500多M。
查看该进程对应服务，有很多服务都依赖他，包括windows update，资源监视器中进程显示为svchost..exe(netsvcs)，
可以判定不是病毒引起的。以前用Vista也遇到这个问题，删除C:\Windows\SoftwareDistribution\DataStore\DataStore.edb这个文件可以解决问题，并且以前在Vista下就是这样做的，可以解决问题，但是过段时间就又会出现，并且这样做的缺点是windows update无法查看以前的更新历史。据说正常情况下这个文件大小应该在几兆，
以前Vista超过40M就会导致开机CPU过高，现在我的win7已经达到了114M。
经过删掉这个文件，重新启动后，一切正常！
再去查看这个文件发现，这个文件又重新生成了。不过这次很小也就8M多点。
后来又一次在其他机器上遇到这种情况，发现将C:\Windows\SoftwareDistribution\文件夹下的所有文件清除也没有什么问题，这样更快更直接。因为此文件夹下还有自动更新下载下来的一些文件，在download文件夹下。如果时间很长的话，这个文件夹一般文件比较多也比较大。后来在网络上又发现一篇文章，说的解决办法如下：
1、首先结束占用100%的svchost.exe进程，让计算机恢复正常。 2、结束wuauclt.exe进程。 3、进入“控制面板-管理工具-服务”，关闭AutomaticUpdates服务。 4、清楚C:\WINDOWS\SoftwareDistribution所有文件。 5、进入“管理工具-服务”，再启动AutomaticUpdates服务。 完成上述操作后重启电脑，问题一般都可以解决。
特此备注
	</div>
</article><article class="list__item post">
	
	<header class="list__header">
		<h2 class="list__title post__title">
			<a href="/posts/f6d76513c97d1a10571379207023be20/" rel="bookmark">
			WPS中三个等号产生的横线的消除
			</a>
		</h2>
		
	</header>
	<div class="content list__excerpt post__content clearfix">
		【问题描述】
WPS中输入三个等号然后回车就可以可以产生一条直线，那么如果不想要那条直线了该怎么样删除它呢~
【解决方法】
1， 如果是刚生成的还未保存，此时直接退格键即可；
2，如果是保存之后重新编辑的，解决方法如下：选中横线上方的文字，然后右键选择无格式文本即可；
	</div>
</article><article class="list__item post">
	
	<header class="list__header">
		<h2 class="list__title post__title">
			<a href="/posts/a151b569344f00dd8e7c954bc7c5c7af/" rel="bookmark">
			Android 如何从一个APP中打开另外一个APP
			</a>
		</h2>
		
	</header>
	<div class="content list__excerpt post__content clearfix">
		众所周知，在一个APP内部，从一个页面跳转到另外一个页面是使用startactivity函数来实现的。
同样的，对于应用之间的跳转也是如此的。应用直接的跳转分为三种情况，为了方便描述，我加上有两个应用A和B，需求是要从A点击一个按钮，可以跳转到B，同时A要传数据给B，B能够接收并且处理：
1.从A跳转到B的主Activity，代码如下：
Intent intent = new Intent(Intent.ACTION_MAIN); intent.addCategory(Intent.CATEGORY_LAUNCHER); ComponentName comp = new ComponentName("com.nbg.baby", "com.nbg.baby.MainActivity"); intent.setComponent(comp);	int launchFlags = Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_RESET_TASK_IF_NEEDED; intent.setFlags(launchFlags); intent.setAction("android.intent.action.VIEW"); Bundle bundle = new Bundle(); bundle.putString("from", "来自测试应用"); intent.putExtras(bundle); startActivity(intent); 1.1如果B是应用是关闭的，那么在onCreate()函数中增加如下语句：
Bundle bundle = this.getIntent().getExtras(); if(bundle!=null &amp;&amp; bundle.getString("from")!=null){ Util.showToast(s_instance, bundle.getString("from"), Toast.LENGTH_LONG); } 1.2 如何B应用是开启状态，那么在onRestart()函数中增加如下语句：
Bundle bundle = this.getIntent().getExtras(); if(bundle!=null &amp;&amp; bundle.getString("from")!=null){ Util.showToast(s_instance, bundle.getString("from"), Toast.LENGTH_LONG); } 2.从A跳转到B的某个被设置为exported的activity，B应用的状态无关紧要，代码如下：
&lt;span style="white-space:pre"&gt;	&lt;/span&gt;ComponentName comp = new ComponentName("com.nbg.baby", "com.nbg.baby.ApiLoginActivity"); Intent intent = new Intent(); intent.
	</div>
	<div class="list__footer clearfix">
		<a class="list__footer-readmore btn" href="/posts/a151b569344f00dd8e7c954bc7c5c7af/">Read more…</a>
	</div>
</article><article class="list__item post">
	
	<header class="list__header">
		<h2 class="list__title post__title">
			<a href="/posts/a55059115024298755ee558e6894318f/" rel="bookmark">
			处理iOS开发中的各种警告
			</a>
		</h2>
		
	</header>
	<div class="content list__excerpt post__content clearfix">
		iOS开发中我们会遇到各种警告,包括第三方不再支持更新导致的警告,苹果一些过时方法的警告,其中尤其是ASIHttpRequest的不支持更新导致有很多的警告,所以我在这里做了罗列 Semantic Warnings WarningMessage-WCFString-literalinput conversion stopped due to an input byte that does not belong to the input codeset UTF-8-WNSObject-attribute__attribute ((NSObject)) may be put on a typedef only, attribute is ignored-Wabstract-vbase-initinitializer for virtual base class %0 of abstract class %1 will never be used-Waddress-of-array-temporarypointer is initialized by a temporary array, which will be destroyed at the end of the full-expression-Warc-maybe-repeated-use-of-weak"weak %select{variable|property|implicit property|instance variable}0 %1 may be accessed multiple times in this %select{function|method|block|lambda}2 and may be unpredictably set to nil assign to a strong variable to keep the object alive-Warc-non-pod-memaccess%select{destination for|source of}0 this %1 call is a pointer to ownership-qualified type %2-Warc-performSelector-leaksperformSelector may cause a leak because its selector is unknown-Warc-repeated-use-of-weak"
	</div>
	<div class="list__footer clearfix">
		<a class="list__footer-readmore btn" href="/posts/a55059115024298755ee558e6894318f/">Read more…</a>
	</div>
</article><article class="list__item post">
	
	<header class="list__header">
		<h2 class="list__title post__title">
			<a href="/posts/ef61c849f93eaee55758cffa003d0371/" rel="bookmark">
			链表中设置头结点的作用
			</a>
		</h2>
		
	</header>
	<div class="content list__excerpt post__content clearfix">
		(1)对带头结点的链表，在表的任何结点之前插入结点或删除表中任何结点，所要做的都是修改前一结点的指针域，因为任何元素结点都有前驱结点。若链表没有头结点，则首元素结点没有前驱结点，在其前插入结点或删除该结点时操作会复杂些。 (2)对带头结点的链表，表头指针是指向头结点的非空指针，因此空表与非空表的处理是一样的。
	</div>
</article><article class="list__item post">
	
	<header class="list__header">
		<h2 class="list__title post__title">
			<a href="/posts/d5e4348cd492c0cdeb74745cada827c2/" rel="bookmark">
			unknown character &#39;0xa1&#39; 错误的解决方法 VC&#43;&#43;6.0
			</a>
		</h2>
		
	</header>
	<div class="content list__excerpt post__content clearfix">
		 unknown character '0xa1 这种编译错误常见于从网页上直接复制代码到编译器中的情况，由于VC++6.0不认识全角的空格，所以会报错（ 许多网页贴出的代码的每行前和后都包含一个到多个全角空格，最要命的仅仅凭你的肉眼是无法分辨它与C++能够识别的半角的差别。所以每每当我们欣喜的找到一段代码放到编译环境中编译试错误就出来了，而且是成堆的出现 unknown character '0xa1' unknown character '0xa1' unknown character '0xa1' ........... ） 解决方法：（1）自己把代码重新敲一遍。 （2）把代码先粘贴到word中，然后用查找替换功能，将全角空格替换成英文输入法下输出的空格。 
	</div>
</article><article class="list__item post">
	
	<header class="list__header">
		<h2 class="list__title post__title">
			<a href="/posts/1caf92f9ad7bb289eddbb3048c70ed3a/" rel="bookmark">
			今天遇到的两个问题
			</a>
		</h2>
		
	</header>
	<div class="content list__excerpt post__content clearfix">
		 晚上编译代码的时候，一直报这个错误：
___@@_PchSym_@00@UywhdxlwvUywhdPkilqUyzhrxUlfgkfgUlyqUdrmDCPivovzhvUywhdUgvnkUywhdOlyq@ already defined in bdsw.obj
折腾了半天，发现是每个cpp的Create/Use Precompiled Header设置的是Create Precompiled Header (/Yc)，导致了这个重复定义
改成Use Precompiled Header (/Yu)就好了。
不过，最好的办法是，把这个工程删了，重建一个。。
编译了一个python的扩展程序，debug版本import没有问题，release版本报错：Bad magic number in *.pyc
这个问题可能的原因在于，我的Release工程使用Unicode进行编译，而python要求是多字节。
可是，我的程序没法编译成多字节。。。 
	</div>
</article><article class="list__item post">
	
	<header class="list__header">
		<h2 class="list__title post__title">
			<a href="/posts/442c6abe2d21bf6c4581d56a80bfb31a/" rel="bookmark">
			_read函数的一个陷阱
			</a>
		</h2>
		
	</header>
	<div class="content list__excerpt post__content clearfix">
		晚上用evhttp编了一个http服务器，请求静态文件的时候，发现半天没反应。
vs 2013的调试器也很奇怪，按个F10直接跳到下一个断点了。点击下断点的时候，提示“断点未能绑定”。后来，在网上搜到了解决办法：在 工具 -- 选项 -- 调试 -- 编辑并继续 里面 勾选启用本机“编辑并继续”。
解决了这个问题，就调试一步步跟踪吧。
代码中，先用open打开文件，然后调用evbuffer_add_file将文件内容拷贝到缓冲区。
贴上一段evbuffer_add_file的代码：
while (length) { read = evbuffer_readfile(tmp, fd, (ev_ssize_t)length); if (read == -1) { evbuffer_free(tmp); return (-1); } length -= read; } 这个length最初是用fstat函数计算出来的。 evbuffer_readfile里面调用的是read函数。
调试发现，直到read到文件末尾的时候，这个length还不为0。
疯了，微软的bug吗？ open、fstat、read都是crt函数，但是从read读取统计出的大小竟然跟fstat的大小不一样。。。
折腾了半天，写了下面一段代码，测试是不是真的有这个问题。
#include &lt;fcntl.h&gt; #include &lt;share.h&gt; #include &lt;io.h&gt; #include &lt;sys/stat.h&gt; #include &lt;sys/types.h&gt; int _tmain(int argc, _TCHAR* argv[]) { struct _stat buf; int fd; char buffer[1024]; _sopen_s(&amp;fd, "D:\\Code\\httpsvr\\Debug\\ReadMe.txt", O_RDONLY, _SH_DENYWR, 0); _fstat(fd, &amp;buf); int length = buf.
	</div>
	<div class="list__footer clearfix">
		<a class="list__footer-readmore btn" href="/posts/442c6abe2d21bf6c4581d56a80bfb31a/">Read more…</a>
	</div>
</article><article class="list__item post">
	
	<header class="list__header">
		<h2 class="list__title post__title">
			<a href="/posts/c8422308156c04a89ce731bb179a4880/" rel="bookmark">
			windows版tinyhttpd
			</a>
		</h2>
		
	</header>
	<div class="content list__excerpt post__content clearfix">
		单线程，同步阻塞的socket。去掉了cgi的功能，只处理静态文件请求，改了accept_request中的几处bug。
/* J. David's webserver */ /* This is a simple webserver. * Created November 1999 by J. David Blackstone. * CSE 4344 (Network concepts), Prof. Zeigler * University of Texas at Arlington */ /* This program compiles for Sparc Solaris 2.6. * To compile for Linux: * 1) Comment out the #include &lt;pthread.h&gt; line. * 2) Comment out the line that defines the variable newthread. * 3) Comment out the two lines that run pthread_create().
	</div>
	<div class="list__footer clearfix">
		<a class="list__footer-readmore btn" href="/posts/c8422308156c04a89ce731bb179a4880/">Read more…</a>
	</div>
</article><article class="list__item post">
	
	<header class="list__header">
		<h2 class="list__title post__title">
			<a href="/posts/45989083ea99ddc071f9aed08600a683/" rel="bookmark">
			在Linux环境下安装多处理器（SMP）核心
			</a>
		</h2>
		
	</header>
	<div class="content list__excerpt post__content clearfix">
		在Linux环境下安装多处理器（SMP）核心
很多高档PC服务器都支持多处理器，而linux作为服务器操作系统中的新贵因其丰富可用的免费资源在服务器上的应用也日益普及，怎样配置Linux使之有效利用多处理器服务器的优势呢？以下以Netfinity 5000加Red Hat Linux 6.2的环境为例介绍linux下关于多处理器的设置方法。
在Linux环境下，安装Linux多处理器核心有两种不同的情况：
情况一：
在安装时，系统已经拥有多个处理器，客户可以直接将Linux安装为多处理器核心。
具体步骤:
1、用Red Hat Linux 6.2光盘启动机器，在出现“boot:”键入“text”回车，进入文本安装模式。
2、在"Package Group Selection"窗口，根据需要按空格键选择或删除软件包时，如果我们想要加入多处理器时，需要选中下面的“Select individual packages”，选择OK继续。
3、在下面的另一个"Package Group Selection"窗口，从列表中找到并高亮"System Environment/Kernel"，按空格键展开。选择kernel-smp。
4、一旦选择成功，系统会自动安装SMP核心，并以该核心启动。在启动时，系统也可以以单处理器核心启动，客户只需在“boot:”后键入“linux-up”。
情况二：
在安装时，客户没有选择安装kernel-smp，系统会缺省安装为单处理器核心，用户可以通过添加多处理器核心模组，将系统升级。
具体步骤:
1、启动Red Hat Linux 6.2，以root身份登录，进入字符界面。
2、将光盘插入光驱，#mount /mnt/cdrom，将光驱挂载。
3、#cd /mnt/cdrom/Redhat/RPMS，进入模组所在路径。
4、#rpm --install kernel-smp-2.2.14-5.0.i386.rpm，加载多处理器（smp）模块。
5、#mkinitrd -v -f /boot/initrd-2.2.14-5.0smp.img 2.2.14-5.0smp，创建初始化程序。
6、#vi /etc/lilo.conf，添加多处理器启动选项，例如
image=/boot/vmlinuz-2.2.14-5.0smp
label=smp
initrd=/boot/initrd-2.2.14-5.0smp.img
read-only
root=/dev/sda2
7、#lilo -v，重新启动机器，在“boot:”出现后，键入“smp”回车，进入多处理器核心。
备注：
1、在第二种情况中，如果系统使用ServeRAID卡，客户需要在创建初始化程序前，添加对于smp的驱动程序。
2、对于第二种情况，客户也可以通过重新联接核心达到同样效果，但比较复杂，这里不再详细阐述。
30. 升级内核
为了确保内核的完整性和对它所支持的硬件的兼容性，Red Hat Linux 内核由 Red Hat 内核小组定制建构。在内核被 Red Hat 发行之前，它一定要通过一系列严格的质量保证测试。
Red Hat Linux 内核使用 RPM 格式打包，因而它们易于升级和校验。例如，由 Red Hat, Inc.
	</div>
	<div class="list__footer clearfix">
		<a class="list__footer-readmore btn" href="/posts/45989083ea99ddc071f9aed08600a683/">Read more…</a>
	</div>
</article><article class="list__item post">
	
	<header class="list__header">
		<h2 class="list__title post__title">
			<a href="/posts/2d239062d5ac90587f524c919230fc12/" rel="bookmark">
			windows下使用virtualenv进行多版本python共存
			</a>
		</h2>
		
	</header>
	<div class="content list__excerpt post__content clearfix">
		今天，想写个nodejs下载网页的脚本，打算用node-curl实现。
运行npm install node-curl的时候，编译的时候报错，提示不能用python3.4，只能用2.5~3.0之间的python。
网上说virtualenv能解决这种多版本python共存的问题，这么好的东西，赶紧下下来试试吧。
cd /d C:\Python34\Scripts easy_install virtualenv 装完了virtualenv，现在还另外一个版本的python，从官网上下了个2.7.9装上。 安装的时候保持默认选择就好了~~ 创建一个python27的虚拟环境
virtualenv -p C:\Python27\python.exe d:\code\win32help 激活该虚拟环境
cd /d D:\code\win32help cd Scripts activate.bat activate.bat脚本会设置控制台环境变量，使得该控制台以后调用的python命令会执行虚拟环境中的python
deactivate.bat是还原控制台环境变量设置。
	</div>
</article><article class="list__item post">
	
	<header class="list__header">
		<h2 class="list__title post__title">
			<a href="/posts/6400f129ada284d99d4c494b627f4f8d/" rel="bookmark">
			warning: missing braces around initializer
			</a>
		</h2>
		
	</header>
	<div class="content list__excerpt post__content clearfix">
		warning: missing braces around initializer 这主要发生在结构体中多维或多个数组初始化的时候，其错误发生的原因是没有用大括号明确的区分出初始化数据的归类，改正的方法如下例子
二维数组定义如下：
char s1[4][16] = { 14, 4,13, 1, 2,15,11, 8, 3,10, 6,12, 5, 9, 0, 7 ,
0,15, 7, 4,14, 2,13, 1,10, 6,12,11, 9, 5, 3, 8 ,
4, 1,14, 8,13, 6, 2,11,15,12, 9, 7, 3,10, 5, 0 ,
15,12, 8, 2, 4, 9, 1, 7, 5,11, 3,14,10, 0, 6,13 };
改为：
char s1[4][16] = { {14, 4,13, 1, 2,15,11, 8, 3,10, 6,12, 5, 9, 0, 7 },
	</div>
	<div class="list__footer clearfix">
		<a class="list__footer-readmore btn" href="/posts/6400f129ada284d99d4c494b627f4f8d/">Read more…</a>
	</div>
</article><article class="list__item post">
	
	<header class="list__header">
		<h2 class="list__title post__title">
			<a href="/posts/f1be171fea6c3097de92af3f02f631c0/" rel="bookmark">
			Windows Message 消息队列，消息循环，Post消息，Send消息
			</a>
		</h2>
		
	</header>
	<div class="content list__excerpt post__content clearfix">
		本文旨在说明一些概念性的东西：
MessageQueue
The system does not automatically create a messagequeue for each thread. Instead, the system creates a message queueonly for threads that performoperations which require a message queue.If the thread creates one or morewindows, a message loopmust beprovided; this message loop retrieves messages from the thread's message queueand dispatches them to the appropriate window procedures.
Thesystem maintains a single systemmessage queue and one thread-specific message queue for each graphical userinterface (GUI) thread.
	</div>
	<div class="list__footer clearfix">
		<a class="list__footer-readmore btn" href="/posts/f1be171fea6c3097de92af3f02f631c0/">Read more…</a>
	</div>
</article><article class="list__item post">
	
	<header class="list__header">
		<h2 class="list__title post__title">
			<a href="/posts/028c5c3bfcdfe637aac3f593b6da2b3c/" rel="bookmark">
			树莓派开机自动启动vncserver
			</a>
		</h2>
		
	</header>
	<div class="content list__excerpt post__content clearfix">
		linux启动时在init进程的最后会执行/etc/rc.local中的脚本,所以将启动命令添加至其中即可.
于是我在文件末尾 exit 0 之前添加了以下一行
/usr/bin/tightvncserver :1 可是不见执行.解决方法如下,一共添加3行:
export HOME="/root" export USER="root" /usr/bin/tightvncserver :1前面两行是程序所依赖的环境变量.这样一来,便以root身份创建了一个vncserver. 下面是博主的惨痛经历,觉得罗嗦就跳过吧!
由于对linux的不熟悉,我花了一整天才把vncserver塞到启动项里.
一开始根据百度到的方法,我只添了一行到rc.local里,死活不见启动,以为启动时并未执行这一脚本,便尝试将其放在其他地方.其中添加到/etc/profile中成功启动,可是cpu持续满载,ps x一查看,发现竟启动了25个vncserver!!不卡才怪!
后来在网上看到这个方法:使用 '&gt;' 符号将输出信息重定向,于是把那一行改为:
/usr/bin/tightvncserver :1 &gt; /tmp/temp.log 2&gt;&amp;1reboot,进入temp.log查看,输出信息为: no USER environment variable.
这说明rc.local里的脚本的确执行了,并且vncserver是因为缺少USER这个环境变量才无法启动.于是我在前面加了一行:
export USER="pi"reboot,cat /tmp/temp.log,输出信息为: you need a password to access the desktop
password:
明明设过密码的.根据前面的经验我又添加了其他环境变量进去,甚至一股脑地把export命令输出的环境变量全copy进去,结果都是这个错误:
wrong access or mode to entry /home/pi/.vnc.
已经很接近了为什么成功不了呢? 然后一次偶然执行top命令时我注意到init进程的user是root.于是我抱着试一试的心态把rc.local里user相关的环境变量都改成root.
reboot, cat /tmp/temp.log,输出信息为:
New 'X' desktop is raspberrypi:1
Starting applications specified in /root/.vnc/xstartup
Log file is /root/.
	</div>
	<div class="list__footer clearfix">
		<a class="list__footer-readmore btn" href="/posts/028c5c3bfcdfe637aac3f593b6da2b3c/">Read more…</a>
	</div>
</article><article class="list__item post">
	
	<header class="list__header">
		<h2 class="list__title post__title">
			<a href="/posts/1e1541dae213900d2fb370dd14f5d890/" rel="bookmark">
			C&#43;&#43;primer学习笔记《4》
			</a>
		</h2>
		
	</header>
	<div class="content list__excerpt post__content clearfix">
		每一个表达式都有一个结果，字面值常量也是表达式，其结果就是值本身。除了特殊用法外表达式的结果是右值。是左值的情况也有，比如++i;这个表达式就是一个左值；还有逗号运算符的结果是表达式最右侧操作符德值，如果最右是一个左值的话，那整个逗号表达式就是左值。
表达式涉及到操作符和操作数，操作符有优先级规则，有结合性，还有操作数的求值顺序。就操作数的求值顺序而言，比如f1() * f2();两个函数的返回值进行相乘，但无法确定先调用哪个函数。
操作符%成为“求余”或是“取模”，操作数为整型，其中bool类型也可以。
对于“%”和“/”这两个操作符来说。如果只有一个操作数为负数，那这两种操作的结果（这里仅指绝对值，不考虑符号）都是取决于机器的；取模运算的符号也是取决机器的；但除法操作的结果肯定是负数。举个例子：
21/ -5：依赖机器的，结果是-4或是-5
21% -5：依赖机器的，对应的结果是1或是-4
在逻辑表达式中，逻辑与和逻辑或总是先计算左操作数，再计算右操作数。只有在仅靠左操作数无法判断表达式结果时，才会求解器右操作数。我们称这种运算原则为“短路求值”。
相等测试与bool字面值。由于bool中的true可以转换为1，所以如何判断某值与true相等却成了难题。这里要考虑某值val的类型，如果val是bool类型的，那么正确的判断就是if ( val ) { … };即可。如果val不是bool类型，那判断就和if ( val ==1 ) {…};等价了；假如val是整型，那if ( val )则是当且仅当val为0时为逻辑假，其余的值，无论正负都是逻辑真。
位操作符的操作数是整型，这里的整型不仅可以是正整数，也可以是负整数。但对于负整数的符号位处理方式，不同的机器有着不同的实现，所以尽量使用无符号正整数来作为位运算的操作数。
位运算中的左移和右移操作原则。无符号来说，左移是数值扩大，右侧补0；右移是数值减小，左侧补0。对于有符号来说，其右移过程中，左侧可能是补0将其变成正数，也可能补1不改变其符号，这都依赖于机器。
Cout&lt;&lt;42 + 10;正确，因为+高于&lt;&lt;
Cout&lt;&lt;(10 &lt; 42);也正确，因为有括号
Cout&lt;&lt;10 &lt; 42;错误，因为&lt;&lt;高于关系运算符。Cout&lt;&lt;10之后返回一个ostream的引用，返回引用的目的是可以连续输出，达到流的效果。将一个ostream引用和42对比较是无意义的。
赋值操作的右结合性。
Intival, jval; ival = jval = 0;这是合法的。赋值运算符也有返回值，先执行jval= 0，返回一个整型再赋给ival。赋值运算符具有很低的优先级。
判等和赋值容易出错的地方。If ( i = 42 )这句话实际上是对的，字面解释是把42赋给i，然后判断i的真或假。但这显然是无意义的，这句代码像是被写错的，原意是if ( i== 42 )。为了能避免这样的隐蔽错误，可以写成if ( 42 == i)这样一来，假如少写了个“=”if( 42 = i )就是编译错误，可以及时发现。
关于如何交换两个数的值.
算术方法：a = a + b; b = a – b; a = a – b;
	</div>
	<div class="list__footer clearfix">
		<a class="list__footer-readmore btn" href="/posts/1e1541dae213900d2fb370dd14f5d890/">Read more…</a>
	</div>
</article><article class="list__item post">
	
	<header class="list__header">
		<h2 class="list__title post__title">
			<a href="/posts/6fb28dda25e6c0824d6089eaa7d5bfca/" rel="bookmark">
			数字图像处理，经典对比度增强算法
			</a>
		</h2>
		
	</header>
	<div class="content list__excerpt post__content clearfix">
		关于图像增强必须清楚的基本概念 1.图像增强的目的：
1）改善图像的视觉效果，
2）转换为更适合于人或机器分析处理的形式
3）突出对人或机器分析有意义的信息
4）抑制无用信息，提高图像的使用价值
5）增强后的图像并不一定保真
2，图像增强的方法分类：
1）从处理对象分类：灰度图像，（伪）彩色图像
2）从处理策略分类：全局处理，局部处理（ROI ROI，Region of Interest Interest）
3）从处理方法分类：空间域（点域运算，即灰度变换；邻域方法，即空域滤波），频域方法
4）从处理目的分类：图像锐化，平滑去噪，灰度调整（对比度增强）
3，图像增强的方法之对比度增强
1）灰度变换法
线性变换（已实现）
对数变换（已实现）
指数变换（已实现）
2）直方图调整法
直方图均衡化（已实现）
直方图匹配（未实现）
一，直方图均衡化 直方图均衡化的英文名称是Histogram Equalization. 图像对比度增强的方法可以分成两类:一类是直接对比度增强方法;另一类是间接对比度增强方法。直方图拉伸和直方图均衡化是两种最常见的间接对比度增强方法。直方图拉伸是通过对比度拉伸对直方图进行调整，从而“扩大”前景和背景灰度的差别，以达到增强对比度的目的，这种方法可以利用线性或非线性的方法来实现;直方图均衡化则通过使用累积函数对灰度值进行“调整”以实现对比度的增强。 直方图均衡化处理的“中心思想”是把原始图像的灰度直方图从比较集中的某个灰度区间变成在全部灰度范围内的均匀分布。直方图均衡化就是对图像进行非线性拉伸，重新分配图像像素值，使一定灰度范围内的像素数量大致相同。直方图均衡化就是把给定图像的直方图分布改变成“均匀”分布直方图分布。 缺点： 1）变换后图像的灰度级减少，某些细节消失； 2）某些图像，如直方图有高峰，经处理后对比度不自然的过分增强。 直方图均衡化是图像处理领域中利用图像直方图对对比度进行调整的方法。 这种方法通常用来增加许多图像的局部对比度，尤其是当图像的有用数据的对比度相当接近的时候。通过这种方法，亮度可以更好地在直方图上分布。这样就可以用于增强局部的对比度而不影响整体的对比度，直方图均衡化通过有效地扩展常用的亮度来实现这种功能。 这种方法对于背景和前景都太亮或者太暗的图像非常有用，这种方法尤其是可以带来X光图像中更好的骨骼结构显示以及曝光过度或者曝光不足照片中更好的细节。这种方法的一个主要优势是它是一个相当直观的技术并且是可逆操作，如果已知均衡化函数，那么就可以恢复原始的直方图，并且计算量也不大。这种方法的一个缺点是它对处理的数据不加选择，它可能会增加背景杂讯的对比度并且降低有用信号的对比度。 关于编程实现，同样是不调用matlab库函数，自己编程实现。这样可以更深刻地理解直方图均衡化技术，提高编程能力。
实现代码（matlab）：
clc; close all; clear all; src_img = imread('flyman_gray.bmp'); figure (1) subplot(321),imshow(src_img),title('原图像');%显示原始图像 subplot(322),imhist(src_img),title('原图像直方图');%显示原始图像直方图 matlab_eq=histeq(src_img); %利用matlab的函数直方图均衡化 subplot(323),imshow(matlab_eq),title('matlab直方图均衡化原图像');%显示原始图像 subplot(324),imhist(matlab_eq),title('matlab均衡化后的直方图');%显示原始图像直方图 dst_img=myHE(src_img); %利用自己写的函数直方图均衡化 subplot(325),imshow(dst_img),title('手写均衡化效果');%显示原始图像 subplot(326),imhist(dst_img),title('手写均衡化直方图');%显示原始图像直方图 直方图均衡化函数的实现：
function dst_img=myHE(src_img) [height,width] = size(src_img); dst_img=uint8(zeros(height,width)); %进行像素灰度统计; NumPixel = zeros(1,256);%统计各灰度数目，共256个灰度级 for i = 1:height for j = 1: width NumPixel(src_img(i,j) + 1) = NumPixel(src_img(i,j) + 1) + 1;%对应灰度值像素点数量增加一 end end %计算灰度分布密度 ProbPixel = zeros(1,256); for i = 1:256 ProbPixel(i) = NumPixel(i) / (height * width * 1.
	</div>
	<div class="list__footer clearfix">
		<a class="list__footer-readmore btn" href="/posts/6fb28dda25e6c0824d6089eaa7d5bfca/">Read more…</a>
	</div>
</article><article class="list__item post">
	
	<header class="list__header">
		<h2 class="list__title post__title">
			<a href="/posts/ccce42a259a7142951d30b19f7828fe5/" rel="bookmark">
			《超级玛丽》3
			</a>
		</h2>
		
	</header>
	<div class="content list__excerpt post__content clearfix">
		﻿﻿ 第三阶段：
目标：实现水平方向和竖直方向上的碰撞，更具有真实感。
1：要想解决水平方向的碰撞，就要先明确一个问题，地图上的哪些东西是不可以穿过的，也就是说要先定义好地图上的某些可供碰撞检测的物体砖块类型。如图：
水平检测函数的开头准备工作：
为了简化水平方向的检测，由于马里奥的锚点是中心位置，所以左右两边的检测都是采用左边和右边的中点位置来代替的。在图中的两个条件判断是为了检测马里奥是否迟到了变大蘑菇和奖人蘑菇。
上图中的倒数第三句是做GL坐标和砖块坐标的转换，这个很重要，因为游戏采用的是GL坐标系，但TMX地图中采用的是砖块坐标，要将马里奥在游戏中的坐标转换成砖块坐标，然后再通过上图中的最后一句求出当前砖块坐标下的砖块类型，并做开关语句的判断：
在上图中可以看到哪些砖块是接受水平方向碰撞检测的，哪些是不用的。当遇到障碍物时，虽然马里奥有行走动画，但是位置不能移动，一直停留在障碍物的前面。
以上展示的全部是马里奥右侧的检测过程，左侧和右侧同理。
2：竖直方向上的碰撞检测实现，以及站在地图梯子上的左右平移和跳跃不跟随实现：
竖直方向上的检测函数的开头：
第一个条件句马里奥掉入了陷阱里，就死亡，不必进行下面的检测。第二个条件句是控制马里奥的头顶不出地图区域。
游戏中马里奥在竖直方向上要能够踩砖块的边缘，如图：
这种效果就不能一股脑的用马里奥的脚下中点作为检测点了，应该把检测的代码放到一个循环里，从马里奥的左下角到右下角，如果发现可以站立，那么就可以站立，退出循环。其余的部分和水平方向上的是一直的。
竖直方向上的检测有马里奥落地检测和向上跳跃时头顶到砖块落下的检测之分，上图中的是后者情况区别是当前的JumpOfffset正负号，当JumpOffset为正，说明马里奥在起跳阶段，反之就在下落阶段。
马里奥的下落检测和上面的没什么区别。
最后是马里奥站在梯子上的检测以及跟随梯子移动。因为梯子是通过地图摆放对象的方式实现的，在CCGameLayer中有一个梯子的数组，里面存储了所有的梯子，梯子有上下移动或是左右移动的移动分量数值，还有梯子的长度数值，因为梯子都是安放在腾空的地方，所以马里奥不可能头顶到梯子，所以梯子的检测只有马里奥下落的情况。在update函数里的关于检测梯子的代码片段：
	</div>
</article><article class="list__item post">
	
	<header class="list__header">
		<h2 class="list__title post__title">
			<a href="/posts/dd37134f95a3e463f9ed4c8a433326ea/" rel="bookmark">
			web前段开发工程师如何修成正果？
			</a>
		</h2>
		
	</header>
	<div class="content list__excerpt post__content clearfix">
		web前段开发工程师如何修成正果？
答：要，会以下神功！
网站设计+切图+基本的JS应用+Jquery+数据库+PHP建立后台管理系统
上述武功如何修炼？
答：自学或拜师。
有没有速成的秘诀？
答：视频教程观之，学之。
秘籍在哪儿？
答：下载地址：http://pan.baidu.com/s/1pJ0mSWF 密码: dm5l
出师后能干翻哪些东东？
答：能秒了下面的这些魑魅魍魉。
转载于:https://blog.51cto.com/8922328/1436888
	</div>
</article>
</main>

<div class="pagination">
	<a class="pagination__item pagination__item--prev btn" href="/page/122/">«</a>
	<span class="pagination__item pagination__item--current">123/128</span>
	<a class="pagination__item pagination__item--next btn" href="/page/124/">»</a>
</div>

			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 追风少年的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>