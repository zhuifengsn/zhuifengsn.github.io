<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>iOS中 超简单抽屉效果（MMDrawerController）的实现 - 追风少年的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="iOS中 超简单抽屉效果（MMDrawerController）的实现" />
<meta property="og:description" content="iOS中 超简单抽屉效果（MMDrawerController）的实现 ios开发中，展示类应用通常要用到抽屉效果，由于项目需要，本人找到一个demo,缩减掉一些不常用的功能，整理出一个较短的实例。 首先需要给工程添加第三方类库 MMDrawerController： 这里讲的实例只加入了左滑抽屉。右滑和左滑只是初始化时多添加一个右视图控制器，其他方法基本相同。 下面是用手势实现抽屉的拉出和收回 1.初始化跟视图控制器时，在AppDelegate中导入头文件 #import &#34;MMDrawerController.h&#34; 2.初始化方法先初始化左视图和中心视图，也就是图中的 BoutiqueCollectionViewController LeftDrawerTableViewController 3.初始化完两个子视图控制器后，初始化抽屉根视图控制器MMDrawerController，初始化抽屉控制器时需要将左视图控制器和中心视图控制器添加到抽屉视图控制器上。 //CollectionView的样式 UICollectionViewFlowLayout * flowLayout = [[UICollectionViewFlowLayout alloc] init]; //初始化中心视图 BoutiqueCollectionViewController * boutiqueCVC = [[BoutiqueCollectionViewController alloc] initWithCollectionViewLayout:flowLayout]; boutiqueCVC.collectionView.backgroundColor = [UIColor whiteColor]; UINavigationController * boutiqueNC = [[UINavigationController alloc] initWithRootViewController:boutiqueCVC]; //初始化左视图 LeftDrawerTableViewController * leftTVC = [[LeftDrawerTableViewController alloc] init]; UINavigationController * leftNC = [[UINavigationController alloc] initWithRootViewController:leftTVC]; //初始化抽屉视图控制器 MMDrawerController * drawerController = [[MMDrawerController alloc] initWithCenterViewController:boutiqueNC leftDrawerViewController:leftNC]; //设置抽屉抽出的宽度 drawerController.maximumLeftDrawerWidth = 200; 4." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://zhuifengsn.github.io/posts/9a1ec64b3e52669403458530d0c9f859/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2016-04-10T12:37:27+08:00" />
<meta property="article:modified_time" content="2016-04-10T12:37:27+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="追风少年的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">追风少年的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">iOS中 超简单抽屉效果（MMDrawerController）的实现</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div class="article_title" style="margin:5px 0px; font-size:20px; line-height:30px; font-family:'Microsoft YaHei'">
    
 <h2 style="margin:0px; padding:0px; display:inline; font-weight:normal; font-size:20px; line-height:30px; vertical-align:middle"> <span class="link_title"><a target="_blank" href="http://blog.csdn.net/qq_31810357/article/details/49443457" style="color:rgb(0,0,0); text-decoration:none" rel="noopener noreferrer">iOS中 超简单抽屉效果（MMDrawerController）的实现 </a></span></h2> 
</div> 
<div class="article_manage clearfix" style="padding:0px 20px 5px; color:rgb(153,153,153); line-height:22px; font-family:Arial; text-align:right; border-bottom-style:solid; border-bottom-width:1px; border-bottom-color:rgb(237,237,237); margin:0px -20px; overflow:hidden"> 
 <br> 
</div> 
<div id="article_content" class="article_content" style="margin:20px 0px 0px; font-size:14px; line-height:26px; font-family:Arial"> 
 <div style="font-family:'Microsoft YaHei'"> 
  <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(63,63,63)"> ios开发中，展示类应用通常要用到抽屉效果，由于项目需要，本人找到一个demo,缩减掉一些不常用的功能，整理出一个较短的实例。<br style="padding:0px"> 首先需要给工程添加第三方类库 </p> 
  <div style="padding:0px"> 
   <span style="color:rgb(63,63,63)">MMDrawerController：</span> 
   <br> 
   <span style="color:rgb(63,63,63)">这里讲的实例只加入了左滑抽屉。右滑和左滑只是初始化时多添加一个右视图控制器，其他方法基本相同。</span> 
   <br style="padding:0px"> 
   <br style="padding:0px"> 
   <span style="color:rgb(63,63,63); padding:0px; font-size:18px"><span style="padding:0px; font-size:20px">下面是用手势实现抽屉的拉出和收回</span><br style="padding:0px"> </span> 
   <br style="padding:0px"> 
   <span style="color:rgb(63,63,63)">1.初始化跟视图控制器时，在AppDelegate中导入头文件</span> 
   <br style="padding:0px"> 
   <br style="padding:0px"> 
   <span style="color:rgb(255,0,0)">#import "MMDrawerController.h"</span> 
   <br style="padding:0px"> 
   <br style="padding:0px"> 
   <span style="color:rgb(63,63,63)">2.初始化方法先初始化左视图和中心视图，也就是图中的</span> 
   <br style="padding:0px"> 
   <br style="padding:0px"> 
   <span style="color:rgb(255,0,0)">BoutiqueCollectionViewController<br style="padding:0px"> <br style="padding:0px"> LeftDrawerTableViewController</span> 
   <br style="padding:0px"> 
   <br style="padding:0px"> 
   <span style="color:rgb(63,63,63)">3.初始化完两个子视图控制器后，初始化抽屉根视图控制器MMDrawerController，初始化抽屉控制器时需要将左视图控制器和中心视图控制器添加到抽屉视图控制器上。</span> 
   <br style="padding:0px"> 
   <br style="padding:0px"> 
   <span style="color:rgb(63,63,63)">    //CollectionView的样式</span> 
   <br style="padding:0px"> 
   <span style="color:rgb(255,0,0)">    UICollectionViewFlowLayout * flowLayout = [[UICollectionViewFlowLayout alloc] init];</span> 
   <br style="padding:0px"> 
   <br style="padding:0px"> 
   <span style="color:rgb(63,63,63)">    //初始化中心视图</span> 
   <br style="padding:0px"> 
   <span style="color:rgb(255,0,0)">    BoutiqueCollectionViewController * boutiqueCVC = [[BoutiqueCollectionViewController alloc] initWithCollectionViewLayout:flowLayout];<br style="padding:0px">     boutiqueCVC.collectionView.backgroundColor = [UIColor whiteColor];<br style="padding:0px">     UINavigationController * boutiqueNC = [[UINavigationController alloc] initWithRootViewController:boutiqueCVC];</span> 
   <br style="padding:0px"> 
   <br style="padding:0px"> 
   <span style="color:rgb(63,63,63)">    //初始化左视图</span> 
   <br style="padding:0px"> 
   <span style="color:rgb(255,0,0)">    LeftDrawerTableViewController * leftTVC = [[LeftDrawerTableViewController alloc] init];<br style="padding:0px">     UINavigationController * leftNC = [[UINavigationController alloc] initWithRootViewController:leftTVC];</span> 
   <br style="padding:0px"> 
   <br style="padding:0px"> 
   <span style="color:rgb(51,51,255)">    //初始化抽屉视图<span style="padding:0px"><a target="_blank" href="http://cpro.baidu.com/cpro/ui/uijs.php?adclass=0&amp;app_id=0&amp;c=news&amp;cf=43&amp;ch=0&amp;di=128&amp;fv=19&amp;is_app=0&amp;jk=a3d702b0607af8f3&amp;k=%BF%D8%D6%C6%C6%F7&amp;k0=%BF%D8%D6%C6%C6%F7&amp;kdi0=0&amp;luki=3&amp;n=10&amp;p=baidu&amp;q=65035100_cpr&amp;rb=0&amp;rs=1&amp;seller_id=1&amp;sid=f3f87a60b002d7a3&amp;ssp2=1&amp;stid=0&amp;t=tpclicked3_hc&amp;td=1836545&amp;tu=u1836545&amp;u=http%3A%2F%2Fwww%2Ebubuko%2Ecom%2Finfodetail%2D919706%2Ehtml&amp;urlid=0" rel="nofollow noopener noreferrer" name="3_nwl" style="color:rgb(202,0,0); text-decoration:none; padding:0px"><span style="padding:0px">控制器</span></a></span></span> 
   <br style="padding:0px"> 
   <span style="color:rgb(255,0,0)">    MMDrawerController * drawerController = [[MMDrawerController alloc] initWithCenterViewController:boutiqueNC leftDrawerViewController:leftNC];</span> 
   <br style="padding:0px"> 
   <br style="padding:0px"> 
   <span style="color:rgb(51,51,255)">    //设置抽屉抽出的<span style="padding:0px"><a target="_blank" href="http://cpro.baidu.com/cpro/ui/uijs.php?adclass=0&amp;app_id=0&amp;c=news&amp;cf=43&amp;ch=0&amp;di=128&amp;fv=19&amp;is_app=0&amp;jk=a3d702b0607af8f3&amp;k=%BF%ED%B6%C8&amp;k0=%BF%ED%B6%C8&amp;kdi0=0&amp;luki=1&amp;n=10&amp;p=baidu&amp;q=65035100_cpr&amp;rb=0&amp;rs=1&amp;seller_id=1&amp;sid=f3f87a60b002d7a3&amp;ssp2=1&amp;stid=0&amp;t=tpclicked3_hc&amp;td=1836545&amp;tu=u1836545&amp;u=http%3A%2F%2Fwww%2Ebubuko%2Ecom%2Finfodetail%2D919706%2Ehtml&amp;urlid=0" rel="nofollow noopener noreferrer" name="2_nwl" style="color:rgb(202,0,0); text-decoration:none; padding:0px"><span style="padding:0px">宽度</span></a></span><br style="padding:0px"> </span> 
   <span style="color:rgb(63,63,63)">    drawerController.maximumLeftDrawerWidth = 200;</span> 
   <br style="padding:0px"> 
   <br style="padding:0px"> 
   <span style="color:rgb(63,63,63)">4.初始化完成之后添加滑动手势，通过滑动手势拉出和收回抽屉。手势封装在第三方类库中，程序如下。</span> 
   <br style="padding:0px"> 
   <br style="padding:0px"> 
   <span style="color:rgb(63,63,63)">    //滑动手势快关抽屉</span> 
   <br style="padding:0px"> 
   <span style="color:rgb(255,0,0)">    [drawerController setOpenDrawerGestureModeMask:MMOpenDrawerGestureModeAll];<br style="padding:0px">     [drawerController setCloseDrawerGestureModeMask:MMCloseDrawerGestureModeAll];</span> 
   <br style="padding:0px"> 
   <br style="padding:0px"> 
   <span style="color:rgb(63,63,63)">    self.window.rootViewController = drawerController;</span> 
   <br style="padding:0px"> 
   <br style="padding:0px"> 
   <span style="color:rgb(63,63,63)">到此，将抽屉根视图控制器添加到window的根视图控制器上，运行程序，就可以实现用手势来控制抽屉的拉出和收回。</span> 
   <br style="padding:0px"> 
   <br style="padding:0px"> 
   <br style="padding:0px"> 
   <span style="color:rgb(63,63,63); padding:0px; font-size:20px"><br style="padding:0px"> 如果需要用按钮控制拉出和收回抽屉，需要加上下面的部分。</span> 
   <br style="padding:0px"> 
   <br style="padding:0px"> 
   <span style="color:rgb(51,51,255)">1.在中心视图<span style="padding:0px"><a target="_blank" href="http://cpro.baidu.com/cpro/ui/uijs.php?adclass=0&amp;app_id=0&amp;c=news&amp;cf=43&amp;ch=0&amp;di=128&amp;fv=19&amp;is_app=0&amp;jk=a3d702b0607af8f3&amp;k=%BF%D8%D6%C6%C6%F7&amp;k0=%BF%D8%D6%C6%C6%F7&amp;kdi0=0&amp;luki=3&amp;n=10&amp;p=baidu&amp;q=65035100_cpr&amp;rb=0&amp;rs=1&amp;seller_id=1&amp;sid=f3f87a60b002d7a3&amp;ssp2=1&amp;stid=0&amp;t=tpclicked3_hc&amp;td=1836545&amp;tu=u1836545&amp;u=http%3A%2F%2Fwww%2Ebubuko%2Ecom%2Finfodetail%2D919706%2Ehtml&amp;urlid=0" rel="nofollow noopener noreferrer" name="1_nwl" style="color:rgb(202,0,0); text-decoration:none; padding:0px"><span style="padding:0px">控制器</span></a></span>中添加头文件</span> 
   <br style="padding:0px"> 
   <br style="padding:0px"> 
   <span style="color:rgb(63,63,63)">#import "UIViewController+MMDrawerController.h"//第三方封装的头文件</span> 
   <br style="padding:0px"> 
   <span style="color:rgb(63,63,63)">#import "MMDrawerBarButtonItem.h"//第三方封装的头文件</span> 
   <br style="padding:0px"> 
   <span style="color:rgb(63,63,63)">#import "LeftDrawerTableViewController.h"、、左视图头文件</span> 
   <br style="padding:0px"> 
   <br style="padding:0px"> 
   <span style="color:rgb(63,63,63)">2.在viewDidLoad中实现添加左抽屉控制按钮的方法</span> 
   <br style="padding:0px"> 
   <br style="padding:0px"> 
   <span style="color:rgb(63,63,63)">[self setupLeftMenuButton];</span> 
   <span style="color:rgb(51,102,255)">//在viewDidLoad中实现添加左抽屉<span style="padding:0px"><a target="_blank" href="http://cpro.baidu.com/cpro/ui/uijs.php?adclass=0&amp;app_id=0&amp;c=news&amp;cf=43&amp;ch=0&amp;di=128&amp;fv=19&amp;is_app=0&amp;jk=a3d702b0607af8f3&amp;k=%BF%D8%D6%C6%B0%B4%C5%A5&amp;k0=%BF%D8%D6%C6%B0%B4%C5%A5&amp;kdi0=0&amp;luki=2&amp;n=10&amp;p=baidu&amp;q=65035100_cpr&amp;rb=0&amp;rs=1&amp;seller_id=1&amp;sid=f3f87a60b002d7a3&amp;ssp2=1&amp;stid=0&amp;t=tpclicked3_hc&amp;td=1836545&amp;tu=u1836545&amp;u=http%3A%2F%2Fwww%2Ebubuko%2Ecom%2Finfodetail%2D919706%2Ehtml&amp;urlid=0" rel="nofollow noopener noreferrer" name="0_nwl" style="color:rgb(202,0,0); text-decoration:none; padding:0px"><span style="padding:0px">控制按钮</span></a></span>的方法</span> 
   <br style="padding:0px"> 
   <br style="padding:0px"> 
   <span style="color:rgb(63,63,63)">3.在下面实现添加按钮的方法</span> 
   <br style="padding:0px"> 
   <br style="padding:0px"> 
   <span style="color:rgb(63,63,63)">-(void)setupLeftMenuButton</span> 
   <br style="padding:0px"> 
   <span style="color:rgb(63,63,63)">{<!-- --></span> 
   <br style="padding:0px"> 
   <span style="color:rgb(63,63,63)">    //创建按钮</span> 
   <br style="padding:0px"> 
   <span style="color:rgb(63,63,63)">    MMDrawerBarButtonItem * leftDrawerButton = [[MMDrawerBarButtonItem alloc] initWithTarget:self action:@selector(leftDrawerButtonPress:)];</span> 
  </div> 
  <div style="padding:0px"> 
   <span style="color:rgb(255,0,0)"><br style="padding:0px"> </span> 
   <br style="padding:0px"> 
   <span style="color:rgb(63,63,63)">     //为navigationItem添加LeftBarButtonItem</span> 
   <br style="padding:0px"> 
   <span style="color:rgb(63,63,63)">    [self.navigationItem setLeftBarButtonItem:leftDrawerButton animated:YES];</span> 
   <br style="padding:0px"> 
   <span style="color:rgb(63,63,63)">}</span> 
   <br style="padding:0px"> 
   <br style="padding:0px"> 
   <span style="color:rgb(63,63,63)">4.在下面实现抽屉按钮的动作方法。</span> 
   <br style="padding:0px"> 
   <br style="padding:0px"> 
   <span style="color:rgb(63,63,63)">//抽屉按钮动作</span> 
   <br style="padding:0px"> 
   <span style="color:rgb(63,63,63)">-(void)leftDrawerButtonPress:(id)sender</span> 
   <br style="padding:0px"> 
   <span style="color:rgb(63,63,63)">{<!-- --></span> 
   <br style="padding:0px"> 
   <span style="color:rgb(63,63,63)">    //开关左抽屉</span> 
   <br style="padding:0px"> 
   <span style="color:rgb(63,63,63)">    [self.mm_drawerController toggleDrawerSide:MMDrawerSideLeft animated:YES completion:nil];</span> 
   <br style="padding:0px"> 
   <span style="color:rgb(63,63,63)">}</span> 
  </div> 
  <div style="padding:0px; color:rgb(63,63,63)"> 
   <span style="color:rgb(255,0,0)">效果展示:</span> 
   <br> 
  </div> 
  <div style="padding:0px; color:rgb(63,63,63)"> 
   <span style="color:rgb(255,0,0)"><img src="https://images2.imgbox.com/f7/24/2DgwEQkp_o.gif" alt="" style="border:none; max-width:100%"><br> </span> 
  </div> 
  <div> 
   <span style="color:rgb(255,0,0)"><br> </span> 
  </div> 
 </div> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/52ef0462e1f4956bce4e40474820d22c/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">ApplePay高调入华，教你在app里上线ApplePay</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/ac4a06fb3c4700c244d7090a9bbe28f4/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">vnc服务器的搭建</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 追风少年的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>