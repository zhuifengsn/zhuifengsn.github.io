<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>关于Vue数组，对象数据变化无法更新到视图问题 - 追风少年的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="关于Vue数组，对象数据变化无法更新到视图问题" />
<meta property="og:description" content="问题原因：Vue 异步执行 DOM 更新。只要观察到数据变化，Vue 将开启一个队列，并缓冲在同一事件循环中发生的所有数据改变。如果同一个 watcher 被多次触发，只会被推入到队列中一次。
数组详解
数组数据变动，使用某些方法操作数组，变动数据时，有些方法无法被vue监测
push()，pop()，splice()，sort()，reverse()可被vue检测到
filter(), concat(), slice()。这些不会改变原始数组，但总是返回一个新数组。当使用非变异方法时，可以用新数组替换旧数组
解决方法
一、使用官方推荐
this. s e t ( a r r ∣ o b j , i n d e x ∣ k e y , v a l u e ) t h i s . set( arr | obj , index | key, value ) this. set(arr∣obj,index∣key,value)this.delete(arr | obj , index | key)
二、vue多层循环，动态数据改变后渲染很慢或者不渲染
尝试在方法第一行加上" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://zhuifengsn.github.io/posts/87646260d2b888abea82e60ec6a1c15a/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-05-19T09:56:16+08:00" />
<meta property="article:modified_time" content="2022-05-19T09:56:16+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="追风少年的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">追风少年的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">关于Vue数组，对象数据变化无法更新到视图问题</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>问题原因：Vue 异步执行 DOM 更新。只要观察到数据变化，Vue 将开启一个队列，并缓冲在同一事件循环中发生的所有数据改变。如果同一个 watcher 被多次触发，只会被推入到队列中一次。</p> 
<p>数组详解<br> 数组数据变动，使用某些方法操作数组，变动数据时，有些方法无法被vue监测<br> push()，pop()，splice()，sort()，reverse()可被vue检测到<br> filter(), concat(), slice()。这些不会改变原始数组，但总是返回一个新数组。当使用非变异方法时，可以用新数组替换旧数组</p> 
<p>解决方法<br> 一、使用官方推荐<br> this.<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         s 
        
       
         e 
        
       
         t 
        
       
         ( 
        
       
         a 
        
       
         r 
        
       
         r 
        
       
         ∣ 
        
       
         o 
        
       
         b 
        
       
         j 
        
       
         , 
        
       
         i 
        
       
         n 
        
       
         d 
        
       
         e 
        
       
         x 
        
       
         ∣ 
        
       
         k 
        
       
         e 
        
       
         y 
        
       
         , 
        
       
         v 
        
       
         a 
        
       
         l 
        
       
         u 
        
       
         e 
        
       
         ) 
        
       
         t 
        
       
         h 
        
       
         i 
        
       
         s 
        
       
         . 
        
       
      
        set( arr | obj , index | key, value ) this. 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">s</span><span class="mord mathdefault">e</span><span class="mord mathdefault">t</span><span class="mopen">(</span><span class="mord mathdefault">a</span><span class="mord mathdefault" style="margin-right: 0.02778em;">r</span><span class="mord mathdefault" style="margin-right: 0.02778em;">r</span><span class="mord">∣</span><span class="mord mathdefault">o</span><span class="mord mathdefault">b</span><span class="mord mathdefault" style="margin-right: 0.05724em;">j</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mord mathdefault">d</span><span class="mord mathdefault">e</span><span class="mord mathdefault">x</span><span class="mord">∣</span><span class="mord mathdefault" style="margin-right: 0.03148em;">k</span><span class="mord mathdefault">e</span><span class="mord mathdefault" style="margin-right: 0.03588em;">y</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord mathdefault" style="margin-right: 0.03588em;">v</span><span class="mord mathdefault">a</span><span class="mord mathdefault" style="margin-right: 0.01968em;">l</span><span class="mord mathdefault">u</span><span class="mord mathdefault">e</span><span class="mclose">)</span><span class="mord mathdefault">t</span><span class="mord mathdefault">h</span><span class="mord mathdefault">i</span><span class="mord mathdefault">s</span><span class="mord">.</span></span></span></span></span>delete(arr | obj , index | key)<br> 二、vue多层循环，动态数据改变后渲染很慢或者不渲染<br> 尝试在方法第一行加上</p> 
<pre><code class="prism language-javascript"><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$forceUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>三、<br> 尝试使用watch监听或者computed来处理<br> 四、Object.assgin()操作对象可以<br> 五、this.<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         n 
        
       
         e 
        
       
         x 
        
       
         t 
        
       
         T 
        
       
         i 
        
       
         c 
        
       
         k 
        
       
         ( 
        
       
         c 
        
       
         a 
        
       
         l 
        
       
         l 
        
       
         b 
        
       
         a 
        
       
         c 
        
       
         k 
        
       
         ) 
        
       
         这 
        
       
         个 
        
       
         函 
        
       
         数 
        
       
         可 
        
       
         以 
        
       
         获 
        
       
         取 
        
       
         D 
        
       
         o 
        
       
         m 
        
       
         更 
        
       
         新 
        
       
         后 
        
       
         的 
        
       
         数 
        
       
         据 
        
       
         ， 
        
       
         因 
        
       
         为 
        
       
         D 
        
       
         o 
        
       
         m 
        
       
         更 
        
       
         新 
        
       
         是 
        
       
         异 
        
       
         步 
        
       
         的 
        
       
         ， 
        
       
         异 
        
       
         步 
        
       
         函 
        
       
         数 
        
       
         执 
        
       
         行 
        
       
         完 
        
       
         成 
        
       
         之 
        
       
         后 
        
       
         就 
        
       
         会 
        
       
         调 
        
       
         用 
        
       
      
        nextTick(callback) 这个函数可以获取Dom更新后的数据，因为Dom更新是异步的，异步函数执行完成之后就会调用 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">n</span><span class="mord mathdefault">e</span><span class="mord mathdefault">x</span><span class="mord mathdefault">t</span><span class="mord mathdefault" style="margin-right: 0.13889em;">T</span><span class="mord mathdefault">i</span><span class="mord mathdefault">c</span><span class="mord mathdefault" style="margin-right: 0.03148em;">k</span><span class="mopen">(</span><span class="mord mathdefault">c</span><span class="mord mathdefault">a</span><span class="mord mathdefault" style="margin-right: 0.01968em;">l</span><span class="mord mathdefault" style="margin-right: 0.01968em;">l</span><span class="mord mathdefault">b</span><span class="mord mathdefault">a</span><span class="mord mathdefault">c</span><span class="mord mathdefault" style="margin-right: 0.03148em;">k</span><span class="mclose">)</span><span class="mord cjk_fallback">这</span><span class="mord cjk_fallback">个</span><span class="mord cjk_fallback">函</span><span class="mord cjk_fallback">数</span><span class="mord cjk_fallback">可</span><span class="mord cjk_fallback">以</span><span class="mord cjk_fallback">获</span><span class="mord cjk_fallback">取</span><span class="mord mathdefault" style="margin-right: 0.02778em;">D</span><span class="mord mathdefault">o</span><span class="mord mathdefault">m</span><span class="mord cjk_fallback">更</span><span class="mord cjk_fallback">新</span><span class="mord cjk_fallback">后</span><span class="mord cjk_fallback">的</span><span class="mord cjk_fallback">数</span><span class="mord cjk_fallback">据</span><span class="mord cjk_fallback">，</span><span class="mord cjk_fallback">因</span><span class="mord cjk_fallback">为</span><span class="mord mathdefault" style="margin-right: 0.02778em;">D</span><span class="mord mathdefault">o</span><span class="mord mathdefault">m</span><span class="mord cjk_fallback">更</span><span class="mord cjk_fallback">新</span><span class="mord cjk_fallback">是</span><span class="mord cjk_fallback">异</span><span class="mord cjk_fallback">步</span><span class="mord cjk_fallback">的</span><span class="mord cjk_fallback">，</span><span class="mord cjk_fallback">异</span><span class="mord cjk_fallback">步</span><span class="mord cjk_fallback">函</span><span class="mord cjk_fallback">数</span><span class="mord cjk_fallback">执</span><span class="mord cjk_fallback">行</span><span class="mord cjk_fallback">完</span><span class="mord cjk_fallback">成</span><span class="mord cjk_fallback">之</span><span class="mord cjk_fallback">后</span><span class="mord cjk_fallback">就</span><span class="mord cjk_fallback">会</span><span class="mord cjk_fallback">调</span><span class="mord cjk_fallback">用</span></span></span></span></span>nextTick()</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/c5346ae7639326c99ccb0a96973dc445/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">java json字符串转map 字段顺序错乱问题</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/0dd3a38bf127cbd3164057b4ebfa253f/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Mybatis&#43;Collection一对多表查询踩坑</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 追风少年的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>