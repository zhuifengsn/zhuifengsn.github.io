<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【浙江大学 C&#43;&#43; 翁恺老师】学习笔记P10-P20 - 追风少年的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="【浙江大学 C&#43;&#43; 翁恺老师】学习笔记P10-P20" />
<meta property="og:description" content="文章目录 10 对象初始化11 new&amp;delete12 访问限制13 初始化列表14 对象组合15 继承16 父类子类的关系17 函数重载和默认参数（缺省参数值）18 内联函数19 Const20 不可修饰的对象 浙江大学 C&#43;&#43; 翁恺老师 B站视频链接
10 对象初始化 C语言可以在函数的任意位置定义变量（不一定放在函数的最前面），但要求在第一次使用之前。
空间在进入函数大括号时分配，而构造器在运行到定义行时才被调用。
default constructor：自己写的没有参数的构造函数。
11 new&amp;delete new：分配空间得到地址&#43;调用构造函数
delete：调用析构函数&#43;通过地址释放空间
new创建数组则要使用delete[]（否则释放了所有空间，但只调用了一次析构函数）。
12 访问限制 public：公开的，任何函数都可以访问。private：私有的，只有类的成员函数可以访问。
同一个类的实例化对象之间可以互相访问私有成员。 如下：set()、f()和g()是类的成员函数，而main()不是。
friend：在X类中声明Y是X的朋友，则Y可以访问X的私有成员。
protect：只有类自己和其子类可以访问。 struct和class在C&#43;&#43;中的区别：
不限制访问属性时，struct默认是public，而class默认是private。
13 初始化列表 14 对象组合 软件重用的一种方式。
Composition：声明类时，其成员变量可以是另外一个类对象。
包含的方式：
Fully：整个置于类内。By reference：通过地址访问。 15 继承 软件重用的一种方式。
Inheritance：用一个已有类来定义一个新类的手段。
如下：已有Person类，Student类继承了Person类。所以Person是Student的父类，Student是Person的子类（超集）。
举例：
16 父类子类的关系 当构造子类对象时，会调用父类的构造函数。
若父类的构造函数有参数，子类需写自身的构造函数，并通过initialize list传入参数。
构造时先调用父类构造函数，再调用子类构造函数。
析构时先调用子类析构函数，再调用父类析构函数。
当子类和父类函数同名时，它俩没有关系。
17 函数重载和默认参数（缺省参数值） 返回类型不能作为重载的条件。
若不能找到参数类型完全匹配的重载函数，则报错。
/
Default argument：在声明函数时预先给一个值作为默认值（缺省参数值）。
声明时，只能在.h中声明默认值，而.cpp仍与原函数相同。
在调用函数时，可以从最右边开始省略。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://zhuifengsn.github.io/posts/0d6deeab965b771c5a2af1cf0c14463a/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-04-21T20:00:25+08:00" />
<meta property="article:modified_time" content="2023-04-21T20:00:25+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="追风少年的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">追风少年的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【浙江大学 C&#43;&#43; 翁恺老师】学习笔记P10-P20</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#10__4" rel="nofollow">10 对象初始化</a></li><li><a href="#11_newdelete_11" rel="nofollow">11 new&amp;delete</a></li><li><a href="#12__23" rel="nofollow">12 访问限制</a></li><li><a href="#13__45" rel="nofollow">13 初始化列表</a></li><li><a href="#14__49" rel="nofollow">14 对象组合</a></li><li><a href="#15__61" rel="nofollow">15 继承</a></li><li><a href="#16__76" rel="nofollow">16 父类子类的关系</a></li><li><a href="#17__87" rel="nofollow">17 函数重载和默认参数（缺省参数值）</a></li><li><a href="#18__107" rel="nofollow">18 内联函数</a></li><li><a href="#19_Const_141" rel="nofollow">19 Const</a></li><li><a href="#20__155" rel="nofollow">20 不可修饰的对象</a></li></ul> 
</div> 
<p></p> 
<blockquote> 
 <p><a href="https://www.bilibili.com/video/BV1dE41167hJ?p=1&amp;vd_source=3c0c29c48a9a365298688e08949eeb2f" rel="nofollow">浙江大学 C++ 翁恺老师 B站视频链接</a></p> 
</blockquote> 
<h2><a id="10__4"></a>10 对象初始化</h2> 
<p>C语言可以在函数的<strong>任意位置定义变量</strong>（不一定放在函数的最前面），但要求在第一次使用之前。</p> 
<p><strong>空间</strong>在进入函数大括号时分配，而<strong>构造器</strong>在运行到定义行时才被调用。</p> 
<p><strong>default constructor</strong>：自己写的<strong>没有参数的</strong>构造函数。</p> 
<h2><a id="11_newdelete_11"></a>11 new&amp;delete</h2> 
<p><strong>new</strong>：分配空间得到地址+调用构造函数</p> 
<p><strong>delete</strong>：调用析构函数+通过地址释放空间</p> 
<p><img src="https://images2.imgbox.com/34/78/zmqfAPA1_o.png" alt="请添加图片描述"></p> 
<p>new创建数组则要使用<strong>delete[]</strong>（否则释放了所有空间，但只调用了一次析构函数）。</p> 
<p><img src="https://images2.imgbox.com/41/e0/nZtzJWS2_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="12__23"></a>12 访问限制</h2> 
<ul><li><strong>public</strong>：公开的，<strong>任何函数</strong>都可以访问。</li><li><strong>private</strong>：私有的，只有<strong>类的成员函数</strong>可以访问。<br> 同一个类的实例化<strong>对象之间</strong>可以互相访问私有成员。</li></ul> 
<p>如下：set()、f()和g()是类的成员函数，而main()不是。</p> 
<p><img src="https://images2.imgbox.com/66/d6/ImVtHRnb_o.png" alt="在这里插入图片描述"></p> 
<p><strong>friend</strong>：在X类中声明Y是X的朋友，则Y可以访问X的私有成员。</p> 
<p><img src="https://images2.imgbox.com/69/89/8ifGvuZN_o.png" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-ywWjjspX-1682077762519)(images/6ScdC3ckQNM8WvNadpCdqt9CABhQ71oMCzUx6JcOGq0.png)]"></p> 
<ul><li><strong>protect</strong>：只有<strong>类自己和其子类</strong>可以访问。</li></ul> 
<p>struct和class在C++中的区别：</p> 
<p>不限制访问属性时，<strong>struct默认是public，而class默认是private</strong>。</p> 
<h2><a id="13__45"></a>13 初始化列表</h2> 
<p><img src="https://images2.imgbox.com/c0/9f/WzmvMXCQ_o.png" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-zK4RcOMd-1682077762520)(images/KPwycTIAk4olDBesDN1RnWzG2Y9ikyvrYmD3V5kqKC4.png)]"></p> 
<h2><a id="14__49"></a>14 对象组合</h2> 
<p>软件重用的一种方式。</p> 
<p><strong>Composition</strong>：声明类时，其成员变量可以是<strong>另外一个类对象</strong>。</p> 
<p>包含的方式：</p> 
<ul><li>Fully：整个置于类内。</li><li>By reference：通过地址访问。</li></ul> 
<p><img src="https://images2.imgbox.com/82/a1/0dRM3Vxt_o.png" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-Z38izwsb-1682077762521)(images/I8KDQZcpt6T5prvZSDK2YXAmSWr7PEmfjMZtxeK6KHE.png)]"></p> 
<h2><a id="15__61"></a>15 继承</h2> 
<p>软件重用的一种方式。</p> 
<p><strong>Inheritance</strong>：用一个已有类来定义一个新类的手段。</p> 
<p>如下：已有Person类，Student类继承了Person类。所以Person是Student的父类，Student是Person的子类（超集）。</p> 
<p><img src="https://images2.imgbox.com/07/98/rJ6hstHQ_o.png" alt=""></p> 
<p>举例：<br> <img src="https://images2.imgbox.com/b8/94/uSmfk6yf_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="16__76"></a>16 父类子类的关系</h2> 
<p>当构造子类对象时，<strong>会调用父类的构造函数</strong>。</p> 
<p>若父类的构造函数有参数，子类需写自身的构造函数，并通过<strong>initialize list传入参数</strong>。</p> 
<p><strong>构造时</strong>先调用父类构造函数，再调用子类构造函数。</p> 
<p><strong>析构时</strong>先调用子类析构函数，再调用父类析构函数。</p> 
<p>当子类和父类函数同名时，它俩没有关系。</p> 
<h2><a id="17__87"></a>17 函数重载和默认参数（缺省参数值）</h2> 
<p><img src="https://images2.imgbox.com/8c/f6/GxdjZjmd_o.png" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-RIITddhj-1682077762526)(images/j3fXUwu_HP_KRuWt_eFf0TahZSM9LZAAiKR0uCfHgsQ.png)]"></p> 
<p>返回类型不能作为重载的条件。</p> 
<p>若不能找到<strong>参数类型完全匹配</strong>的重载函数，则报错。<br> /</p> 
<p><strong>Default argument</strong>：在声明函数时预先给一个值作为默认值（缺省参数值）。</p> 
<p>声明时，只能<strong>在.h中声明默认值</strong>，而.cpp仍与原函数相同。</p> 
<p>在调用函数时，可以<strong>从最右边开始省略</strong>。</p> 
<p>如下：</p> 
<p><img src="https://images2.imgbox.com/20/55/zb48P5hy_o.png" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-2xahLDgm-1682077762527)(images/qO2lxY64MzPiDOY9e8CnZ2xZkaIXPkzrvYPcGNdeJyQ.png)]"></p> 
<h2><a id="18__107"></a>18 内联函数</h2> 
<p>当调用一个函数时，共分为四步：</p> 
<ol><li>将<strong>参数</strong>压入堆栈中</li><li>将<strong>返回地址</strong>压入堆栈中</li><li>准备<strong>返回值</strong>，放在ax寄存器中</li><li>将1，2步中压入栈元素<strong>弹出</strong></li></ol> 
<p><strong>Inline Funtions</strong>：当调用一个函数时，不执行以上步骤，而是<strong>将函数内容直接嵌入调用位置</strong>。</p> 
<p>声明时，在.<strong>h和.cpp中都必须写明</strong>是inline函数。</p> 
<p><img src="https://images2.imgbox.com/09/4b/9UZQdtBd_o.png" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-3Ha6lsyo-1682077762529)(images/tvJ8jfW7YVtofufG4pY-4KG67kHLc050bqBwmMBEmuU.png)]"></p> 
<p><strong>空间换时间策略</strong>。</p> 
<p>内联可以让编译器做<strong>类型检查</strong>等工作，比用宏更安全一些。</p> 
<p><strong>声明时就给出成员函数的函数体</strong>，则默认其为内联函数。简单函数可直接写为内联函数，如下：</p> 
<p><img src="https://images2.imgbox.com/9e/53/lVtpjNl6_o.png" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-0jXfYGJq-1682077762530)(images/IxNkHM4Pwl2JrM6lQcQMtLYyiF9JzRxiCkuXEBThSTA.png)]"></p> 
<p>什么时候建议内联：</p> 
<ol><li>简单函数，仅两三行。</li><li>频繁调用的函数，如循环。</li></ol> 
<p>什么时候不可以内联：</p> 
<ol><li>非常大的函数，超过20行。</li><li>递归函数。</li></ol> 
<h2><a id="19_Const_141"></a>19 Const</h2> 
<p><strong>const</strong>：变量<strong>初始化后不能再被修改</strong>。但其仍是变量而不是常数。</p> 
<p>传递一个完整的对象会产生很多花费，最好通过指针进行<strong>地址传递</strong>。但是程序员可能在使用时修改原始值，所以安全起见应该将其设为const常量。</p> 
<p>区分：</p> 
<p><strong>*const对象是const：指向的地址可以修改，地址里的内容不能修改。</strong></p> 
<p><strong>const*指针是const：地址里的内容可以修改，指向的地址不能修改。</strong></p> 
<p><img src="https://images2.imgbox.com/eb/ea/cNW3FTeq_o.png" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-wW18VhsE-1682077762532)(images/eo5qTEfR1xFGR04lYIeHk5eJYNLgFH_4Ydprl1TWP-o.png)]"></p> 
<h2><a id="20__155"></a>20 不可修饰的对象</h2> 
<p>在<strong>函数后加上const</strong>：保证函数的成员变量不被修改。</p> 
<p>使用时在声明和定义中都要说明。如下：</p> 
<p><img src="https://images2.imgbox.com/12/a7/kzsizpyl_o.png" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-KRsZrPRz-1682077762533)(images/s9njN1PP_zbBE7SzoA5cNqGttKTbwVeSPWefNYhNFrI.png)]"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/2752cd4493c3bb329f5673b51ad4d13c/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【浙江大学 C&#43;&#43; 翁恺老师】学习笔记P1-P9</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/d287a321aa17acf8047706e265781611/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">chmod 777 修改文件权限</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 追风少年的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>