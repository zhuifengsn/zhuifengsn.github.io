<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>关于SLAM十四讲中 非模板类Sophus库的安装问题 - 追风少年的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="关于SLAM十四讲中 非模板类Sophus库的安装问题" />
<meta property="og:description" content="最近开始学习高翔博士的《视觉SLAM十四讲》，第四章要求安装一个非模板类的Sophus库。在安装书中提供的第三方库时出现错误。在安装过程中，使用Cmake ..的时候能够顺利通过，接着执行make命令的时候就会出现错误如下：
***1. Sophus/sophus/so2.cpp:33:26:error: lvalue required as left operand of assignment unit_complex_.real() = 1.; 2. Sophus/sophus/so2.cpp:33:26:error: lvalue required as left operand of assignment unit_complex_.imag() = 1.;* 我以为是书中提供的第三方库存在问题，于是按照书中的方法在网上重新下载Sophus库，编译之后仍旧出现这种错误。 自己在网上查找了好久很少有人提出解决这个问题的方法。最终幸运的在一篇博客中找到了解决的方法。鉴于网上的解决方法少，故分享如下。 解决方法如下：
1 SO2::SO2() 2 { 3 //unit_complex_.real() = 1.; 4 //unit_complex_.imag() = 0.; 5 unit_complex_.real(1.); 6 unit_complex_.imag(0.); 7 } 打开so2..cpp文件，将系统提示出错的位置代码改成上述的代码即可。 用改正后的非模板类Sophus库运行《视觉SLAM十四讲》第四章的实践代码，代码输出的结果是正确的，运行代码结果如下：
SO3 from matrix : 0 0 1.5708 SO3 from vector : 0 0 1.5708 SO3 from quaternion : 0 0 1." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://zhuifengsn.github.io/posts/49932a04c23452b43c1b8c27dac2822f/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-07-11T20:24:08+08:00" />
<meta property="article:modified_time" content="2018-07-11T20:24:08+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="追风少年的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">追风少年的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">关于SLAM十四讲中 非模板类Sophus库的安装问题</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>最近开始学习高翔博士的《视觉SLAM十四讲》，第四章要求安装一个非模板类的Sophus库。在安装书中提供的第三方库时出现错误。在安装过程中，使用Cmake ..的时候能够顺利通过，接着执行make命令的时候就会出现错误如下：</p> 
<p>***1. Sophus/sophus/so2.cpp:33:26:error: lvalue required as left operand of assignment <br> unit_complex_.real() = 1.; <br> 2. Sophus/sophus/so2.cpp:33:26:error: lvalue required as left operand of assignment <br> unit_complex_.imag() = 1.;<em>*</em> <br> 我以为是书中提供的第三方库存在问题，于是按照书中的方法在网上重新下载Sophus库，编译之后仍旧出现这种错误。 <br> 自己在网上查找了好久很少有人提出解决这个问题的方法。最终幸运的在一篇博客中找到了解决的方法。鉴于网上的解决方法少，故分享如下。 <br> 解决方法如下：</p> 
<pre class="prettyprint"><code class=" hljs avrasm"><span class="hljs-number">1</span>  SO2::SO2()
<span class="hljs-number">2</span> {
<span class="hljs-number">3</span>   //unit_complex_<span class="hljs-preprocessor">.real</span>() = <span class="hljs-number">1.</span><span class="hljs-comment">;</span>
<span class="hljs-number">4</span>   //unit_complex_<span class="hljs-preprocessor">.imag</span>() = <span class="hljs-number">0.</span><span class="hljs-comment">;</span>
<span class="hljs-number">5</span>   unit_complex_<span class="hljs-preprocessor">.real</span>(<span class="hljs-number">1.</span>)<span class="hljs-comment">; </span>
<span class="hljs-number">6</span>   unit_complex_<span class="hljs-preprocessor">.imag</span>(<span class="hljs-number">0.</span>)<span class="hljs-comment">;</span>
<span class="hljs-number">7</span> }</code></pre> 
<p>打开so2..cpp文件，将系统提示出错的位置代码改成上述的代码即可。 <br> 用改正后的非模板类Sophus库运行《视觉SLAM十四讲》第四章的实践代码，代码输出的结果是正确的，运行代码结果如下：</p> 
<pre class="prettyprint"><code class=" hljs cs">SO3 <span class="hljs-keyword">from</span> matrix :     <span class="hljs-number">0</span>      <span class="hljs-number">0</span> <span class="hljs-number">1.5708</span>

SO3 <span class="hljs-keyword">from</span> vector :     <span class="hljs-number">0</span>      <span class="hljs-number">0</span> <span class="hljs-number">1.5708</span>

SO3 <span class="hljs-keyword">from</span> quaternion :     <span class="hljs-number">0</span>      <span class="hljs-number">0</span> <span class="hljs-number">1.5708</span>

so3 =      <span class="hljs-number">0</span>      <span class="hljs-number">0</span> <span class="hljs-number">1.5708</span>
so3 hat =       <span class="hljs-number">0</span> -<span class="hljs-number">1.5708</span>       <span class="hljs-number">0</span>
 <span class="hljs-number">1.5708</span>       <span class="hljs-number">0</span>      -<span class="hljs-number">0</span>
     -<span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>
so3 hat vee=      <span class="hljs-number">0</span>      <span class="hljs-number">0</span> <span class="hljs-number">1.5708</span>
SO3 update=  <span class="hljs-number">7.85398e-05</span> -<span class="hljs-number">7.85398e-05</span>       <span class="hljs-number">1.5708</span>

*************************分割线××××××××××××××××××××
SE3 <span class="hljs-keyword">from</span> Rt = 
     <span class="hljs-number">0</span>      <span class="hljs-number">0</span> <span class="hljs-number">1.5708</span>
<span class="hljs-number">1</span> <span class="hljs-number">0</span> <span class="hljs-number">0</span>

SE3 <span class="hljs-keyword">from</span> qt = 
     <span class="hljs-number">0</span>      <span class="hljs-number">0</span> <span class="hljs-number">1.5708</span>
<span class="hljs-number">1</span> <span class="hljs-number">0</span> <span class="hljs-number">0</span>

 se3 =  <span class="hljs-number">0.785398</span> -<span class="hljs-number">0.785398</span>         <span class="hljs-number">0</span>         <span class="hljs-number">0</span>         <span class="hljs-number">0</span>    <span class="hljs-number">1.5708</span>
se3 hat = 
        <span class="hljs-number">0</span>   -<span class="hljs-number">1.5708</span>         <span class="hljs-number">0</span>  <span class="hljs-number">0.785398</span>
   <span class="hljs-number">1.5708</span>         <span class="hljs-number">0</span>        -<span class="hljs-number">0</span> -<span class="hljs-number">0.785398</span>
       -<span class="hljs-number">0</span>         <span class="hljs-number">0</span>         <span class="hljs-number">0</span>         <span class="hljs-number">0</span>
        <span class="hljs-number">0</span>         <span class="hljs-number">0</span>         <span class="hljs-number">0</span>         <span class="hljs-number">0</span>
se3 hat vee = 
 <span class="hljs-number">0.785398</span> -<span class="hljs-number">0.785398</span>         <span class="hljs-number">0</span>         <span class="hljs-number">0</span>         <span class="hljs-number">0</span>    <span class="hljs-number">1.5708</span>
SE3 update = 
<span class="hljs-number">2.22045e-16</span>          -<span class="hljs-number">1</span>           <span class="hljs-number">0</span>      <span class="hljs-number">1.0001</span>
          <span class="hljs-number">1</span> <span class="hljs-number">2.22045e-16</span>           <span class="hljs-number">0</span>           <span class="hljs-number">0</span>
          <span class="hljs-number">0</span>           <span class="hljs-number">0</span>           <span class="hljs-number">1</span>           <span class="hljs-number">0</span>
          <span class="hljs-number">0</span>           <span class="hljs-number">0</span>           <span class="hljs-number">0</span>           <span class="hljs-number">1</span>
</code></pre> 
<p>从正确的运行结果可以知道对于Sophus库的修改是正确的。</p> 
<p>这个改正方法是参照网上的，具体的原因本人也不知道。如果有谁看到这篇文章，知道其中的原因，烦请告知！！！</p> 
<p>参考的博客地址：一步步完善视觉里程计3——初始位置确定 | 冯兵的博客|内外兼修</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/bbdec2e67b848c307eaa9219c5b3b095/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">A. Sonya and Hotels</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/fd20486af90e47ae75e3852d8e1a7149/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">java基础学习一java 基本规则</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 追风少年的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>