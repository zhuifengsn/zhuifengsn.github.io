<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>HTTP 和 HTTPS 的区别 - 追风少年的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="HTTP 和 HTTPS 的区别" />
<meta property="og:description" content="一、简述 1️⃣HTTP (全称 Hyper Text Transfer Protocol)，就是超文本传输协议，用来在 Internet 上传送超文本。是互联网上应用最为广泛的一种网络协议，是一个客户端和服务器端请求和应答的标准(TCP)，用于从 WWW 服务器传输超文本到本地浏览器的传输协议，它可以使浏览器更加高效，使网络传输减少。
2️⃣HTTPS：安全超文本传输协议。简单讲是 HTTP 的安全版，即 HTTP 下加入 SSL 层，HTTPS 的安全基础是 SSL，因此加密的详细内容就需要 SSL。
HTTPS 的主要作用可以分为两种：一种是建立一个信息安全通道，来保证数据传输的安全；另一种就是确认网站的真实性。
超文本传输协议 HTTP 被用于 Web 浏览器和网站服务器之间传递信息，HTTP 以明文方式发送内容，不提供任何方式的数据加密，如果攻击者截取了 Web 浏览器和网站服务器之间的传输报文，就可以直接读懂其中的信息。因此，HTTP 不适合传输敏感信息，比如：资金账户、密码等。为了解决 HTTP 的这一缺陷，需要使用另一种协议：安全套接字层超文本传输协议 HTTPS，为了数据传输的安全，HTTPS 在 HTTP 的基础上加入了 SSL 协议，SSL 依靠证书来验证服务器的身份，并为浏览器和服务器之间的通信加密。
二、HTTP 与 HTTPS 的区别 HTTP 传输的数据都是未加密的，也就是明文的，因此使用 HTTP 传输信息非常不安全。为了保证数据能加密传输，网景公司设计了 SSL(Secure Sockets Layer) 协议用于对 HTTP 传输的数据进行加密，从而就诞生了 HTTPS。二者主要区别如下：
1️⃣HTTPS 需要到 ca 申请证书，一般免费证书较少，因而需要一定费用。
2️⃣HTTP 信息是明文传输，HTTPS 则是具有安全性的 ssl 加密传输协议。
3️⃣HTTP 和 HTTPS 连接方式完全不同，端口也不一样，前者是 80，后者是 443。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://zhuifengsn.github.io/posts/439a106b0358c1c9096f975f73053e88/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-02-28T10:34:47+08:00" />
<meta property="article:modified_time" content="2022-02-28T10:34:47+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="追风少年的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">追风少年的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">HTTP 和 HTTPS 的区别</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="_0"></a>一、简述</h2> 
<p>1️⃣<a href="https://www.jianshu.com/p/93a007b57011" rel="nofollow">HTTP</a> (全称 Hyper Text Transfer Protocol)，就是超文本传输协议，用来在 Internet 上传送超文本。是互联网上应用最为广泛的一种网络协议，是一个客户端和服务器端请求和应答的标准(TCP)，用于从 WWW 服务器传输超文本到本地浏览器的传输协议，它可以使浏览器更加高效，使网络传输减少。</p> 
<p>2️⃣HTTPS：安全超文本传输协议。简单讲是 HTTP 的安全版，即 HTTP 下加入 SSL 层，HTTPS 的安全基础是 SSL，因此加密的详细内容就需要 SSL。</p> 
<p>HTTPS 的主要作用可以分为两种：一种是建立一个信息安全通道，来保证数据传输的安全；另一种就是确认网站的真实性。</p> 
<p><img src="https://images2.imgbox.com/13/8a/VjJBQOKN_o.png" alt=""></p> 
<p>超文本传输协议 HTTP 被用于 Web 浏览器和网站服务器之间传递信息，HTTP 以明文方式发送内容，不提供任何方式的数据加密，如果攻击者截取了 Web 浏览器和网站服务器之间的传输报文，就可以直接读懂其中的信息。因此，HTTP 不适合传输敏感信息，比如：资金账户、密码等。为了解决 HTTP 的这一缺陷，需要使用另一种协议：安全套接字层超文本传输协议 HTTPS，为了数据传输的安全，HTTPS 在 HTTP 的基础上加入了 SSL 协议，SSL 依靠证书来验证服务器的身份，并为浏览器和服务器之间的通信加密。</p> 
<h2><a id="HTTP__HTTPS__12"></a>二、HTTP 与 HTTPS 的区别</h2> 
<p>HTTP 传输的数据都是未加密的，也就是明文的，因此使用 HTTP 传输信息非常不安全。为了保证数据能加密传输，网景公司设计了 SSL(Secure Sockets Layer) 协议用于对 HTTP 传输的数据进行加密，从而就诞生了 HTTPS。二者主要区别如下：</p> 
<p>1️⃣HTTPS 需要到 ca 申请证书，一般免费证书较少，因而需要一定费用。<br> 2️⃣HTTP 信息是明文传输，HTTPS 则是具有安全性的 ssl 加密传输协议。<br> 3️⃣HTTP 和 HTTPS 连接方式完全不同，端口也不一样，前者是 80，后者是 443。<br> 4️⃣HTTP 的连接很简单，是无状态的。HTTPS 是由 SSL+HTTP 构建的可进行加密传输、身份认证的网络协议，比 HTTP 安全。</p> 
<h2><a id="HTTPS__21"></a>三、HTTPS 的工作原理</h2> 
<p>由于 HTTPS 能够加密信息，避免敏感信息被第三方获取，所以很多银行网站或电子邮箱等等安全级别较高的服务都会采用 HTTPS。<img src="https://images2.imgbox.com/de/85/dOOAWpgy_o.png" alt=""></p> 
<p>客户端在使用 HTTPS 方式与 Web 服务器通信时有以下几个步骤，如图所示。<br> 1️⃣客户使用 HTTPS 的 URL 访问 Web 服务器，要求与 Web 服务器建立 SSL 连接。<br> 2️⃣Web 服务器收到客户端请求后，会将网站的证书信息(证书中包含公钥)传送一份给客户端。<br> 3️⃣客户端的浏览器与 Web 服务器开始协商 SSL 连接的安全等级，也就是信息加密的等级。<br> 4️⃣客户端的浏览器根据双方同意的安全等级，建立会话密钥，然后利用网站的公钥将会话密钥加密，并传送给网站。<br> 5️⃣Web 服务器利用自己的私钥解密出会话密钥。<br> 6️⃣Web 服务器利用会话密钥加密与客户端之间的通信。</p> 
<p><img src="https://images2.imgbox.com/23/41/mcM6BWTh_o.png" alt=""></p> 
<h2><a id="HTTPS_35"></a>四、HTTPS的优点</h2> 
<p>尽管 HTTPS 并非绝对安全，掌握根证书的机构、掌握加密算法的组织同样可以进行中间人形式的攻击，但 HTTPS 仍是现行架构下最安全的解决方案，主要有以下几个好处：<br> ️1️⃣使用 HTTPS 可认证用户和服务器，确保数据发送到正确的客户机和服务器；<br> 2️⃣HTTPS 是由 SSL+HTTP 构建的可进行加密传输、身份认证的网络协议，要比 HTTP 安全，可防止数据在传输过程中不被窃取、改变，确保数据的完整性。<br> 3️⃣HTTPS 是现行架构下最安全的解决方案，虽然不是绝对安全，但它大幅增加了中间人攻击的成本。<br> 4️⃣谷歌曾在2014年8月份调整搜索引擎算法，并称“比起同等 HTTP 网站，采用 HTTPS 加密的网站在搜索结果中的排名将会更高”。</p> 
<h2><a id="HTTPS__43"></a>五、HTTPS 的缺点</h2> 
<p>1️⃣HTTPS <a href="https://www.jianshu.com/p/cae79a66af4a" rel="nofollow">握手阶段</a>比较费时，会使页面的加载时间延长近 50%，增加 10% 到 20% 的耗电；<br> 2️⃣HTTPS 连接缓存不如 HTTP 高效，会增加数据开销和功耗，甚至已有的安全措施也会因此而受到影响；<br> 3️⃣SSL 证书需要钱，功能越强大的证书费用越高，个人网站、小网站没有必要一般不会用。<br> 4️⃣SSL 证书通常需要绑定 IP，不能在同一 IP 上绑定多个域名，IPv4 资源不可能支撑这个消耗。<br> 5️⃣HTTPS 的加密范围也比较有限，在黑客攻击、拒绝服务攻击、服务器劫持等方面几乎起不到什么作用。最关键的，SSL 证书的信用链体系并不安全，特别是在某些国家可以控制 CA 根证书的情况下，中间人攻击一样可行。</p> 
<h2><a id="_HTTP__HTTPS_51"></a>六、如何将网站从 HTTP 切换到 HTTPS</h2> 
<p>需要将页面中所有的链接，例如 js，css，图片等等链接都由 HTTP 改为 HTTPS。例如：<code>http://www.baidu.com/</code>改为<code>https://www.baidu.com/</code>。</p> 
<p>这里虽然将 HTTP 切换成了 HTTPS，还是建议保留 HTTP。所以在切换的时候可以做 HTTP 和 HTTPS 的兼容，具体实现方式是，去掉页面链接中的 HTTP 头部，这样可以自动匹配 HTTP 头和 HTTPS 头。例如：将<code>http://www.baidu.com/</code>改为<code>//www.baidu.com</code>。然后当用户从 HTTP 的入口进入访问页面时，页面就是 HTTP，如果用户是从 HTTPS 的入口进入访问页面，页面即是 HTTPS 的。</p> 
<h2><a id="_HTTPS_57"></a>七、理解 HTTPS</h2> 
<p><img src="https://images2.imgbox.com/17/57/AHJq0UBv_o.png" alt=""></p> 
<p>HTTP 诱发了一种经典的攻击方式——中间人攻击：<img src="https://images2.imgbox.com/8f/73/vSgnNKOM_o.png" alt=""></p> 
<p>对于这种情况，可以使用<a href="https://blog.csdn.net/ChineseSoftware/article/details/123045641">加密</a>方案应对。比如使用 AES 加密，服务端和客户端先约定一个随机生成的密钥 key ，后续的通信中，所有的信息都使用这个密钥进行 AES 加密：<img src="https://images2.imgbox.com/fe/87/ViC529EU_o.png" alt=""></p> 
<p>如此虽然后面的通信过程安全了，但是在第一发送 AES 密钥的时候还是存在被中间人拦截的风险，一旦中间人拦截到密钥，可用对密钥进行更换或者直接解密请求内容：<img src="https://images2.imgbox.com/78/ba/7mFzeQ8c_o.png" alt=""></p> 
<p>此时可以使用不对称加密，来专门对密钥的传输做一次额外的保护。不对称加密会有两个密钥，一个是公钥，一个是私钥。明文可以使用公钥加密私钥解密，也可以使用私钥加密公钥解密。现在比较通用的非对称加密算法有 RSA 。<img src="https://images2.imgbox.com/5f/8b/tiWzZiPO_o.png" alt=""></p> 
<p>既然都使用了不对称加密，为啥只对 AES 的密钥做不对称加密，好像多此一举，完全可以对后续所有的通信信息全都使用不对称加密。因为不对称加密相比较对称加密性能上存在明显的劣势，可能一个请求中多消耗几 ms 或者几 ns 无所谓，但是请求到达服务端是要进行解密，每个请求都多消耗几 ms 累计起来还是非常可怕的。</p> 
<p>上面方案看起来很安全，中间人即使拦截到公钥，由于不知道私钥貌似也没办法解密。实际上中间人完全不需要解密信息，他可以生成一对新的公私钥发送给客户端，后续中间人使用自己创造的私钥进行解密，然后通过服务端生成的公钥进行加密返回给服务端，以此达到攻击的目的：<img src="https://images2.imgbox.com/0e/5d/0mt3YdDw_o.png" alt=""></p> 
<h3><a id="CA__73"></a>CA 证书</h3> 
<p>上面的问题仅通过客户端和服务端已经没办法了，这时候需要引入新的第三方机构，一个颁发 CA 证书的机构。常见的第三方 CA 机构有：Symantec(赛门铁克)、Comodo(科莫多)、GeoTrust(环度网信)、GoDaddy、Thawte和daoRapidSSL等等。</p> 
<p>在中间人攻击中，遇到的问题不是加密算法不够神奇，不是密钥方式不够严谨，而是无法向客户端表明给到的公钥是服务端的，是不是很像无法证明我是我的问题。</p> 
<p>所以第三方机构应运而生，第三方机构只做一件事情，将服务端的公钥刻上了名字(CA 证书)，客户端接收到公钥之后，只需要来第三方机构这里查询，就能知道这个公钥是不是真的服务器，然后再将自己生成的 AES 密钥使用 CA 证书中解密得到的公钥进行加密后发送给服务端。最后服务端使用私钥解密得到 AES 密钥，就可以愉快的和客户端进行通信了。<img src="https://images2.imgbox.com/c8/7c/XRVb5moL_o.png" alt=""></p> 
<p>CA 机构验证不是每次都要去 CA 机构查询。这样做未免太耗时，尤其是很多 CA 机构的服务都在海外，这样一来一去消耗的时间太多了。CA 机构高明的地方就在于，我们去找它注册公钥，它会使用另一个来注册的公司的私钥对我们的公钥加密，得到一个我们的公钥的指纹(全球唯一)，然后将这家公司的公钥信息(其实也是证书)和我们的公钥以及我们公钥的指纹打包成一个证书。</p> 
<p>当使用 HTTPS 将证书下发给客户端校验时，客户端(比如浏览器)从证书中看到了上级证书的信息，恰巧这个证书就在浏览器(或者本机)中，已经被验证过是合法的，浏览器只要使用这个证书中的公钥将我们的公钥指纹进行解密，然后比对我们的公钥信息就知道我们也是的合法的。因为假证书中的公钥签名不可能被合法的上级证书中公钥解密。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/3cf13ab71608db4e2e9b924365d00d5b/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">java数据类型</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/4dcc8b8b36f25951be78dcde1d0c2a08/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">HTTP 响应码大全</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 追风少年的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>