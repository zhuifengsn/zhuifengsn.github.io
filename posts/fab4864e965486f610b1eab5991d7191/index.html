<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>抽奖！抽奖！抽奖！大转盘、九宫格、老虎机开放抽奖组件！ - 追风少年的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="抽奖！抽奖！抽奖！大转盘、九宫格、老虎机开放抽奖组件！" />
<meta property="og:description" content="一个基于JS&#43;Canvas实现大转盘&amp;九宫格&amp;老虎机的抽奖免费组件！只需要简单的配置需要的属性就可以制定自己需要的功能效果。
地址如下：https://100px.net/
使用范围：JS/TS、VUE、Reacct、微信小程序、UniApp、Taro中使用。
第一步先安装插件：
# npm 安装： npm install @lucky-canvas/react@latest # yarn 安装： yarn add @lucky-canvas/react@latest
第二步超简单的引入方式
在示例中的基本示例选择你需要的的抽奖模式→大转盘、九宫格、老虎机。
引入你的页面或者单独将抽奖封装成一个组件即可使用。
第三步根据提供的文档中的属性，修改成你单独的抽奖组件。
使用示例，React 中单独封装的抽奖组件
//简单封装 export interface RouletteConfiguration { width?: string height?: string Blocks?: any Prizes?: any RouletteImage?: any } const BigWheel = (props: RouletteConfiguration) =&gt; { //获取初始化数据 useEffect(() =&gt; { setblocks([ { padding: &#39;12px&#39;, imgs: [ { src: props?.RouletteImage, width: &#39;100%&#39;, height: &#39;100%&#39;, rotate: true } ] } ]) }, [props?" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://zhuifengsn.github.io/posts/fab4864e965486f610b1eab5991d7191/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-06-27T13:59:12+08:00" />
<meta property="article:modified_time" content="2023-06-27T13:59:12+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="追风少年的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">追风少年的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">抽奖！抽奖！抽奖！大转盘、九宫格、老虎机开放抽奖组件！</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>一个基于JS+Canvas实现大转盘&amp;九宫格&amp;老虎机的抽奖免费组件！只需要简单的配置需要的属性就可以制定自己需要的功能效果。</p> 
<p>地址如下：<a href="https://100px.net/" rel="nofollow" title="https://100px.net/">https://100px.net/</a></p> 
<p>使用范围：JS/TS、VUE、Reacct、微信小程序、UniApp、Taro中使用。</p> 
<p></p> 
<p>第一步先安装插件：</p> 
<p># npm 安装： npm install @lucky-canvas/react@latest # yarn 安装： yarn add @lucky-canvas/<a href="mailto:react@latest" rel="nofollow">react@latest</a></p> 
<p>第二步超简单的引入方式</p> 
<p>在示例中的基本示例选择你需要的的抽奖模式→大转盘、九宫格、老虎机。</p> 
<p><img alt="" height="886" src="https://images2.imgbox.com/ea/87/eq5RVt8F_o.png" width="1200"></p> 
<p></p> 
<p>引入你的页面或者单独将抽奖封装成一个组件即可使用。</p> 
<p>第三步根据提供的文档中的属性，修改成你单独的抽奖组件。</p> 
<p><img alt="" height="876" src="https://images2.imgbox.com/3e/e3/aIr1kgDu_o.png" width="1200"></p> 
<p></p> 
<p>使用示例，React 中单独封装的抽奖组件</p> 
<p></p> 
<pre><code class="language-TypeScript">//简单封装
export interface RouletteConfiguration {
  width?: string
  height?: string
  Blocks?: any
  Prizes?: any
  RouletteImage?: any
}

const BigWheel = (props: RouletteConfiguration) =&gt; {
    //获取初始化数据
  useEffect(() =&gt; {
    setblocks([
      {
        padding: '12px',
        imgs: [
          {
            src: props?.RouletteImage,
            width: '100%',
            height: '100%',
            rotate: true
          }
        ]
      }
    ])
  }, [props?.RouletteImage])
 
  const [blocks, setblocks]: any = useState([
    {
      padding: '10px',
      background: '#869cfa',
      imgs: [{ src: props?.RouletteImage }]
    }
  ])
  //奖项中的文字
  const [prizes, setprizes] = useState([
    { background: 'transparent', fonts: [{ text: '0' }] },
    { background: 'transparent', fonts: [{ text: '1' }] },
    { background: 'transparent', fonts: [{ text: '2' }] },
    { background: 'transparent', fonts: [{ text: '3' }] },
    { background: 'transparent', fonts: [{ text: '4' }] },
    { background: 'transparent', fonts: [{ text: '5' }] }
  ])
  const [buttons] = useState([
    {
      radius: '45%',
      imgs: [
        {
          src: pointer,
          width: '60%',
          top: '-100%'
        }
      ],
      pointer: true,
      fonts: [
        {
          text: '立即\n参与',
          top: '-16px',
          fontColor: '#EC5741',
          fontSize: '15px',
          fontWeight: '600'
        }
      ]
    }
  ])
  const myLucky: any = useRef()
  return (
    &lt;div className="tuxingzhujian"&gt;
      &lt;LuckyWheel
        ref={myLucky}
        width={props?.width ? props?.width : '250px'}
        height={props?.width ? props?.width : '250px'}
        blocks={blocks}
        prizes={prizes}
        buttons={buttons}
        onStart={() =&gt; {
          console.log('buttonsbuttons', prizes)
          // 点击抽奖按钮会触发star回调
          if (prizes.length &gt; 0) {
            myLucky?.current.play()
            setTimeout(() =&gt; {
              const index = (Math.random() * 6) &gt;&gt; 0
              myLucky?.current.stop(index)
            }, 2500)
          } else {
            message.warning('请设置轮盘分区数量！')
          }
        }}
        onEnd={prize =&gt; {
          // 抽奖结束会触发end回调
          if (prize.fonts[0].text === '谢谢参与') {
            message.success('谢谢参与')
          } else {
            message.success('恭喜你抽到了' + prize.fonts[0].text + ' 奖品')
          }
        }}
      &gt;&lt;/LuckyWheel&gt;
    &lt;/div&gt;
  )
}

export default BigWheel</code></pre> 
<p>封装组件的使用：</p> 
<pre><code class="language-TypeScript">&lt;LuckyWheel
        ref={myLucky}
        width="250px"
        height="250px"
        blocks={blocks}
        prizes={prizes}
        buttons={buttons}
        onStart={() =&gt; {
          //用户登录时才触发转盘
          if (props?.login) {
            // 点击抽奖按钮会触发star回调
            //红线报错不用管
            myLucky?.current.play();
            setTimeout(() =&gt;
              const index = (Math.random() * 6) &gt;&gt; 0;
              myLucky?.current.stop(index);
            }, 2500);
          } else {
   
          }
        }}
        onEnd={(prize: any) =&gt; {
          // 抽奖结束会触发end回调
}
      &gt;&lt;/LuckyWheel&gt;</code></pre> 
<p>效果图略~~~~</p> 
<p>整体使用感觉：这个抽奖活动的组件十分简用，相当于Echarts来说都是差不多类似的，只要你会读文档，仔细看配置属性很快就可以上手使用它的，本章内容就简单的介绍一个该公共组件不多做介绍，希望能够帮助各位在工作上解决相应问题。</p> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/40cc49256f28c1462bf02ead0dd250af/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">java8 list to tree 工具类</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/66fc9138dd8569082371da4e518713df/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">相机雷达联合标定cam_lidar_calibration</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 追风少年的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>