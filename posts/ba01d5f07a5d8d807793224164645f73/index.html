<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Android 打开另一个APP，H5打开APP方法，打开淘宝、京东、天猫、拼多多。需求、商品详情或优惠券页面 - 追风少年的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Android 打开另一个APP，H5打开APP方法，打开淘宝、京东、天猫、拼多多。需求、商品详情或优惠券页面" />
<meta property="og:description" content="1、在待打开的APP注册可被外APP调用的activity
&lt;activity android:name=&#34;.TwoActivity&#34;&gt; &lt;intent-filter &gt; &lt;action android:name=&#34;android.intent.action.VIEW&#34; /&gt; &lt;category android:name=&#34;android.intent.category.DEFAULT&#34;/&gt; &lt;data android:scheme=&#34;test&#34; android:host=&#34;com.example.mvvmtest&#34; android:path=&#34;/home&#34; /&gt; &lt;/intent-filter&gt; &lt;/activity&gt; 注：host是包名
2、任意APP打开已注册的开放的activity
Intent intent = new Intent(Intent.ACTION_VIEW, Uri.parse(&#34;test://com.example.mvvmtest/home&#34;)); intent.putExtra(&#34;name&#34;,&#34;aacc44&#34;); startActivity(intent); H5打开APP &lt;intent-filter&gt; &lt;category android:name=&#34;android.intent.category.DEFAULT&#34;/&gt; &lt;action android:name=&#34;android.intent.action.VIEW&#34;/&gt; &lt;category android:name=&#34;android.intent.category.BROWSABLE&#34;/&gt; &lt;data android:scheme=&#34;dogness&#34; android:host=&#34;rice&#34; android:path=&#34;/device&#34; /&gt; &lt;/intent-filter&gt; dongness://rice/device dongness://rice/device?sn=365622952860844032
Uri uri = getIntent().getData(); if (uri !=null){ xiexunss = uri.getQueryParameter(&#34;dognesscode&#34;); LgqLogPlus.d(&#34;浏览器返回==== &#34;&#43;xiexunss); SharedPreUtil.putString(&#34;liulanqidp&#34;,xiexunss); } APP跳转到淘宝商品详情和优惠券页面demo /** * 跳转至商品详情 * * @param activity Activity * @param url 商品详情 */ fun gotoGoodsDetail(activity: Activity, url: String?" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://zhuifengsn.github.io/posts/ba01d5f07a5d8d807793224164645f73/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-05-26T11:30:31+08:00" />
<meta property="article:modified_time" content="2022-05-26T11:30:31+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="追风少年的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">追风少年的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Android 打开另一个APP，H5打开APP方法，打开淘宝、京东、天猫、拼多多。需求、商品详情或优惠券页面</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>1、在待打开的APP注册可被外APP调用的activity</p> 
<pre><code class="language-html">&lt;activity android:name=".TwoActivity"&gt;
    &lt;intent-filter &gt;
        &lt;action android:name="android.intent.action.VIEW" /&gt;
        &lt;category android:name="android.intent.category.DEFAULT"/&gt;
        &lt;data android:scheme="test"
            android:host="com.example.mvvmtest"
            android:path="/home" /&gt;
    &lt;/intent-filter&gt;
&lt;/activity&gt;</code></pre> 
<p>注：host是包名</p> 
<p>2、任意APP打开已注册的开放的activity</p> 
<pre><code class="language-html">Intent intent = new Intent(Intent.ACTION_VIEW, Uri.parse("test://com.example.mvvmtest/home"));
intent.putExtra("name","aacc44");
startActivity(intent);</code></pre> 
<h3>H5打开APP</h3> 
<p></p> 
<pre>&lt;intent-filter&gt;
    &lt;category android:name="android.intent.category.DEFAULT"/&gt;
    &lt;action android:name="android.intent.action.VIEW"/&gt;
    &lt;category android:name="android.intent.category.BROWSABLE"/&gt;
    &lt;data
        android:scheme="dogness"
        android:host="rice"
        android:path="/device"
        /&gt;
&lt;/intent-filter&gt;</pre> 
<p>dongness://rice/device </p> 
<p></p> 
<p> dongness://rice/device?sn=365622952860844032</p> 
<pre>Uri uri  = getIntent().getData();
if (uri !=null){
    xiexunss = uri.getQueryParameter("dognesscode");
    LgqLogPlus.d("浏览器返回==== "+xiexunss);
    SharedPreUtil.putString("liulanqidp",xiexunss);
}</pre> 
<p></p> 
<p></p> 
<h4>APP跳转到淘宝商品详情和优惠券页面demo</h4> 
<p></p> 
<pre>/**
 * 跳转至商品详情
 *
 * @param activity Activity
 * @param url      商品详情
 */
fun gotoGoodsDetail(activity: Activity, url: String?) {
    try {
        //测试商品url
        val intent = Intent()
        intent.action = "Android.intent.action.VIEW"
        val uri = Uri.parse(url) // 商品地址
        intent.data = uri
        intent.setClassName(
            "com.taobao.taobao",
            "com.taobao.tao.detail.activity.DetailActivity"
        )
        intent.flags = Intent.FLAG_ACTIVITY_NEW_TASK
        activity.startActivity(intent)
    } catch (e: Exception) {
        e.printStackTrace()
    }
}</pre> 
<h2>京东，天猫，淘宝，拼多多</h2> 
<pre>    /**
     * 跳转京东详情页
     */
    public void openJD2(String id) {
        if (checkPackage("com.jingdong.app.mall")) {
//            String url = "https://item.jd.com/231023.html";//这是京东商品详情页
//            String id = "100038821904";//需要提取商品id，添加到下面url，不能单独将商品详情页作为url传入
            String url = "openapp.jdmobile://virtual?params=%7B%22sourceValue%22:%220_productDetail_97%22,%22des%22:%22productDetail%22,%22skuId%22:%22"+id+"%22,%22category%22:%22jump%22,%22sourceType%22:%22PCUBE_CHANNEL%22%7D";
            Intent intent = new Intent();
            intent.setAction("android.intent.action.VIEW");
            Uri uri = Uri.parse(url);
            intent.setData(uri);
//            intent.setClassName("com.jingdong.app.mall","com.jd.lib.productdetail.ProductDetailActivity");//不需要
            startActivity(intent);
        }
    }
</pre> 
<p> </p> 
<pre>     if (appChannel!=null&amp;&amp;appChannel.equals("JD")){
                                if (checkPackage("com.jingdong.app.mall")) {
                                    openJD2("100038821904");
//                                    openJD2(url);
                                    return;
                                }

                            }
                            if (appChannel!=null&amp;&amp;appChannel.equals("TMAO")){
                                if (checkPackage("com.tmall.wireless")) {
                                    gotoShop(getActivity(), url);
//                                    gotoShop(getActivity(), "tmall://page.tm/shop?shopId=185441148");
                                    return;
                                }
                            }
                            if (appChannel!=null&amp;&amp;appChannel.equals("TBAO")){
                                if (checkPackage("com.taobao.taobao")) {
                                    gotoShop(getActivity(), url);
//                                    gotoShop(getActivity(), "taobao://shop.m.taobao.com/shop/shop_index.htm?shop_id=185441148");
                                    return;
                                }
                            }
                            if (appChannel!=null&amp;&amp;appChannel.equals("PDD")){
                                if (checkPackage("com.xunmeng.pinduoduo")) {
//                                    String content = "pinduoduo://com.xunmeng.pinduoduo/duo_coupon_landing.html?goods_id=329990619550";
                                    String content = url;
                                    Intent intent=new Intent(Intent.ACTION_VIEW, Uri.parse(content));
                                    startActivity(intent);
                                    return;
                                }
                            }</pre> 
<p> </p> 
<pre>/**
 * 跳转至商铺
 *
 * @param activity Activity
 * @param url      商铺地址
 */
public static void gotoShop(Activity activity, String url) {
    try {
        Intent intent = new Intent();
        intent.setAction("android.intent.action.VIEW");
        intent.setData(Uri.parse(url));
        activity.startActivity(intent);
    } catch (Exception e) {
        e.printStackTrace();
    }
}</pre> 
<p> </p> 
<pre>/**
 * 检测该包名所对应的应用是否存在
 ** @param packageName
 * @return
 */
public boolean checkPackage(String packageName) {
    if (packageName == null || "".equals(packageName)) return false;
    try {
        //手机已安装，返回true
        mContext.getPackageManager().getApplicationInfo(packageName, PackageManager.GET_UNINSTALLED_PACKAGES);
        return true;
    } catch (PackageManager.NameNotFoundException e) {
        //手机未安装，跳转到应用商店下载，并返回false
        Uri uri = Uri.parse("market://details?id="+packageName);
        Intent it = new Intent(Intent.ACTION_VIEW, uri);
        startActivity(it);
        return false;
    }
}</pre> 
<p> </p> 
<p>demo连接：<a href="https://download.csdn.net/download/meixi_android/85282298" title="android开发，APP跳转到淘宝商品详情，优惠券领取页面-Android文档类资源-CSDN下载">android开发，APP跳转到淘宝商品详情，优惠券领取页面-Android文档类资源-CSDN下载</a></p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/8087019122e17c44f55640adc00cba31/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">批量将 PDF 转为 ePub 格式文档</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/8a4e0925d5ff7089bd030c157e5fade4/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">有哪些高含金量的编程竞赛？</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 追风少年的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>