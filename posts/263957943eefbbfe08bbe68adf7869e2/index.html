<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>HarmonyOS—添加/删除Module - 追风少年的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="HarmonyOS—添加/删除Module" />
<meta property="og:description" content="Module是应用/服务的基本功能单元，包含了源代码、资源文件、第三方库及应用/服务配置文件，每一个Module都可以独立进行编译和运行。一个HarmonyOS应用/服务通常会包含一个或多个Module，因此，可以在工程中创建多个Module，每个Module分为Ability和Library两种类型。
在工程中添加Module 创建新的Module 1.通过如下两种方法，在工程中添加新的Module。
方法1：鼠标移到工程目录顶部，单击鼠标右键，选择New &gt; Module…，开始创建新的Module。方法2：选中工程目录中任意文件，然后在菜单栏选择File &gt; New &gt; Module…，开始创建新的Module。 2.在New Project Module界面中，选择需要创建的模板，单击Next。
3.在Module配置页面，设置新增Module的基本信息，然后单击Next。
Module name：新增模块的名称。Module type：仅在Ability模板存在该字段，可以选择Feature和Entry类型。如果同一类型的设备已经存在Entry模块，添加新Module选择Entry类型时，还需要配置distroFilter分发规则。Enable Super Visual：是否使用低代码开发方式。Language：选择该Module的开发语言。Device type：选择模块的设备类型，如果新建模块的Module type为feature，则只能选择该工程原有的设备类型；如果Module type为entry，可以选择该Module支持的其他设备类型。Enable native：仅Library模板存在，将创建一个可以调用C/C&#43;&#43;的共享包。 4.若该Module的模板类型为Ability，还需要设置新增Ability的Ability name和Exported参数，Exported参数表示该Ability是否可以被其它应用/服务所调用（FA模型下为Visible参数)。
勾选（true）：可以被其它应用/服务调用。不勾选（false）：不能被其它应用/服务调用。 5.单击Finish，等待创建完成后，可以在工程目录中查看和编辑新增的Module。
导入Module HarmonyOS工程支持从其它工程中导入HarmonyOS模块的功能，导入的模块只能是HarmonyOS工程中的模块。当前仅支持FA模型的模块导入到FA模型，Stage模型的模块导入到Stage模型，不支持FA模型的模块导入到Stage模型或Stage模型的模块导入到FA模型。
1.在菜单栏单击File &gt; New &gt;Import… &gt;Import Module。
2.选择导入的模块时。其中SDK 4-7的工程既可以选择模块也可以选择工程，而SDK 8-9的工程只可以选择模块。下面以SDK 8-9的工程为例介绍导入模块的具体操作。
在指定路径下，选择导入的模块，单击OK。导入的模块可以为文件夹，也可以为zip格式。
配置distroFilter分发规则 同一类型的设备（Phone、Wearable、Lite Wearable等）可能在系统API版本（apiVersion）、屏幕形状（screenShape）、分辨率（screenWindow）上存在差异。针对这些差异，开发者需要针对同一类型设备的不同型号进行适配开发，然后在应用市场实现精准的分发，以便不同设备的用户能获得更好的使用体验。为了实现应用市场的精准分发，需要在一个工程中，针对同一类型设备添加多个Entry模块来适配不同型号的设备，然后再配置不同的分发规则。具体规则如下：
通过DeviceType与screenShape等属性的组合唯一确定一个Entry。distroFilter中至少包含属性中的一个标签。如果一个Entry模块中配置了screenShape等任意一个或多个标签，则其他的Entry模块也必须包含相同的标签。一般情况下，screenShape和screenWindow标签用于Lite Wearable设备中。不同属性标签的配置格式如下。其中，policy取值为include时，表示设备满足value取值时，应用市场向该设备进行分发；policy取值为exclude时，表示除了value的取值外，其它合法的取值，应用市场都会向设备进行分发。 说明
screenWindow标签的policy取值只能为include。
Stage模型配置分发规则 1.在entry &gt; src &gt; main &gt; resources &gt; profile文件中新建一个.json文件，并根据开发实际需要，配置如下代码信息。Stage模型下分发规则请参见distroFilter标签。
{ &#34;distroFilter&#34;: { &#34;apiVersion&#34;: { //API 版本 &#34;policy&#34;: &#34;include&#34;, &#34;value&#34;: [4, 5] }, &#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://zhuifengsn.github.io/posts/263957943eefbbfe08bbe68adf7869e2/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-02-22T14:41:52+08:00" />
<meta property="article:modified_time" content="2024-02-22T14:41:52+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="追风少年的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">追风少年的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">HarmonyOS—添加/删除Module</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>Module是应用/服务的基本功能单元，包含了源代码、资源文件、第三方库及应用/服务配置文件，每一个Module都可以独立进行编译和运行。一个HarmonyOS应用/服务通常会包含一个或多个Module，因此，可以在工程中创建多个Module，每个Module分为Ability和Library两种类型。</p> 
<h3><a id="Module_2"></a>在工程中添加Module</h3> 
<h3><a id="Module_4"></a>创建新的Module</h3> 
<p>1.通过如下两种方法，在工程中添加新的Module。</p> 
<ul><li>方法1：鼠标移到工程目录顶部，单击鼠标右键，选择<strong>New &gt; Module</strong>…，开始创建新的Module。</li><li>方法2：选中工程目录中任意文件，然后在菜单栏选择<strong>File &gt; New &gt; Module</strong>…，开始创建新的Module。</li></ul> 
<p>2.<strong>在New Project Module</strong>界面中，选择需要创建的模板，单击<strong>Next</strong>。</p> 
<p><img alt="在这里插入图片描述" src="https://images2.imgbox.com/05/5e/HPBiSiHi_o.png"><br> 3.在Module配置页面，设置新增Module的基本信息，然后单击<strong>Next</strong>。</p> 
<ul><li><strong>Module name</strong>：新增模块的名称。</li><li><strong>Module type</strong>：仅在Ability模板存在该字段，可以选择Feature和Entry类型。如果同一类型的设备已经存在Entry模块，添加新Module选择Entry类型时，还需要配置distroFilter分发规则。</li><li><strong>Enable Super Visual</strong>：是否使用低代码开发方式。</li><li><strong>Language</strong>：选择该Module的开发语言。</li><li><strong>Device type</strong>：选择模块的设备类型，如果新建模块的Module type为feature，则只能选择该工程原有的设备类型；如果Module type为entry，可以选择该Module支持的其他设备类型。</li><li><strong>Enable native</strong>：仅Library模板存在，将创建一个可以调用C/C++的共享包。</li></ul> 
<p><img alt="在这里插入图片描述" src="https://images2.imgbox.com/24/d8/dMszXYEt_o.png"><br> 4.若该Module的模板类型为Ability，还需要设置新增Ability的<strong>Ability name</strong>和<strong>Exported</strong>参数，<strong>Exported</strong>参数表示该Ability是否可以被其它应用/服务所调用（<strong>FA模型下为Visible参数</strong>)。</p> 
<ul><li>勾选（true）：可以被其它应用/服务调用。</li><li>不勾选（false）：不能被其它应用/服务调用。</li></ul> 
<p>5.单击<strong>Finish</strong>，等待创建完成后，可以在工程目录中查看和编辑新增的Module。</p> 
<h3><a id="Module_30"></a>导入Module</h3> 
<p>HarmonyOS工程支持从其它工程中导入HarmonyOS模块的功能，导入的模块只能是HarmonyOS工程中的模块。当前仅支持FA模型的模块导入到FA模型，Stage模型的模块导入到Stage模型，不支持FA模型的模块导入到Stage模型或Stage模型的模块导入到FA模型。</p> 
<p>1.在菜单栏单击<strong>File &gt; New &gt;Import… &gt;Import Module</strong>。<br><img alt="在这里插入图片描述" src="https://images2.imgbox.com/72/67/we7733QL_o.png"><br> 2.选择导入的模块时。其中SDK 4-7的工程既可以选择模块也可以选择工程，而SDK 8-9的工程只可以选择模块。下面以SDK 8-9的工程为例介绍导入模块的具体操作。</p> 
<p>在指定路径下，选择导入的模块，单击OK。导入的模块可以为文件夹，也可以为zip格式。<br><img alt="在这里插入图片描述" src="https://images2.imgbox.com/5c/0e/OXI8Uzq1_o.png"></p> 
<h3><a id="distroFilter_41"></a>配置distroFilter分发规则</h3> 
<p>同一类型的设备（Phone、Wearable、Lite Wearable等）可能在系统API版本（apiVersion）、屏幕形状（screenShape）、分辨率（screenWindow）上存在差异。针对这些差异，开发者需要针对同一类型设备的不同型号进行适配开发，然后在应用市场实现精准的分发，以便不同设备的用户能获得更好的使用体验。为了实现应用市场的精准分发，需要在一个工程中，针对同一类型设备添加多个Entry模块来适配不同型号的设备，然后再配置不同的分发规则。具体规则如下：</p> 
<ul><li>通过DeviceType与screenShape等属性的组合唯一确定一个Entry。</li><li>distroFilter中至少包含属性中的一个标签。</li><li>如果一个Entry模块中配置了screenShape等任意一个或多个标签，则其他的Entry模块也必须包含相同的标签。</li><li>一般情况下，screenShape和screenWindow标签用于Lite Wearable设备中。</li><li>不同属性标签的配置格式如下。其中，policy取值为include时，表示设备满足value取值时，应用市场向该设备进行分发；policy取值为exclude时，表示除了value的取值外，其它合法的取值，应用市场都会向设备进行分发。</li></ul> 
<blockquote> 
 <p>说明<br> screenWindow标签的policy取值只能为include。</p> 
</blockquote> 
<h3><a id="Stage_54"></a>Stage模型配置分发规则</h3> 
<p>1.在entry &gt; src &gt; main &gt; resources &gt; profile文件中新建一个.json文件，并根据开发实际需要，配置如下代码信息。Stage模型下分发规则请参见distroFilter标签。</p> 
<pre><code>{
   "distroFilter": {
      "apiVersion": {     //API 版本
         "policy": "include",
         "value": [4, 5]
      },
      "screenShape": {    //屏幕形状枚举
         "policy": "include",
         "value": ["circle", "rect"]
      },
      "screenWindow": {   //屏幕尺寸
         "policy": "include",
         "value": ["454*454", "466*466"]
      },
      "screenDensity": {  //屏幕的像素密度
         "policy": "exclude",
         "value": ["ldpi", "xldpi"]
      },
      "countryCode": {   //国家地区
         "policy": "include",
         "value": ["CN", "HK"] 
      }
   }
}
</code></pre> 
<p>2.在module.json文件中指定分发文件。</p> 
<pre><code>{
  "module": {
    "name": "MyAbilityStage",
    "metadata": [
      {
        "name": "ohos.module.distro",
        "resource": "$profile:distro_filter_config"    //distro_filter_config为被指定的分发文件
      }
    ]
  }
}
</code></pre> 
<h3><a id="FA_100"></a>FA模型下配置分发规则</h3> 
<p>在同一个工程中，如果同一个设备存在多个Entry模块，需要在每一个Entry模块的config.json文件中，配置distroFilter分发规则。FA模型distroFilter字段请参见distroFilter对象的内部结构。</p> 
<pre><code>"module": {
  ...
  "distroFilter": {
    "标签名字": {
      "policy": "include|exclude"
      "value": [ a, b, c] 
    }
  }
}
</code></pre> 
<h3><a id="Module_116"></a>删除Module</h3> 
<p>在工程目录中选中要删除的模块，单击鼠标右键，选中<strong>Delete</strong>，并在弹出的对话框中单击<strong>Delete</strong>。</p> 
<p>为了能够让大家跟上互联网时代的技术迭代，<strong>在这里跟大家分享一下我自己近期学习心得以及参考网上资料整理出的一份最新版的鸿蒙学习提升资料</strong>，有需要的小伙伴自行领取，<strong>限时开源，先到先得~~~~</strong></p> 
<p><strong>领取以下高清学习路线原图请点击→《<a class="link-info" href="https://docs.qq.com/doc/DZVVkRGRUd3pHSnFG" rel="nofollow" title="鸿蒙基础入门学习指南">鸿蒙基础入门学习指南</a>》纯血鸿蒙HarmonyOS基础技能学习路线图</strong></p> 
<p><img alt="在这里插入图片描述" src="https://images2.imgbox.com/99/13/dZ7qe0kQ_o.png"><br><strong>领取以上完整高清学习路线图，请点击→《<a class="link-info" href="https://docs.qq.com/doc/DZXhBdXFJeHJBYWti" rel="nofollow" title="鸿蒙 (Harmony OS)开发学习手册">鸿蒙 (Harmony OS)开发学习手册</a>》小编自己整理的部分学习资料（包含有高清视频、开发文档、电子书籍等）</strong></p> 
<p><img alt="在这里插入图片描述" src="https://images2.imgbox.com/43/7b/NRMRGhri_o.png"></p> 
<blockquote> 
 <p>以上分享的学习路线都适合哪些人跟着学习？<br> -应届生/计算机专业通过学习鸿蒙新兴技术，入行互联网，未来高起点就业。<br> -0基础转行提前布局新方向，抓住风口，自我提升，获得更多就业机会。<br> -技术提升/进阶跳槽发展瓶颈期，提升职场竞争力，快速掌握鸿蒙技术，享受蓝海红利。</p> 
</blockquote> 
<p><img alt="在这里插入图片描述" src="https://images2.imgbox.com/57/b4/27onLCso_o.png"></p> 
<h3><a id="_136"></a>最后</h3> 
<p>鸿蒙开发学习是一个系统化的过程，<strong>从基础知识的学习到实战技能的锤炼</strong>，再到对前沿技术的探索，每一环节都至关重要。<strong>希望这份教程资料能帮助您快速入门并在鸿蒙开发之路上步步攀升，成就一番事业。让我们一起乘风破浪，拥抱鸿蒙生态的广阔未来！</strong></p> 
<p>如果你觉得这篇内容对你有帮助，我想麻烦大家动动小手给我：<strong>点赞，转发，有你们的 『点赞和评论』</strong>，才是我创造的动力。</p> 
<p>关注我，同时可以期待后续文章ing，不定期分享原创知识。</p> 
<p><strong>想要获取更多完整鸿蒙最新VIP学习资料，请点击→《<a class="link-info" href="https://docs.qq.com/doc/DZWN1TnRDeE5yWXNL" rel="nofollow" title="鸿蒙全套学习指南">鸿蒙全套学习指南</a>》</strong></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/b742a2945996bfebeb494e712ef910bb/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【JVM】五种对象引用</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/2470e49b2d0f46f338ca67e773f1b794/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">HTTP 与 HTTPS-HTTP 解决了 HTTP 哪些问题?</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 追风少年的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>