<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Vue基础知识七 - 追风少年的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Vue基础知识七" />
<meta property="og:description" content="一 路由 1.1 生活里的路由与路由器 是为了实现多台设备上网
1.2 程序里的路由与路由器 是为了实现导航区与展示区来回切换；
SPA单页面应用：就像前几章节里的项目，整个项目只有一个html文件；
案例
注意，最开始的时候，地址栏后边没有任何后缀
当点击左侧&#34;班级管理&#34;后，地址栏的地址有了变化（但是浏览器左上角的刷新按钮没有刷新，即只有一个页面）
浏览器路径一旦发生变化，就会被vue-router（vue里的路由器）监测到；vue-router拿着地址栏里的后缀class去找我们配置过的路由规则，根据规则最终展示班级组件
其中，class就是路由里的key，班级组件就是路由里的value；
同理，点击左侧&#34;学科管理&#34;时，发生如下过程
1.3 vue-router 的理解 vue 的一个插件库，专门用来实现 SPA 应用
对 SPA 应用的理解
单页 Web 应用（single page web application，SPA）。整个应用只有一个完整的页面（index.html）。点击页面中的导航链接不会刷新页面，只会做页面的局部更新。数据需要通过 ajax 请求获取。 1.4 路由的理解 什么是路由
一个路由就是一组映射关系（key - value）key 为路径, value 可能是 function 或 component 路由分类
后端路由： 理解：value 是 function, 用于处理客户端提交的请求。工作过程：服务器接收到一个请求时, 根据请求路径找到匹配的函数来处理请求, 返回响应数据。 前端路由： 理解：value 是 component，用于展示页面内容。工作过程：当浏览器的路径改变时, 对应的组件就会显示。 二 路由基本使用 安装vue-router
npm -i vue-router main.js里引入vueRouter
此时，vm就会多出来一个新的配置项：router（路由器）；配置前需要先创建出一个路由器
在main.js里配置这个路由器
使用路由后，不能使用原始的a标签实现跳转了，需要使用router-link标签；且不能使用href了，要改为to
指定一下组件内容要出现的位置" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://zhuifengsn.github.io/posts/96bdc1d643b7005b3383059e20d0787c/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-02-04T00:15:00+08:00" />
<meta property="article:modified_time" content="2024-02-04T00:15:00+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="追风少年的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">追风少年的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Vue基础知识七</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="__0"></a>一 路由</h2> 
<h3><a id="11__1"></a>1.1 生活里的路由与路由器</h3> 
<p><img src="https://images2.imgbox.com/60/d9/Hik99pVR_o.png" alt="在这里插入图片描述"><br> 是为了实现多台设备上网</p> 
<h3><a id="12__5"></a>1.2 程序里的路由与路由器</h3> 
<p><img src="https://images2.imgbox.com/65/2e/Ui4Ksk8J_o.png" alt="在这里插入图片描述"><br> 是为了实现导航区与展示区来回切换；</p> 
<p>SPA单页面应用：就像前几章节里的项目，整个项目只有<strong>一个html文件</strong>；</p> 
<p><strong>案例</strong><br> 注意，最开始的时候，地址栏后边没有任何后缀<br> <img src="https://images2.imgbox.com/d5/2e/AT2CmjCe_o.png" alt="在这里插入图片描述"><br> 当点击左侧"班级管理"后，地址栏的地址有了变化（但是浏览器左上角的刷新按钮没有刷新，即只有一个页面）<br> <img src="https://images2.imgbox.com/71/0a/Ev11CtQp_o.png" alt="在这里插入图片描述"><br> 浏览器路径一旦发生变化，就会被vue-router（vue里的路由器）监测到；vue-router拿着地址栏里的后缀class去找我们配置过的路由规则，根据规则最终展示<strong>班级组件</strong><br> <img src="https://images2.imgbox.com/79/3c/QoBD3HIl_o.png" alt="在这里插入图片描述"><br> 其中，class就是路由里的key，班级组件就是路由里的value；</p> 
<p>同理，点击左侧"学科管理"时，发生如下过程<br> <img src="https://images2.imgbox.com/da/d4/OTQt7yoP_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="13__vuerouter__23"></a>1.3 vue-router 的理解</h3> 
<p>vue 的一个插件库，专门用来实现 SPA 应用</p> 
<p><strong>对 SPA 应用的理解</strong></p> 
<ol><li>单页 Web 应用（single page web application，SPA）。</li><li>整个应用只有<strong>一个完整的页面</strong>（index.html）。</li><li>点击页面中的导航链接<strong>不会刷新</strong>页面，只会做页面的局部更新。</li><li>数据需要通过 ajax 请求获取。</li></ol> 
<h3><a id="14__32"></a>1.4 路由的理解</h3> 
<p><strong>什么是路由</strong></p> 
<ol><li>一个路由就是一组映射关系（key - value）</li><li>key 为路径, value 可能是 function 或 component</li></ol> 
<p><strong>路由分类</strong></p> 
<ol><li>后端路由： 
  <ol><li>理解：value 是 function, 用于处理客户端提交的请求。</li><li>工作过程：服务器接收到一个请求时, 根据请求路径找到匹配的函数来处理请求, 返回响应数据。</li></ol> </li><li>前端路由： 
  <ol><li>理解：value 是 component，用于展示页面内容。</li><li>工作过程：当浏览器的路径改变时, 对应的组件就会显示。</li></ol> </li></ol> 
<h2><a id="__45"></a>二 路由基本使用</h2> 
<p><img src="https://images2.imgbox.com/4e/07/4Gc36L9Q_o.gif" alt="在这里插入图片描述"></p> 
<p>安装vue-router</p> 
<pre><code class="prism language-shell"><span class="token function">npm</span> -i vue-router
</code></pre> 
<p>main.js里引入vueRouter<br> <img src="https://images2.imgbox.com/0d/a6/tiwMisGS_o.png" alt="在这里插入图片描述"></p> 
<p>此时，vm就会多出来一个新的配置项：router（路由器）；配置前需要先创建出一个路由器<br> <img src="https://images2.imgbox.com/62/b0/LKp6dnL6_o.png" alt="在这里插入图片描述"></p> 
<p>在main.js里配置这个路由器<br> <img src="https://images2.imgbox.com/ed/e9/AdW0vrho_o.png" alt="在这里插入图片描述"><br> 使用路由后，不能使用原始的a标签实现跳转了，需要使用router-link标签；且不能使用href了，要改为to<br> <img src="https://images2.imgbox.com/83/6f/EmafNXI5_o.png" alt="在这里插入图片描述"></p> 
<p>指定一下组件内容要出现的位置<br> <img src="https://images2.imgbox.com/a7/62/23xwkozy_o.png" alt="在这里插入图片描述"><br> 完整代码<br> router/index.js</p> 
<pre><code class="prism language-javascript"><span class="token comment">// 该文件专门用于创建整个应用的路由器</span>
<span class="token keyword">import</span> VueRouter <span class="token keyword">from</span> <span class="token string">'vue-router'</span>
<span class="token comment">//引入组件</span>
<span class="token keyword">import</span> About <span class="token keyword">from</span> <span class="token string">'../components/About'</span>
<span class="token keyword">import</span> Home <span class="token keyword">from</span> <span class="token string">'../components/Home'</span>

<span class="token comment">//创建并暴露一个路由器</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">VueRouter</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
	routes<span class="token operator">:</span><span class="token punctuation">[</span>
		<span class="token punctuation">{<!-- --></span>
			path<span class="token operator">:</span><span class="token string">'/about'</span><span class="token punctuation">,</span>
			component<span class="token operator">:</span>About
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token punctuation">{<!-- --></span>
			path<span class="token operator">:</span><span class="token string">'/home'</span><span class="token punctuation">,</span>
			component<span class="token operator">:</span>Home
		<span class="token punctuation">}</span>
	<span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> 
<p>main.js</p> 
<pre><code class="prism language-javascript"><span class="token comment">//引入Vue</span>
<span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token comment">//引入App</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">'./App.vue'</span>
<span class="token comment">//引入VueRouter</span>
<span class="token keyword">import</span> VueRouter <span class="token keyword">from</span> <span class="token string">'vue-router'</span>
<span class="token comment">//引入路由器</span>
<span class="token keyword">import</span> router <span class="token keyword">from</span> <span class="token string">'./router'</span>

<span class="token comment">//关闭Vue的生产提示</span>
Vue<span class="token punctuation">.</span>config<span class="token punctuation">.</span>productionTip <span class="token operator">=</span> <span class="token boolean">false</span>
<span class="token comment">//应用插件</span>
Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>VueRouter<span class="token punctuation">)</span>

<span class="token comment">//创建vm</span>
<span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
	el<span class="token operator">:</span><span class="token string">'#app'</span><span class="token punctuation">,</span>
	<span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token parameter">h</span> <span class="token operator">=&gt;</span> <span class="token function">h</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span><span class="token punctuation">,</span>
	router<span class="token operator">:</span>router
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> 
<p>App.vue</p> 
<pre><code class="prism language-javascript"><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"row"</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"col-xs-offset-2 col-xs-8"</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"page-header"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>h2<span class="token operator">&gt;</span>Vue Router Demo<span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"row"</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"col-xs-2 col-xs-offset-2"</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"list-group"</span><span class="token operator">&gt;</span>
					<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 原始html中我们使用a标签实现页面的跳转 <span class="token operator">--</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> <span class="token operator">&lt;</span>a <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"list-group-item active"</span> href<span class="token operator">=</span><span class="token string">"./about.html"</span><span class="token operator">&gt;</span>About<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span> <span class="token operator">--</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> <span class="token operator">&lt;</span>a <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"list-group-item"</span> href<span class="token operator">=</span><span class="token string">"./home.html"</span><span class="token operator">&gt;</span>Home<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span> <span class="token operator">--</span><span class="token operator">&gt;</span>

					<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> Vue中借助router<span class="token operator">-</span>link标签实现路由的切换 <span class="token operator">--</span><span class="token operator">&gt;</span>
					<span class="token operator">&lt;</span>router<span class="token operator">-</span>link <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"list-group-item"</span> active<span class="token operator">-</span><span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"active"</span> to<span class="token operator">=</span><span class="token string">"/about"</span><span class="token operator">&gt;</span>About<span class="token operator">&lt;</span><span class="token operator">/</span>router<span class="token operator">-</span>link<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>router<span class="token operator">-</span>link <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"list-group-item"</span> active<span class="token operator">-</span><span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"active"</span> to<span class="token operator">=</span><span class="token string">"/home"</span><span class="token operator">&gt;</span>Home<span class="token operator">&lt;</span><span class="token operator">/</span>router<span class="token operator">-</span>link<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"col-xs-6"</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"panel"</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"panel-body"</span><span class="token operator">&gt;</span>
						<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 指定组件的呈现位置 <span class="token operator">--</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>router<span class="token operator">-</span>view<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>router<span class="token operator">-</span>view<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
	<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
		name<span class="token operator">:</span><span class="token string">'App'</span><span class="token punctuation">,</span>
	<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre> 
<p>About.vue</p> 
<pre><code class="prism language-javascript"><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>h2<span class="token operator">&gt;</span>我是About的内容<span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
	<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
		name<span class="token operator">:</span><span class="token string">'About'</span>
	<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre> 
<p>Home.vue</p> 
<pre><code class="prism language-javascript"><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>h2<span class="token operator">&gt;</span>我是Home的内容<span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
	<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
		name<span class="token operator">:</span><span class="token string">'Home'</span>
	<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre> 
<p>总结</p> 
<ol><li>理解： 一个路由（route）就是一组映射关系（key - value），多个路由需要路由器（router）进行管理。</li><li>前端路由：key是路径，value是组件。</li></ol> 
<h3><a id="21__186"></a>2.1 基本使用</h3> 
<ol><li> <p>安装vue-router，命令：<code>npm i vue-router</code></p> </li><li> <p>应用插件：<code>Vue.use(VueRouter)</code></p> </li><li> <p>编写router配置项:</p> <pre><code class="prism language-js"><span class="token comment">//引入VueRouter</span>
<span class="token keyword">import</span> VueRouter <span class="token keyword">from</span> <span class="token string">'vue-router'</span>
<span class="token comment">//引入Luyou 组件</span>
<span class="token keyword">import</span> About <span class="token keyword">from</span> <span class="token string">'../components/About'</span>
<span class="token keyword">import</span> Home <span class="token keyword">from</span> <span class="token string">'../components/Home'</span>

<span class="token comment">//创建router实例对象，去管理一组一组的路由规则</span>
<span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VueRouter</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
	routes<span class="token operator">:</span><span class="token punctuation">[</span>
		<span class="token punctuation">{<!-- --></span>
			path<span class="token operator">:</span><span class="token string">'/about'</span><span class="token punctuation">,</span>
			component<span class="token operator">:</span>About
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token punctuation">{<!-- --></span>
			path<span class="token operator">:</span><span class="token string">'/home'</span><span class="token punctuation">,</span>
			component<span class="token operator">:</span>Home
		<span class="token punctuation">}</span>
	<span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">//暴露router</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> router
</code></pre> </li><li> <p>实现切换（active-class可配置高亮样式）</p> <pre><code class="prism language-vue">&lt;router-link active-class="active" to="/about"&gt;About&lt;/router-link&gt;
</code></pre> </li><li> <p>指定展示位置</p> <pre><code class="prism language-vue">&lt;router-view&gt;&lt;/router-view&gt;

</code></pre> </li></ol> 
<p>几个注意点</p> 
<ol><li>路由组件通常存放在<code>pages</code>文件夹，一般组件通常存放在<code>components</code>文件夹。</li><li>通过切换，“隐藏”了的路由组件，默认是被销毁掉的，需要的时候再去挂载。</li><li>每个组件都有自己的<code>$route</code>属性，里面存储着自己的路由信息。</li><li>整个应用只有一个router，可以通过组件的<code>$router</code>属性获取到。</li></ol> 
<h3><a id="22_query_238"></a>2.2 多级路由以及路由传参（query传参）</h3> 
<p>案例1: 多极路由</p> 
<p><img src="https://images2.imgbox.com/50/32/pCfWhObu_o.png" alt="在这里插入图片描述"></p> 
<p>Home.vue</p> 
<pre><code class="prism language-javascript"><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>h2<span class="token operator">&gt;</span>Home组件内容<span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
			<span class="token operator">&lt;</span>ul <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"nav nav-tabs"</span><span class="token operator">&gt;</span>
				<span class="token operator">&lt;</span>li<span class="token operator">&gt;</span>
					<span class="token operator">&lt;</span>router<span class="token operator">-</span>link <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"list-group-item"</span> active<span class="token operator">-</span><span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"active"</span> to<span class="token operator">=</span><span class="token string">"/home/news"</span><span class="token operator">&gt;</span>News<span class="token operator">&lt;</span><span class="token operator">/</span>router<span class="token operator">-</span>link<span class="token operator">&gt;</span>
				<span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
				<span class="token operator">&lt;</span>li<span class="token operator">&gt;</span>
					<span class="token operator">&lt;</span>router<span class="token operator">-</span>link <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"list-group-item"</span> active<span class="token operator">-</span><span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"active"</span> to<span class="token operator">=</span><span class="token string">"/home/message"</span><span class="token operator">&gt;</span>Message<span class="token operator">&lt;</span><span class="token operator">/</span>router<span class="token operator">-</span>link<span class="token operator">&gt;</span>
				<span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
			<span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">&gt;</span>
			<span class="token operator">&lt;</span>router<span class="token operator">-</span>view<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>router<span class="token operator">-</span>view<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
	<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
		name<span class="token operator">:</span><span class="token string">'Home'</span><span class="token punctuation">,</span>
		<span class="token comment">/* beforeDestroy() {
			console.log('Home组件即将被销毁了')
		}, */</span>
		<span class="token comment">/* mounted() {
			console.log('Home组件挂载完毕了',this)
			window.homeRoute = this.$route
			window.homeRouter = this.$router
		},  */</span>
	<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre> 
<p>News.vue</p> 
<pre><code class="prism language-javascript"><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>ul<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>li<span class="token operator">&gt;</span>news001<span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>li<span class="token operator">&gt;</span>news002<span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>li<span class="token operator">&gt;</span>news003<span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
	<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
		name<span class="token operator">:</span><span class="token string">'News'</span>
	<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre> 
<p>Message.vue</p> 
<pre><code class="prism language-javascript"><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>ul<span class="token operator">&gt;</span>
			<span class="token operator">&lt;</span>li<span class="token operator">&gt;</span>
				<span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">"/message1"</span><span class="token operator">&gt;</span>message001<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span><span class="token operator">&amp;</span>nbsp<span class="token punctuation">;</span><span class="token operator">&amp;</span>nbsp<span class="token punctuation">;</span>
			<span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
			<span class="token operator">&lt;</span>li<span class="token operator">&gt;</span>
				<span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">"/message2"</span><span class="token operator">&gt;</span>message002<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span><span class="token operator">&amp;</span>nbsp<span class="token punctuation">;</span><span class="token operator">&amp;</span>nbsp<span class="token punctuation">;</span>
			<span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
			<span class="token operator">&lt;</span>li<span class="token operator">&gt;</span>
				<span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">"/message/3"</span><span class="token operator">&gt;</span>message003<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span><span class="token operator">&amp;</span>nbsp<span class="token punctuation">;</span><span class="token operator">&amp;</span>nbsp<span class="token punctuation">;</span>
			<span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
	<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
		name<span class="token operator">:</span><span class="token string">'Message'</span>
	<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre> 
<p>router/index.js里配置子路由<br> <img src="https://images2.imgbox.com/a5/49/yYl25caZ_o.png" alt="在这里插入图片描述"></p> 
<p>案例2：路由传参</p> 
<p><img src="https://images2.imgbox.com/ec/51/aiIXH2SJ_o.png" alt="在这里插入图片描述"></p> 
<p>展示详情的Detail.vue<br> <img src="https://images2.imgbox.com/18/23/KuNAdXwX_o.png" alt="在这里插入图片描述"></p> 
<p>定义一个路由规则（在第二级里定义）<br> <img src="https://images2.imgbox.com/19/a9/0VLvuCjP_o.png" alt="在这里插入图片描述"><br> 配置跳转地址以及组件展示区域<br> <img src="https://images2.imgbox.com/28/e9/1ILXZB2C_o.png" alt="在这里插入图片描述"><br> 路由传参</p> 
<p>注意：前边加冒号，则绿色框里的就会被当成js去解析，<code>${m.id}</code>用来被当做变量<br> <img src="https://images2.imgbox.com/92/f5/uLZ9IilL_o.png" alt="在这里插入图片描述"><br> 还有一种传参写法（推荐）<br> <img src="https://images2.imgbox.com/02/32/1EsdVsk1_o.png" alt="在这里插入图片描述"></p> 
<p>接收参数<br> <img src="https://images2.imgbox.com/69/d3/T2H63wLD_o.png" alt="在这里插入图片描述"></p> 
<p>总结</p> 
<ol><li> <p>配置路由规则，使用children配置项：</p> <pre><code class="prism language-js">routes<span class="token operator">:</span><span class="token punctuation">[</span>
	<span class="token punctuation">{<!-- --></span>
		path<span class="token operator">:</span><span class="token string">'/about'</span><span class="token punctuation">,</span>
		component<span class="token operator">:</span>About<span class="token punctuation">,</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token punctuation">{<!-- --></span>
		path<span class="token operator">:</span><span class="token string">'/home'</span><span class="token punctuation">,</span>
		component<span class="token operator">:</span>Home<span class="token punctuation">,</span>
		children<span class="token operator">:</span><span class="token punctuation">[</span> <span class="token comment">//通过children配置子级路由</span>
			<span class="token punctuation">{<!-- --></span>
				path<span class="token operator">:</span><span class="token string">'news'</span><span class="token punctuation">,</span> <span class="token comment">//此处一定不要写：/news</span>
				component<span class="token operator">:</span>News
			<span class="token punctuation">}</span><span class="token punctuation">,</span>
			<span class="token punctuation">{<!-- --></span>
				path<span class="token operator">:</span><span class="token string">'message'</span><span class="token punctuation">,</span><span class="token comment">//此处一定不要写：/message</span>
				component<span class="token operator">:</span>Message
			<span class="token punctuation">}</span>
		<span class="token punctuation">]</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre> </li><li> <p>跳转（要写完整路径）：</p> <pre><code class="prism language-vue">&lt;router-link to="/home/news"&gt;News&lt;/router-link&gt;
</code></pre> </li></ol> 
<p><strong>路由的query参数</strong></p> 
<ol><li> <p>传递参数</p> <pre><code class="prism language-vue">&lt;!-- 跳转并携带query参数，to的字符串写法 --&gt;
&lt;router-link :to="/home/message/detail?id=666&amp;title=你好"&gt;跳转&lt;/router-link&gt;
				
&lt;!-- 跳转并携带query参数，to的对象写法 --&gt;
&lt;router-link 
	:to="{
		path:'/home/message/detail',
		query:{
		   id:666,
            title:'你好'
		}
	}"
&gt;跳转&lt;/router-link&gt;
</code></pre> </li><li> <p>接收参数：</p> <pre><code class="prism language-js">$route<span class="token punctuation">.</span>query<span class="token punctuation">.</span>id
$route<span class="token punctuation">.</span>query<span class="token punctuation">.</span>title
</code></pre> </li></ol> 
<h3><a id="23__409"></a>2.3 命名路由</h3> 
<p>给路由起名字<br> <img src="https://images2.imgbox.com/35/15/YKm4JiFA_o.png" alt="在这里插入图片描述"><br> 这样可以在跳转的时候简化编码<br> <img src="https://images2.imgbox.com/f1/00/tnoMg0DS_o.png" alt="在这里插入图片描述"><br> 此时上边这里就不需再用path了，直接使用name，如下<br> <img src="https://images2.imgbox.com/65/e9/ljzKdLmk_o.png" alt="在这里插入图片描述"><br> App.vue里使用路由名字的时候，需要这样写：<br> <img src="https://images2.imgbox.com/cd/4a/RY5crfwk_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/fc/9e/oaDS91sQ_o.png" alt="在这里插入图片描述"><br> 总结</p> 
<ol><li> <p>作用：可以简化路由的跳转。</p> </li><li> <p>如何使用</p> 
  <ol><li> <p>给路由命名：</p> <pre><code class="prism language-js"><span class="token punctuation">{<!-- --></span>
	path<span class="token operator">:</span><span class="token string">'/demo'</span><span class="token punctuation">,</span>
	component<span class="token operator">:</span>Demo<span class="token punctuation">,</span>
	children<span class="token operator">:</span><span class="token punctuation">[</span>
		<span class="token punctuation">{<!-- --></span>
			path<span class="token operator">:</span><span class="token string">'test'</span><span class="token punctuation">,</span>
			component<span class="token operator">:</span>Test<span class="token punctuation">,</span>
			children<span class="token operator">:</span><span class="token punctuation">[</span>
				<span class="token punctuation">{<!-- --></span>
                      name<span class="token operator">:</span><span class="token string">'hello'</span> <span class="token comment">//给路由命名</span>
					path<span class="token operator">:</span><span class="token string">'welcome'</span><span class="token punctuation">,</span>
					component<span class="token operator">:</span>Hello<span class="token punctuation">,</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">]</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> </li><li> <p>简化跳转：</p> <pre><code class="prism language-vue">&lt;!--简化前，需要写完整的路径 --&gt;
&lt;router-link to="/demo/test/welcome"&gt;跳转&lt;/router-link&gt;

&lt;!--简化后，直接通过名字跳转 --&gt;
&lt;router-link :to="{name:'hello'}"&gt;跳转&lt;/router-link&gt;

&lt;!--简化写法配合传递参数 --&gt;
&lt;router-link 
	:to="{
		name:'hello',
		query:{
		   id:666,
            title:'你好'
		}
	}"
&gt;跳转&lt;/router-link&gt;
</code></pre> </li></ol> </li></ol> 
<h3><a id="24__467"></a>2.4 路由传参方式二</h3> 
<p>第一种是上边的query传参，这里是param传参；</p> 
<p>传递参数方Message.vue，param有如下两种方式传递<br> <img src="https://images2.imgbox.com/c8/42/Sjt7HfUC_o.png" alt="在这里插入图片描述"></p> 
<p>接收参数方Detail.vue<br> <img src="https://images2.imgbox.com/59/fd/uFVkS15j_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-javascript"><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>ul<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>li<span class="token operator">&gt;</span>消息编号：<span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span>$route<span class="token punctuation">.</span>params<span class="token punctuation">.</span>id<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>li<span class="token operator">&gt;</span>消息标题：<span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span>$route<span class="token punctuation">.</span>params<span class="token punctuation">.</span>title<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
	<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
		name<span class="token operator">:</span><span class="token string">'Detail'</span><span class="token punctuation">,</span>
		<span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			<span class="token comment">// console.log(this.$route)</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre> 
<p>总结</p> 
<ol><li> <p>配置路由，声明接收params参数</p> <pre><code class="prism language-js"><span class="token punctuation">{<!-- --></span>
	path<span class="token operator">:</span><span class="token string">'/home'</span><span class="token punctuation">,</span>
	component<span class="token operator">:</span>Home<span class="token punctuation">,</span>
	children<span class="token operator">:</span><span class="token punctuation">[</span>
		<span class="token punctuation">{<!-- --></span>
			path<span class="token operator">:</span><span class="token string">'news'</span><span class="token punctuation">,</span>
			component<span class="token operator">:</span>News
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token punctuation">{<!-- --></span>
			component<span class="token operator">:</span>Message<span class="token punctuation">,</span>
			children<span class="token operator">:</span><span class="token punctuation">[</span>
				<span class="token punctuation">{<!-- --></span>
					name<span class="token operator">:</span><span class="token string">'xiangqing'</span><span class="token punctuation">,</span>
					path<span class="token operator">:</span><span class="token string">'detail/:id/:title'</span><span class="token punctuation">,</span> <span class="token comment">//使用占位符声明接收params参数</span>
					component<span class="token operator">:</span>Detail
				<span class="token punctuation">}</span>
			<span class="token punctuation">]</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> </li><li> <p>传递参数</p> <pre><code class="prism language-vue">&lt;!-- 跳转并携带params参数，to的字符串写法 --&gt;
&lt;router-link :to="/home/message/detail/666/你好"&gt;跳转&lt;/router-link&gt;
				
&lt;!-- 跳转并携带params参数，to的对象写法 --&gt;
&lt;router-link 
	:to="{
		name:'xiangqing',
		params:{
		   id:666,
            title:'你好'
		}
	}"
&gt;跳转&lt;/router-link&gt;
</code></pre> 
  <blockquote> 
   <p>特别注意：路由携带params参数时，若使用to的对象写法，则不能使用path配置项，必须使用name配置！</p> 
  </blockquote> </li><li> <p>接收参数：</p> <pre><code class="prism language-js">$route<span class="token punctuation">.</span>params<span class="token punctuation">.</span>id
$route<span class="token punctuation">.</span>params<span class="token punctuation">.</span>title
</code></pre> </li></ol> 
<h3><a id="25_props_547"></a>2.5 路由的props配置</h3> 
<p><img src="https://images2.imgbox.com/ed/8c/zsuRMP4c_o.png" alt="在这里插入图片描述"></p> 
<p>用来解决传递的参数太多的时候，代码冗余的问题；</p> 
<p>谁接收参数，就去谁那儿配置，在route/index.js里：<br> <img src="https://images2.imgbox.com/58/35/tLhoYtHt_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-javascript"><span class="token comment">// 该文件专门用于创建整个应用的路由器</span>
<span class="token keyword">import</span> VueRouter <span class="token keyword">from</span> <span class="token string">'vue-router'</span>
<span class="token comment">//引入组件</span>
<span class="token keyword">import</span> About <span class="token keyword">from</span> <span class="token string">'../pages/About'</span>
<span class="token keyword">import</span> Home <span class="token keyword">from</span> <span class="token string">'../pages/Home'</span>
<span class="token keyword">import</span> News <span class="token keyword">from</span> <span class="token string">'../pages/News'</span>
<span class="token keyword">import</span> Message <span class="token keyword">from</span> <span class="token string">'../pages/Message'</span>
<span class="token keyword">import</span> Detail <span class="token keyword">from</span> <span class="token string">'../pages/Detail'</span>

<span class="token comment">//创建并暴露一个路由器</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">VueRouter</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
	routes<span class="token operator">:</span><span class="token punctuation">[</span>
		<span class="token punctuation">{<!-- --></span>
			name<span class="token operator">:</span><span class="token string">'guanyu'</span><span class="token punctuation">,</span>
			path<span class="token operator">:</span><span class="token string">'/about'</span><span class="token punctuation">,</span>
			component<span class="token operator">:</span>About
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token punctuation">{<!-- --></span>
			path<span class="token operator">:</span><span class="token string">'/home'</span><span class="token punctuation">,</span>
			component<span class="token operator">:</span>Home<span class="token punctuation">,</span>
			children<span class="token operator">:</span><span class="token punctuation">[</span>
				<span class="token punctuation">{<!-- --></span>
					path<span class="token operator">:</span><span class="token string">'news'</span><span class="token punctuation">,</span>
					component<span class="token operator">:</span>News<span class="token punctuation">,</span>
				<span class="token punctuation">}</span><span class="token punctuation">,</span>
				<span class="token punctuation">{<!-- --></span>
					path<span class="token operator">:</span><span class="token string">'message'</span><span class="token punctuation">,</span>
					component<span class="token operator">:</span>Message<span class="token punctuation">,</span>
					children<span class="token operator">:</span><span class="token punctuation">[</span>
						<span class="token punctuation">{<!-- --></span>
							name<span class="token operator">:</span><span class="token string">'xiangqing'</span><span class="token punctuation">,</span>
							path<span class="token operator">:</span><span class="token string">'detail'</span><span class="token punctuation">,</span>
							component<span class="token operator">:</span>Detail<span class="token punctuation">,</span>

							<span class="token comment">//props的第一种写法，值为对象，该对象中的所有key-value都会以props的形式传给Detail组件。</span>
							<span class="token comment">// props:{a:1,b:'hello'}</span>

							<span class="token comment">//props的第二种写法，值为布尔值，若布尔值为真，就会把该路由组件收到的所有params参数，以props的形式传给Detail组件。</span>
							<span class="token comment">// props:true</span>

							<span class="token comment">//props的第三种写法，值为函数</span>
							<span class="token function">props</span><span class="token punctuation">(</span><span class="token parameter">$route</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
								<span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>
									id<span class="token operator">:</span>$route<span class="token punctuation">.</span>query<span class="token punctuation">.</span>id<span class="token punctuation">,</span>
									title<span class="token operator">:</span>$route<span class="token punctuation">.</span>query<span class="token punctuation">.</span>title<span class="token punctuation">,</span>
									a<span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>
									b<span class="token operator">:</span><span class="token string">'hello'</span>
								<span class="token punctuation">}</span>
							<span class="token punctuation">}</span>

						<span class="token punctuation">}</span>
					<span class="token punctuation">]</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">]</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

</code></pre> 
<p>接收参数Detail.vue</p> 
<p><img src="https://images2.imgbox.com/ac/4c/Sy64OZC8_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-javascript"><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>ul<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>li<span class="token operator">&gt;</span>消息编号：<span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span>id<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>li<span class="token operator">&gt;</span>消息标题：<span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span>title<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
	<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
		name<span class="token operator">:</span><span class="token string">'Detail'</span><span class="token punctuation">,</span>
		props<span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">'id'</span><span class="token punctuation">,</span><span class="token string">'title'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
		computed<span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
			<span class="token comment">// id(){<!-- --></span>
			<span class="token comment">// 	return this.$route.query.id</span>
			<span class="token comment">// },</span>
			<span class="token comment">// title(){<!-- --></span>
			<span class="token comment">// 	return this.$route.query.title</span>
			<span class="token comment">// },</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			<span class="token comment">// console.log(this.$route)</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre> 
<p>总结</p> 
<p>​ 作用：让路由组件更方便的收到参数</p> 
<pre><code class="prism language-js"><span class="token punctuation">{<!-- --></span>
	name<span class="token operator">:</span><span class="token string">'xiangqing'</span><span class="token punctuation">,</span>
	path<span class="token operator">:</span><span class="token string">'detail/:id'</span><span class="token punctuation">,</span>
	component<span class="token operator">:</span>Detail<span class="token punctuation">,</span>

	<span class="token comment">//第一种写法：props值为对象，该对象中所有的key-value的组合最终都会通过props传给Detail组件</span>
	<span class="token comment">// props:{a:900}</span>

	<span class="token comment">//第二种写法：props值为布尔值，布尔值为true，则把路由收到的所有params参数通过props传给Detail组件</span>
	<span class="token comment">// props:true</span>
	
	<span class="token comment">//第三种写法：props值为函数，该函数返回的对象中每一组key-value都会通过props传给Detail组件</span>
	<span class="token function">props</span><span class="token punctuation">(</span><span class="token parameter">route</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>
			id<span class="token operator">:</span>route<span class="token punctuation">.</span>query<span class="token punctuation">.</span>id<span class="token punctuation">,</span>
			title<span class="token operator">:</span>route<span class="token punctuation">.</span>query<span class="token punctuation">.</span>title
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="26_routerlinkreplace_673"></a>2.6 router-link的replace属性</h3> 
<p>浏览器历史记录<br> <img src="https://images2.imgbox.com/aa/6a/0hLZEO92_o.png" alt="在这里插入图片描述"></p> 
<p>总结</p> 
<ol><li>作用：控制路由跳转时操作浏览器历史记录的模式</li><li>浏览器的历史记录有两种写入方式：分别为<code>push</code>和<code>replace</code>，<code>push</code>是追加历史记录，<code>replace</code>是替换当前记录。路由跳转时候默认为<code>push</code></li><li>如何开启<code>replace</code>模式：<code>&lt;router-link replace .......&gt;News&lt;/router-link&gt;</code></li></ol> 
<p>push：栈的结构；<br> replace：去掉<strong>之前栈顶</strong>的历史记录，栈里其他的历史记录不影响；</p> 
<h3><a id="27__687"></a>2.7 编程式路由导航</h3> 
<p>编程式路由导航：不借助roter-link的路由导航，是 一种全新的跳转方式；</p> 
<p>效果<br> <img src="https://images2.imgbox.com/94/11/8dLHYWm1_o.gif" alt="在这里插入图片描述"></p> 
<p>Message.vue</p> 
<pre><code class="prism language-javascript"><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>ul<span class="token operator">&gt;</span>
			<span class="token operator">&lt;</span>li v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">"m in messageList"</span> <span class="token operator">:</span>key<span class="token operator">=</span><span class="token string">"m.id"</span><span class="token operator">&gt;</span>
				<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 跳转路由并携带params参数，to的字符串写法 <span class="token operator">--</span><span class="token operator">&gt;</span>
				<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> <span class="token operator">&lt;</span>router<span class="token operator">-</span>link <span class="token operator">:</span>to<span class="token operator">=</span><span class="token string">"`/home/message/detail/${m.id}/${m.title}`"</span><span class="token operator">&gt;</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span>m<span class="token punctuation">.</span>title<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>router<span class="token operator">-</span>link<span class="token operator">&gt;</span><span class="token operator">&amp;</span>nbsp<span class="token punctuation">;</span><span class="token operator">&amp;</span>nbsp<span class="token punctuation">;</span> <span class="token operator">--</span><span class="token operator">&gt;</span>

				<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 跳转路由并携带params参数，to的对象写法 <span class="token operator">--</span><span class="token operator">&gt;</span>
				<span class="token operator">&lt;</span>router<span class="token operator">-</span>link <span class="token operator">:</span>to<span class="token operator">=</span>"<span class="token punctuation">{<!-- --></span>
					name<span class="token operator">:</span><span class="token string">'xiangqing'</span><span class="token punctuation">,</span>
					query<span class="token operator">:</span><span class="token punctuation">{<!-- --></span>
						id<span class="token operator">:</span>m<span class="token punctuation">.</span>id<span class="token punctuation">,</span>
						title<span class="token operator">:</span>m<span class="token punctuation">.</span>title
					<span class="token punctuation">}</span>
				<span class="token punctuation">}</span>"<span class="token operator">&gt;</span>
					<span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span>m<span class="token punctuation">.</span>title<span class="token punctuation">}</span><span class="token punctuation">}</span>
				<span class="token operator">&lt;</span><span class="token operator">/</span>router<span class="token operator">-</span>link<span class="token operator">&gt;</span>
				<span class="token operator">&lt;</span>button @click<span class="token operator">=</span><span class="token string">"pushShow(m)"</span><span class="token operator">&gt;</span>push查看<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
				<span class="token operator">&lt;</span>button @click<span class="token operator">=</span><span class="token string">"replaceShow(m)"</span><span class="token operator">&gt;</span>replace查看<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
			<span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>hr<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>router<span class="token operator">-</span>view<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>router<span class="token operator">-</span>view<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
	<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
		name<span class="token operator">:</span><span class="token string">'Message'</span><span class="token punctuation">,</span>
		<span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>
				messageList<span class="token operator">:</span><span class="token punctuation">[</span>
					<span class="token punctuation">{<!-- --></span>id<span class="token operator">:</span><span class="token string">'001'</span><span class="token punctuation">,</span>title<span class="token operator">:</span><span class="token string">'消息001'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
					<span class="token punctuation">{<!-- --></span>id<span class="token operator">:</span><span class="token string">'002'</span><span class="token punctuation">,</span>title<span class="token operator">:</span><span class="token string">'消息002'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
					<span class="token punctuation">{<!-- --></span>id<span class="token operator">:</span><span class="token string">'003'</span><span class="token punctuation">,</span>title<span class="token operator">:</span><span class="token string">'消息003'</span><span class="token punctuation">}</span>
				<span class="token punctuation">]</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		methods<span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
			<span class="token function">pushShow</span><span class="token punctuation">(</span><span class="token parameter">m</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
				<span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
					name<span class="token operator">:</span><span class="token string">'xiangqing'</span><span class="token punctuation">,</span>
					query<span class="token operator">:</span><span class="token punctuation">{<!-- --></span>
						id<span class="token operator">:</span>m<span class="token punctuation">.</span>id<span class="token punctuation">,</span>
						title<span class="token operator">:</span>m<span class="token punctuation">.</span>title
					<span class="token punctuation">}</span>
				<span class="token punctuation">}</span><span class="token punctuation">)</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>
			<span class="token function">replaceShow</span><span class="token punctuation">(</span><span class="token parameter">m</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
				<span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
					name<span class="token operator">:</span><span class="token string">'xiangqing'</span><span class="token punctuation">,</span>
					query<span class="token operator">:</span><span class="token punctuation">{<!-- --></span>
						id<span class="token operator">:</span>m<span class="token punctuation">.</span>id<span class="token punctuation">,</span>
						title<span class="token operator">:</span>m<span class="token punctuation">.</span>title
					<span class="token punctuation">}</span>
				<span class="token punctuation">}</span><span class="token punctuation">)</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre> 
<p>Banner.vue</p> 
<pre><code class="prism language-javascript"><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"col-xs-offset-2 col-xs-8"</span><span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"page-header"</span><span class="token operator">&gt;</span>
			<span class="token operator">&lt;</span>h2<span class="token operator">&gt;</span>Vue Router Demo<span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">&gt;</span>
			<span class="token operator">&lt;</span>button @click<span class="token operator">=</span><span class="token string">"back"</span><span class="token operator">&gt;</span>后退<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
			<span class="token operator">&lt;</span>button @click<span class="token operator">=</span><span class="token string">"forward"</span><span class="token operator">&gt;</span>前进<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
			<span class="token operator">&lt;</span>button @click<span class="token operator">=</span><span class="token string">"test"</span><span class="token operator">&gt;</span>测试一下go<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
	<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
		name<span class="token operator">:</span><span class="token string">'Banner'</span><span class="token punctuation">,</span>
		methods<span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
			<span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
				<span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
				<span class="token comment">// console.log(this.$router)</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>
			<span class="token function">forward</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
				<span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>
			<span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
				<span class="token comment">//连续往前走3步（跳转3次）</span>
				<span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">go</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre> 
<p>总结</p> 
<ol><li> <p>作用：不借助<code>&lt;router-link&gt; </code>实现路由跳转，让路由跳转更加灵活</p> </li><li> <p>具体编码：</p> <pre><code class="prism language-js"><span class="token comment">//$router的两个API</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
	name<span class="token operator">:</span><span class="token string">'xiangqing'</span><span class="token punctuation">,</span>
		params<span class="token operator">:</span><span class="token punctuation">{<!-- --></span>
			id<span class="token operator">:</span>xxx<span class="token punctuation">,</span>
			title<span class="token operator">:</span>xxx
		<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
	name<span class="token operator">:</span><span class="token string">'xiangqing'</span><span class="token punctuation">,</span>
		params<span class="token operator">:</span><span class="token punctuation">{<!-- --></span>
			id<span class="token operator">:</span>xxx<span class="token punctuation">,</span>
			title<span class="token operator">:</span>xxx
		<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//前进</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//后退</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">go</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//可前进也可后退</span>
</code></pre> </li></ol> 
<h3><a id="28_819"></a>2.8缓存路组件</h3> 
<p>现象：在News组件里的输入框输入内容后，点击Message组件，再切换回News组件后，输入框里的东西就不见了<br> <img src="https://images2.imgbox.com/b3/99/22SOMjAj_o.png" alt="在这里插入图片描述"></p> 
<p>由于News组件最终是在Home组件里展示的，所以我们去Home组件里实现缓存<br> <img src="https://images2.imgbox.com/bc/a9/X49QMmKp_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/de/6b/2rm5FWSq_o.png" alt="在这里插入图片描述"></p> 
<p>总结</p> 
<ol><li> <p>作用：让不展示的路由组件保持挂载，不被销毁。</p> </li><li> <p>具体编码：</p> <pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>keep-alive</span> <span class="token attr-name">include</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>News<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span> 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-view</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-view</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>keep-alive</span><span class="token punctuation">&gt;</span></span>
</code></pre> </li></ol> 
<p>include：指定要缓存的组件，值是组件名（代码里组件的name值）；<br> 不写include的话，所有组件都缓存；</p> 
<p>想缓存多个组件：<br> <img src="https://images2.imgbox.com/ed/3f/06FUI48x_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="29__845"></a>2.9 两个新的生命周期钩子</h3> 
<p>组件激活与组件失去激活时被调用<br> <img src="https://images2.imgbox.com/d2/c1/xzc0ASM2_o.png" alt="在这里插入图片描述"><br> News.vue</p> 
<pre><code class="prism language-javascript"><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>ul<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>li <span class="token operator">:</span>style<span class="token operator">=</span><span class="token string">"{opacity}"</span><span class="token operator">&gt;</span>欢迎学习Vue<span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>li<span class="token operator">&gt;</span>news001 <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">"text"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>li<span class="token operator">&gt;</span>news002 <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">"text"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>li<span class="token operator">&gt;</span>news003 <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">"text"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
	<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
		name<span class="token operator">:</span><span class="token string">'News'</span><span class="token punctuation">,</span>
		<span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>
				opacity<span class="token operator">:</span><span class="token number">1</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token comment">/* beforeDestroy() {
			console.log('News组件即将被销毁了')
			clearInterval(this.timer)
		}, */</span>
		<span class="token comment">/* mounted(){
			this.timer = setInterval(() =&gt; {
				console.log('@')
				this.opacity -= 0.01
				if(this.opacity &lt;= 0) this.opacity = 1
			},16)
		}, */</span>
		<span class="token function">activated</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'News组件被激活了'</span><span class="token punctuation">)</span>
			<span class="token keyword">this</span><span class="token punctuation">.</span>timer <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
				console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'@'</span><span class="token punctuation">)</span>
				<span class="token keyword">this</span><span class="token punctuation">.</span>opacity <span class="token operator">-=</span> <span class="token number">0.01</span>
				<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>opacity <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">this</span><span class="token punctuation">.</span>opacity <span class="token operator">=</span> <span class="token number">1</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">16</span><span class="token punctuation">)</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token function">deactivated</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'News组件失活了'</span><span class="token punctuation">)</span>
			<span class="token function">clearInterval</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>timer<span class="token punctuation">)</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre> 
<p>总结</p> 
<ol><li>作用：路由组件所独有的两个钩子，用于捕获路由组件的激活状态。</li><li>具体名字： 
  <ol><li><code>activated</code>路由组件被激活时触发。</li><li><code>deactivated</code>路由组件失活时触发。</li></ol> </li></ol> 
<h3><a id="210__901"></a>2.10 路由守卫</h3> 
<p>路由守卫：保护的是路由的权限；<br> 这个功能应该在项目里体现，这里只是大致做个类似功能；</p> 
<p><strong>全局路由守卫</strong></p> 
<p>在路由里添加路由守卫<br> router/index.js：</p> 
<pre><code class="prism language-javascript"><span class="token comment">// 该文件专门用于创建整个应用的路由器</span>
<span class="token keyword">import</span> VueRouter <span class="token keyword">from</span> <span class="token string">'vue-router'</span>
<span class="token comment">//引入组件</span>
<span class="token keyword">import</span> About <span class="token keyword">from</span> <span class="token string">'../pages/About'</span>
<span class="token keyword">import</span> Home <span class="token keyword">from</span> <span class="token string">'../pages/Home'</span>
<span class="token keyword">import</span> News <span class="token keyword">from</span> <span class="token string">'../pages/News'</span>
<span class="token keyword">import</span> Message <span class="token keyword">from</span> <span class="token string">'../pages/Message'</span>
<span class="token keyword">import</span> Detail <span class="token keyword">from</span> <span class="token string">'../pages/Detail'</span>

<span class="token comment">//创建并暴露一个路由器</span>
<span class="token keyword">const</span> router <span class="token operator">=</span>  <span class="token keyword">new</span> <span class="token class-name">VueRouter</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
	routes<span class="token operator">:</span><span class="token punctuation">[</span>
		<span class="token punctuation">{<!-- --></span>
			name<span class="token operator">:</span><span class="token string">'guanyu'</span><span class="token punctuation">,</span>
			path<span class="token operator">:</span><span class="token string">'/about'</span><span class="token punctuation">,</span>
			component<span class="token operator">:</span>About<span class="token punctuation">,</span>
			meta<span class="token operator">:</span><span class="token punctuation">{<!-- --></span>title<span class="token operator">:</span><span class="token string">'关于'</span><span class="token punctuation">}</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token punctuation">{<!-- --></span>
			name<span class="token operator">:</span><span class="token string">'zhuye'</span><span class="token punctuation">,</span>
			path<span class="token operator">:</span><span class="token string">'/home'</span><span class="token punctuation">,</span>
			component<span class="token operator">:</span>Home<span class="token punctuation">,</span>
			meta<span class="token operator">:</span><span class="token punctuation">{<!-- --></span>title<span class="token operator">:</span><span class="token string">'主页'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
			children<span class="token operator">:</span><span class="token punctuation">[</span>
				<span class="token punctuation">{<!-- --></span>
					name<span class="token operator">:</span><span class="token string">'xinwen'</span><span class="token punctuation">,</span>
					path<span class="token operator">:</span><span class="token string">'news'</span><span class="token punctuation">,</span>
					component<span class="token operator">:</span>News<span class="token punctuation">,</span>
					<span class="token comment">//isAuth：是否需要鉴权</span>
					meta<span class="token operator">:</span><span class="token punctuation">{<!-- --></span>isAuth<span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>title<span class="token operator">:</span><span class="token string">'新闻'</span><span class="token punctuation">}</span>
				<span class="token punctuation">}</span><span class="token punctuation">,</span>
				<span class="token punctuation">{<!-- --></span>
					name<span class="token operator">:</span><span class="token string">'xiaoxi'</span><span class="token punctuation">,</span>
					path<span class="token operator">:</span><span class="token string">'message'</span><span class="token punctuation">,</span>
					component<span class="token operator">:</span>Message<span class="token punctuation">,</span>
					meta<span class="token operator">:</span><span class="token punctuation">{<!-- --></span>isAuth<span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>title<span class="token operator">:</span><span class="token string">'消息'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
					children<span class="token operator">:</span><span class="token punctuation">[</span>
						<span class="token punctuation">{<!-- --></span>
							name<span class="token operator">:</span><span class="token string">'xiangqing'</span><span class="token punctuation">,</span>
							path<span class="token operator">:</span><span class="token string">'detail'</span><span class="token punctuation">,</span>
							component<span class="token operator">:</span>Detail<span class="token punctuation">,</span>
							meta<span class="token operator">:</span><span class="token punctuation">{<!-- --></span>isAuth<span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>title<span class="token operator">:</span><span class="token string">'详情'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>

							<span class="token comment">//props的第一种写法，值为对象，该对象中的所有key-value都会以props的形式传给Detail组件。</span>
							<span class="token comment">// props:{a:1,b:'hello'}</span>

							<span class="token comment">//props的第二种写法，值为布尔值，若布尔值为真，就会把该路由组件收到的所有params参数，以props的形式传给Detail组件。</span>
							<span class="token comment">// props:true</span>

							<span class="token comment">//props的第三种写法，值为函数</span>
							<span class="token function">props</span><span class="token punctuation">(</span><span class="token parameter">$route</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
								<span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>
									id<span class="token operator">:</span>$route<span class="token punctuation">.</span>query<span class="token punctuation">.</span>id<span class="token punctuation">,</span>
									title<span class="token operator">:</span>$route<span class="token punctuation">.</span>query<span class="token punctuation">.</span>title<span class="token punctuation">,</span>
									a<span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>
									b<span class="token operator">:</span><span class="token string">'hello'</span>
								<span class="token punctuation">}</span>
							<span class="token punctuation">}</span>

						<span class="token punctuation">}</span>
					<span class="token punctuation">]</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">]</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">//全局前置路由守卫————初始化的时候被调用、每次路由切换之前被调用</span>
router<span class="token punctuation">.</span><span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span><span class="token keyword">from</span><span class="token punctuation">,</span>next</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'前置路由守卫'</span><span class="token punctuation">,</span>to<span class="token punctuation">,</span><span class="token keyword">from</span><span class="token punctuation">)</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>to<span class="token punctuation">.</span>meta<span class="token punctuation">.</span>isAuth<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span> <span class="token comment">//判断是否需要鉴权</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'school'</span><span class="token punctuation">)</span><span class="token operator">===</span><span class="token string">'atguigu'</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		    <span class="token comment">//放行</span>
			<span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{<!-- --></span>
			<span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'学校名不对，无权限查看！'</span><span class="token punctuation">)</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{<!-- --></span>
		<span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">//全局后置路由守卫————初始化的时候被调用、每次路由切换之后被调用</span>
router<span class="token punctuation">.</span><span class="token function">afterEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span><span class="token keyword">from</span></span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'后置路由守卫'</span><span class="token punctuation">,</span>to<span class="token punctuation">,</span><span class="token keyword">from</span><span class="token punctuation">)</span>
	document<span class="token punctuation">.</span>title <span class="token operator">=</span> to<span class="token punctuation">.</span>meta<span class="token punctuation">.</span>title <span class="token operator">||</span> <span class="token string">'硅谷系统'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> router
</code></pre> 
<p>总结</p> 
<ol><li> <p>作用：对路由进行权限控制</p> </li><li> <p>分类：全局守卫、独享守卫、组件内守卫</p> </li><li> <p>全局守卫:</p> <pre><code class="prism language-js"><span class="token comment">//全局前置守卫：初始化时执行、每次路由切换前执行</span>
router<span class="token punctuation">.</span><span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span><span class="token keyword">from</span><span class="token punctuation">,</span>next</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'beforeEach'</span><span class="token punctuation">,</span>to<span class="token punctuation">,</span><span class="token keyword">from</span><span class="token punctuation">)</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>to<span class="token punctuation">.</span>meta<span class="token punctuation">.</span>isAuth<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span> <span class="token comment">//判断当前路由是否需要进行权限控制</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'school'</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">'atguigu'</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span> <span class="token comment">//权限控制的具体规则</span>
			<span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//放行</span>
		<span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{<!-- --></span>
			<span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'暂无权限查看'</span><span class="token punctuation">)</span>
			<span class="token comment">// next({name:'guanyu'})</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{<!-- --></span>
		<span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//放行</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">//全局后置守卫：初始化时执行、每次路由切换后执行</span>
router<span class="token punctuation">.</span><span class="token function">afterEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span><span class="token keyword">from</span></span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'afterEach'</span><span class="token punctuation">,</span>to<span class="token punctuation">,</span><span class="token keyword">from</span><span class="token punctuation">)</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>to<span class="token punctuation">.</span>meta<span class="token punctuation">.</span>title<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span> 
		document<span class="token punctuation">.</span>title <span class="token operator">=</span> to<span class="token punctuation">.</span>meta<span class="token punctuation">.</span>title <span class="token comment">//修改网页的title</span>
	<span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{<!-- --></span>
		document<span class="token punctuation">.</span>title <span class="token operator">=</span> <span class="token string">'vue_test'</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> </li><li> <p>独享守卫:</p> <pre><code class="prism language-js"><span class="token function">beforeEnter</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span><span class="token keyword">from</span><span class="token punctuation">,</span>next</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'beforeEnter'</span><span class="token punctuation">,</span>to<span class="token punctuation">,</span><span class="token keyword">from</span><span class="token punctuation">)</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>to<span class="token punctuation">.</span>meta<span class="token punctuation">.</span>isAuth<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span> <span class="token comment">//判断当前路由是否需要进行权限控制</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'school'</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">'atguigu'</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
			<span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{<!-- --></span>
			<span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'暂无权限查看'</span><span class="token punctuation">)</span>
			<span class="token comment">// next({name:'guanyu'})</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{<!-- --></span>
		<span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> </li><li> <p>组件内守卫：</p> <pre><code class="prism language-js"><span class="token comment">//进入守卫：通过路由规则，进入该组件时被调用</span>
<span class="token function">beforeRouteEnter</span> <span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> <span class="token keyword">from</span><span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token comment">//离开守卫：通过路由规则，离开该组件时被调用</span>
<span class="token function">beforeRouteLeave</span> <span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> <span class="token keyword">from</span><span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
<span class="token punctuation">}</span>
</code></pre> </li></ol> 
<p><strong>独享路由卫士</strong><br> 某一个路由单独使用的路由守卫，只有前置，没有后置；<br> <img src="https://images2.imgbox.com/3e/44/tGXtdASA_o.png" alt="在这里插入图片描述"><br> 可以配合全局后置路由一起使用<br> <img src="https://images2.imgbox.com/9e/89/J8F3b0Ft_o.png" alt="在这里插入图片描述"><br> 代码<br> router/index.js</p> 
<pre><code class="prism language-javascript"><span class="token comment">// 该文件专门用于创建整个应用的路由器</span>
<span class="token keyword">import</span> VueRouter <span class="token keyword">from</span> <span class="token string">'vue-router'</span>
<span class="token comment">//引入组件</span>
<span class="token keyword">import</span> About <span class="token keyword">from</span> <span class="token string">'../pages/About'</span>
<span class="token keyword">import</span> Home <span class="token keyword">from</span> <span class="token string">'../pages/Home'</span>
<span class="token keyword">import</span> News <span class="token keyword">from</span> <span class="token string">'../pages/News'</span>
<span class="token keyword">import</span> Message <span class="token keyword">from</span> <span class="token string">'../pages/Message'</span>
<span class="token keyword">import</span> Detail <span class="token keyword">from</span> <span class="token string">'../pages/Detail'</span>

<span class="token comment">//创建并暴露一个路由器</span>
<span class="token keyword">const</span> router <span class="token operator">=</span>  <span class="token keyword">new</span> <span class="token class-name">VueRouter</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
	routes<span class="token operator">:</span><span class="token punctuation">[</span>
		<span class="token punctuation">{<!-- --></span>
			name<span class="token operator">:</span><span class="token string">'guanyu'</span><span class="token punctuation">,</span>
			path<span class="token operator">:</span><span class="token string">'/about'</span><span class="token punctuation">,</span>
			component<span class="token operator">:</span>About<span class="token punctuation">,</span>
			meta<span class="token operator">:</span><span class="token punctuation">{<!-- --></span>title<span class="token operator">:</span><span class="token string">'关于'</span><span class="token punctuation">}</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token punctuation">{<!-- --></span>
			name<span class="token operator">:</span><span class="token string">'zhuye'</span><span class="token punctuation">,</span>
			path<span class="token operator">:</span><span class="token string">'/home'</span><span class="token punctuation">,</span>
			component<span class="token operator">:</span>Home<span class="token punctuation">,</span>
			meta<span class="token operator">:</span><span class="token punctuation">{<!-- --></span>title<span class="token operator">:</span><span class="token string">'主页'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
			children<span class="token operator">:</span><span class="token punctuation">[</span>
				<span class="token punctuation">{<!-- --></span>
					name<span class="token operator">:</span><span class="token string">'xinwen'</span><span class="token punctuation">,</span>
					path<span class="token operator">:</span><span class="token string">'news'</span><span class="token punctuation">,</span>
					component<span class="token operator">:</span>News<span class="token punctuation">,</span>
					meta<span class="token operator">:</span><span class="token punctuation">{<!-- --></span>isAuth<span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>title<span class="token operator">:</span><span class="token string">'新闻'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
					<span class="token function-variable function">beforeEnter</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> <span class="token keyword">from</span><span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
						console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'独享路由守卫'</span><span class="token punctuation">,</span>to<span class="token punctuation">,</span><span class="token keyword">from</span><span class="token punctuation">)</span>
						<span class="token keyword">if</span><span class="token punctuation">(</span>to<span class="token punctuation">.</span>meta<span class="token punctuation">.</span>isAuth<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span> <span class="token comment">//判断是否需要鉴权</span>
							<span class="token keyword">if</span><span class="token punctuation">(</span>localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'school'</span><span class="token punctuation">)</span><span class="token operator">===</span><span class="token string">'atguigu'</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
								<span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
							<span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{<!-- --></span>
								<span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'学校名不对，无权限查看！'</span><span class="token punctuation">)</span>
							<span class="token punctuation">}</span>
						<span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{<!-- --></span>
							<span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
						<span class="token punctuation">}</span>
					<span class="token punctuation">}</span>
				<span class="token punctuation">}</span><span class="token punctuation">,</span>
				<span class="token punctuation">{<!-- --></span>
					name<span class="token operator">:</span><span class="token string">'xiaoxi'</span><span class="token punctuation">,</span>
					path<span class="token operator">:</span><span class="token string">'message'</span><span class="token punctuation">,</span>
					component<span class="token operator">:</span>Message<span class="token punctuation">,</span>
					meta<span class="token operator">:</span><span class="token punctuation">{<!-- --></span>isAuth<span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>title<span class="token operator">:</span><span class="token string">'消息'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
					children<span class="token operator">:</span><span class="token punctuation">[</span>
						<span class="token punctuation">{<!-- --></span>
							name<span class="token operator">:</span><span class="token string">'xiangqing'</span><span class="token punctuation">,</span>
							path<span class="token operator">:</span><span class="token string">'detail'</span><span class="token punctuation">,</span>
							component<span class="token operator">:</span>Detail<span class="token punctuation">,</span>
							meta<span class="token operator">:</span><span class="token punctuation">{<!-- --></span>isAuth<span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>title<span class="token operator">:</span><span class="token string">'详情'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>

							<span class="token comment">//props的第一种写法，值为对象，该对象中的所有key-value都会以props的形式传给Detail组件。</span>
							<span class="token comment">// props:{a:1,b:'hello'}</span>

							<span class="token comment">//props的第二种写法，值为布尔值，若布尔值为真，就会把该路由组件收到的所有params参数，以props的形式传给Detail组件。</span>
							<span class="token comment">// props:true</span>

							<span class="token comment">//props的第三种写法，值为函数</span>
							<span class="token function">props</span><span class="token punctuation">(</span><span class="token parameter">$route</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
								<span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>
									id<span class="token operator">:</span>$route<span class="token punctuation">.</span>query<span class="token punctuation">.</span>id<span class="token punctuation">,</span>
									title<span class="token operator">:</span>$route<span class="token punctuation">.</span>query<span class="token punctuation">.</span>title<span class="token punctuation">,</span>
									a<span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>
									b<span class="token operator">:</span><span class="token string">'hello'</span>
								<span class="token punctuation">}</span>
							<span class="token punctuation">}</span>

						<span class="token punctuation">}</span>
					<span class="token punctuation">]</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">]</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">//全局前置路由守卫————初始化的时候被调用、每次路由切换之前被调用</span>
<span class="token comment">/* router.beforeEach((to,from,next)=&gt;{
	console.log('前置路由守卫',to,from)
	if(to.meta.isAuth){ //判断是否需要鉴权
		if(localStorage.getItem('school')==='atguigu'){
			next()
		}else{
			alert('学校名不对，无权限查看！')
		}
	}else{
		next()
	}
}) */</span>

<span class="token comment">//全局后置路由守卫————初始化的时候被调用、每次路由切换之后被调用</span>
router<span class="token punctuation">.</span><span class="token function">afterEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span><span class="token keyword">from</span></span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'后置路由守卫'</span><span class="token punctuation">,</span>to<span class="token punctuation">,</span><span class="token keyword">from</span><span class="token punctuation">)</span>
	document<span class="token punctuation">.</span>title <span class="token operator">=</span> to<span class="token punctuation">.</span>meta<span class="token punctuation">.</span>title <span class="token operator">||</span> <span class="token string">'硅谷系统'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> router
</code></pre> 
<p>总结：</p> 
<pre><code class="prism language-js">  <span class="token function">beforeEnter</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span><span class="token keyword">from</span><span class="token punctuation">,</span>next</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
  	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'beforeEnter'</span><span class="token punctuation">,</span>to<span class="token punctuation">,</span><span class="token keyword">from</span><span class="token punctuation">)</span>
  	<span class="token keyword">if</span><span class="token punctuation">(</span>to<span class="token punctuation">.</span>meta<span class="token punctuation">.</span>isAuth<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span> <span class="token comment">//判断当前路由是否需要进行权限控制</span>
  		<span class="token keyword">if</span><span class="token punctuation">(</span>localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'school'</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">'atguigu'</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
  			<span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  		<span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{<!-- --></span>
  			<span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'暂无权限查看'</span><span class="token punctuation">)</span>
  			<span class="token comment">// next({name:'guanyu'})</span>
  		<span class="token punctuation">}</span>
  	<span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{<!-- --></span>
  		<span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  	<span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</code></pre> 
<p><strong>组件内路由守卫</strong><br> 之前是在路由配置文件里写的，现在是在组件内写<br> <img src="https://images2.imgbox.com/71/0a/BW1AZyXW_o.png" alt="在这里插入图片描述"></p> 
<p>About.vue</p> 
<pre><code class="prism language-javascript"><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>h2<span class="token operator">&gt;</span>我是About的内容<span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
	<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
		name<span class="token operator">:</span><span class="token string">'About'</span><span class="token punctuation">,</span>
		<span class="token comment">/* beforeDestroy() {
			console.log('About组件即将被销毁了')
		},*/</span>
		<span class="token comment">/* mounted() {
			console.log('About组件挂载完毕了',this)
			window.aboutRoute = this.$route
			window.aboutRouter = this.$router
		},  */</span>
		<span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			<span class="token comment">// console.log('%%%',this.$route)</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>

		<span class="token comment">//通过路由规则，进入该组件时被调用</span>
		<span class="token function">beforeRouteEnter</span> <span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> <span class="token keyword">from</span><span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'About--beforeRouteEnter'</span><span class="token punctuation">,</span>to<span class="token punctuation">,</span><span class="token keyword">from</span><span class="token punctuation">)</span>
			<span class="token keyword">if</span><span class="token punctuation">(</span>to<span class="token punctuation">.</span>meta<span class="token punctuation">.</span>isAuth<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span> <span class="token comment">//判断是否需要鉴权</span>
				<span class="token keyword">if</span><span class="token punctuation">(</span>localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'school'</span><span class="token punctuation">)</span><span class="token operator">===</span><span class="token string">'atguigu'</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
					<span class="token comment">//放行</span>
					<span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
				<span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{<!-- --></span>
					<span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'学校名不对，无权限查看！'</span><span class="token punctuation">)</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{<!-- --></span>
				<span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>

		<span class="token comment">//通过路由规则，离开该组件时被调用</span>
		<span class="token function">beforeRouteLeave</span> <span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> <span class="token keyword">from</span><span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'About--beforeRouteLeave'</span><span class="token punctuation">,</span>to<span class="token punctuation">,</span><span class="token keyword">from</span><span class="token punctuation">)</span>
			<span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/83/15/0DiNeuHN_o.png" alt="在这里插入图片描述"></p> 
<p>总结</p> 
<pre><code class="prism language-js"><span class="token comment">//进入守卫：通过路由规则，进入该组件时被调用</span>
<span class="token function">beforeRouteEnter</span> <span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> <span class="token keyword">from</span><span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token comment">//离开守卫：通过路由规则，离开该组件时被调用</span>
<span class="token function">beforeRouteLeave</span> <span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> <span class="token keyword">from</span><span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="211__1259"></a>2.11 路由器两种工作模式</h3> 
<p><strong>hash模式（默认）</strong></p> 
<p><code>#</code>后边的参数不会发送到服务器的，<code>#</code>后边就是hash值<img src="https://images2.imgbox.com/40/15/A5zmJkXP_o.png" alt="在这里插入图片描述"><br> <strong>history工作模式</strong></p> 
<p>开启history模式<br> <img src="https://images2.imgbox.com/28/1b/RfkfY8JW_o.png" alt="在这里插入图片描述"><br> 此时地址栏里就没有<code>#</code>了<br> <img src="https://images2.imgbox.com/ab/4a/nAhpMWlp_o.png" alt="在这里插入图片描述"><br> 项目上线前需要打包，最终打包后的文件只有html、css、js，没有.vue文件，打包命令</p> 
<pre><code class="prism language-shell"><span class="token function">npm</span> run build
</code></pre> 
<p>打包后生成dist文件夹，该文件夹下的内容如下<br> <img src="https://images2.imgbox.com/a7/78/XxtCnXXZ_o.png" alt="在这里插入图片描述"><br> 把这个打包后的文件放在服务器里进行部署，部署后随便点页面里的组件没有任何问题（因为没有发网络请求）<br> <img src="https://images2.imgbox.com/26/73/jkLQARpx_o.png" alt="在这里插入图片描述"><br> 但是点击刷新按钮后，就404了（因为发送了网络请求了，找不到地址栏里的地址）<br> <img src="https://images2.imgbox.com/d5/9f/UOi2NbAI_o.png" alt="在这里插入图片描述"><br> 只有history模式存在上边这个问题；</p> 
<p>总结</p> 
<ol><li>对于一个url来说，什么是hash值？ <code>#</code>及其后面的内容就是hash值。</li><li>hash值不会包含在 HTTP 请求中，即：hash值不会带给服务器。</li><li>hash模式： 
  <ol><li>地址中永远带着<code>#</code>号，不美观 。</li><li>若以后将地址通过第三方手机app分享，若app校验严格，则地址会被标记为不合法。</li><li>兼容性较好。</li></ol> </li><li>history模式： 
  <ol><li>地址干净，美观 。</li><li>兼容性和hash模式相比略差。</li><li>应用部署上线时需要后端人员支持，解决刷新页面服务端404的问题。</li></ol> </li></ol> 
<p>java里有专门的类库解决history的404问题（正则匹配），springboot可以参考：</p> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DemoApplication</span> <span class="token punctuation">{<!-- --></span>

    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">EmbeddedServletContainerCustomizer</span> <span class="token function">containerCustomizer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>container <span class="token operator">-&gt;</span> <span class="token punctuation">{<!-- --></span>
            <span class="token class-name">ErrorPage</span> error404Page <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ErrorPage</span><span class="token punctuation">(</span><span class="token class-name">HttpStatus</span><span class="token punctuation">.</span>NOT_FOUND<span class="token punctuation">,</span> <span class="token string">"/"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            container<span class="token punctuation">.</span><span class="token function">addErrorPages</span><span class="token punctuation">(</span>error404Page<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">DemoApplication</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h2><a id="_ElementUI_1315"></a>三 ElementUI</h2> 
<h3><a id="31__1316"></a>3.1 简介</h3> 
<p><a href="https://element.eleme.cn/#/zh-CN" rel="nofollow">ElementUI官网</a><br> <img src="https://images2.imgbox.com/2e/62/5sGz5h1z_o.png" alt="在这里插入图片描述"><br> 我们使用npm安装<br> <img src="https://images2.imgbox.com/cc/87/uIoD4hbU_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-javascript"># 后边不加<span class="token operator">-</span><span class="token constant">S</span>也行
npm i element<span class="token operator">-</span>ui
</code></pre> 
<p><img src="https://images2.imgbox.com/14/36/oweUUtCn_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/4b/bd/Z9iwKZxs_o.png" alt="在这里插入图片描述"><br> 直接复制代码到组件里即可<br> <img src="https://images2.imgbox.com/c1/09/gQa08i3y_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/3f/aa/2QDIQ23f_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="32__1331"></a>3.2 按需引入</h3> 
<p>3.1章节里的引入，会导致项目特庞大，因为那是引入了ElementUI的所有库；<br> <img src="https://images2.imgbox.com/6d/9b/nfLy2SX3_o.png" alt="在这里插入图片描述"><br> 去掉之前的引入代码<br> <img src="https://images2.imgbox.com/0b/e8/NkAPqaSa_o.png" alt="在这里插入图片描述"><br> 安装依赖<br> <img src="https://images2.imgbox.com/e9/cc/GkOsxsp6_o.png" alt="在这里插入图片描述"><br> 注意，现在这个文件不叫.babelrc 了，而是babel.config.js<br> <img src="https://images2.imgbox.com/db/4f/Egpc1SVQ_o.png" alt="在这里插入图片描述"><br> 修改后<br> <img src="https://images2.imgbox.com/d4/78/PDGT2Uqb_o.png" alt="在这里插入图片描述"></p> 
<p>然后就可以按需引入自己需要的组件了<br> <img src="https://images2.imgbox.com/fb/91/01mCX5lc_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/e1/15/0vXVaxpn_o.png" alt="在这里插入图片描述"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/05666c5fd4c99586cffeecfacc2ca6b2/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【ACL 2023】Enhancing Document-level EAE with Contextual Clues and Role Relevance</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/80c3a07dcb5330ab828458490be33869/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">c语言笔记 三 变量和常量</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 追风少年的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>