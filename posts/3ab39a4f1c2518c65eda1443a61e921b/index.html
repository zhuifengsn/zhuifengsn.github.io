<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>常量指针和指针常量 - 追风少年的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="常量指针和指针常量" />
<meta property="og:description" content="常量指针和指针常量，两个经常弄混淆的名词之一。
常量指针：本质是个指针，常量是用来修饰指针所指向的内容的。例如：const int *p = 5、int const *p = 5
指针常量：本质是一个变量，指针是用来表明这个变量里面存放的是指针。例如：int *const p = 5
那怎么来区分给出的是常量指针还是指针常量呢？简单的方式是*表示指针，const表示常量，就看给出的*和const的先后顺序从左向右读就知道了。
例如：const int *p = 5; const在前，*在后，所以按顺序读就是常量指针。
int const *p = 5; const在前，*在后，所以按顺序读还是常量指针。
int *const p = 5; *在前，const在后，按顺序读就是指针常量。
那么常量指针和指针常量有什么特点呢？
1、常量指针：由于本质是一个指针，而指向的内容是常量。所以可以得到以下几点信息：
a)、这个指针里面放的地址指向的内容是一个常量，也就是通过这个地址不能去修改指向内存单元的内容。
b)、这个指针里面的值是一个变量是可以变化的，变化之后的地址可以是任意合法的地址。
这个就好比是手机的里的SIM卡槽就相当于一个指针，这个SIM卡就相当于放在指针里的地址，而这张SIM的指向内容就是这张卡的号码一样。一个手机可以默认初始化时插入一张SIM卡，我们可以更换SIM来变更手机号码，但是却不能通过不更换SIM卡就变更手机号码一样。同样的道理，可以解释下面代码中的内容：
#include &lt;stdio.h&gt; int main() { const int a = 5; const int *b = &amp;a; //正常初始化 *b = 6; //非法赋值，原因是打算修改常量a的内容 int c = 7; b = &amp;c; //合法的 *b = 9; //非法的，error: assignment of read-only location const int d = 8; b = &amp;d; //合法的 return 0; } 在上面的代码中，可以给b赋值一个常量也可以给它赋值一个变量的地址，但是不管是赋值常量还是变量的地址，都无法通过这个地址去修改变量的内容。也就是可以修改指针的值但却无法通过该指针修改指针所指向的内存单元的内容。 2、指针常量：本质是一个常量，而指向的内容却不一定是常量。通过这句话同样可以得到两点信息：" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://zhuifengsn.github.io/posts/3ab39a4f1c2518c65eda1443a61e921b/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2016-11-08T23:04:41+08:00" />
<meta property="article:modified_time" content="2016-11-08T23:04:41+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="追风少年的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">追风少年的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">常量指针和指针常量</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>常量指针和指针常量，两个经常弄混淆的名词之一。</p> 
<p>常量指针：本质是个指针，常量是用来修饰指针所指向的内容的。例如：const int *p = 5、int const *p = 5</p> 
<p>指针常量：本质是一个变量，指针是用来表明这个变量里面存放的是指针。例如：int *const  p = 5</p> 
<p>那怎么来区分给出的是常量指针还是指针常量呢？简单的方式是*表示指针，const表示常量，就看给出的*和const的先后顺序从左向右读就知道了。</p> 
<p>例如：const int *p = 5; const在前，*在后，所以按顺序读就是常量指针。</p> 
<p><span style="white-space:pre"></span>           int const *p = 5; const在前，*在后，所以按顺序读还是常量指针。</p> 
<p>           int *const p = 5; *在前，const在后，按顺序读就是指针常量。</p> 
<p><br> </p> 
<p>那么常量指针和指针常量有什么特点呢？</p> 
<p>1、常量指针：由于本质是一个指针，而指向的内容是常量。所以可以得到以下几点信息：</p> 
<p><span style="white-space:pre"></span>a)、这个指针里面放的地址指向的内容是一个常量，也就是通过这个地址不能去修改指向内存单元的内容。</p> 
<p><span style="white-space:pre"></span>b)、这个指针里面的值是一个变量是可以变化的，变化之后的地址可以是任意合法的地址。</p> 
<p>这个就好比是手机的里的SIM卡槽就相当于一个指针，这个SIM卡就相当于放在指针里的地址，而这张SIM的指向内容就是这张卡的号码一样。一个手机可以默认初始化时插入一张SIM卡，我们可以更换SIM来变更手机号码，但是却不能通过不更换SIM卡就变更手机号码一样。同样的道理，可以解释下面代码中的内容：</p> 
<p></p> 
<pre><code class="language-cpp">#include &lt;stdio.h&gt;

int main()
{
    const int a = 5;
    const int *b = &amp;a; //正常初始化
    *b = 6;  //非法赋值，原因是打算修改常量a的内容
    int c = 7;
    b = &amp;c;  //合法的
    *b = 9; //非法的，error: assignment of read-only location
    const int d = 8;  
    b = &amp;d;  //合法的
    
    return 0;
}</code></pre> 
<br> 在上面的代码中，可以给b赋值一个常量也可以给它赋值一个变量的地址，但是不管是赋值常量还是变量的地址，都无法通过这个地址去修改变量的内容。也就是可以修改指针的值但却无法通过该指针修改指针所指向的内存单元的内容。 
<p></p> 
<p><br> </p> 
<p>2、指针常量：本质是一个常量，而指向的内容却不一定是常量。通过这句话同样可以得到两点信息：</p> 
<p><span style="white-space:pre"></span>a)、这个指针里面的值是一个常量，也就是这个指针只会指向一个初始化时确定的内存单元。</p> 
<p><span style="white-space:pre"></span>b)、指针所指向的内存单元的内容是可以通过该指针改变的。</p> 
<p>如下面代码中的内容：</p> 
<p></p> 
<pre><code class="language-cpp">#include &lt;stdio.h&gt;

int main()
{
    const int a = 5;
    int *const b = &amp;a; //正常初始化
    *b = 6;  //合法的
    int c = 7;
    b = &amp;c;  //非法的，assignment of read-only variable ‘b’

    return 0;
}</code></pre>在上面的代码中，可以通过指针b去修改内存a的内容，但是却不可以修改b指针的内容。也就是说可以修改指针指向单元的内容，却不可以修改指针的内容。 
<br> 
<br> 
<p></p> 
<p><br> </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/cafc034c5441ea3be614c657c01a3270/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">linux应用程序地址分布</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/2f49501b64116af92da3825e68960393/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">TEST 和 TEST_F 区别</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 追风少年的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>