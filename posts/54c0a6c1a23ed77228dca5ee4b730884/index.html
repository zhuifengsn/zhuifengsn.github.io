<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【OpenCV Python】核心操作--形态学转换 - 追风少年的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="【OpenCV Python】核心操作--形态学转换" />
<meta property="og:description" content="形态学转换是针对图像形状进行的简单操作，一般是指针对二值化图像进行的操作，常见的形态学转换包括腐蚀，膨胀，开运算等。
1.腐蚀
顾名思义，腐蚀是对前景物体的边缘进行腐蚀掉，形成如现实中一样的腐蚀效果，其原理如下:
卷积核沿着图像滑动，如果卷积核对应区域的图像像素值都是1，则卷积核中心对应的像素值保持不变，反之则全变成0，所以在图像边缘区域，部分为0，部分为1的区域都会变成0，再往里面则会保持不变。
opencv提供erode(src, kernel,iterations)函数进行腐蚀操作，而且腐蚀操作，也可以去除二值化图形里的一些噪点
例如：
img =cv2.imread(&#34;test2.png&#34;)
kernel = np.ones((5,5),np.uint8)
dst = cv2.erode(img,kernel)
可以看出，相对于左边原图，右边腐蚀之后的图形有明显腐蚀效果，而且噪声被除去
2.膨胀
膨胀可以理解为腐蚀的反操作，膨胀的原理是：
同样的卷积核沿着图像滑动，只要卷积核对应的图像像素值有一个是1，则这块区域全部变成1.
使用cv2.dilate(src , kernel)函数就可以实现膨胀操作
例如：
img= cv2.imread(&#34;test2.png&#34;)
kernel= np.ones((5,5), np.uint8)
dst= cv2.dilate(img,kernel)
屏幕剪辑的捕获时间:2018/4/9 21:11
3.开运算：
开运算就是先进行腐蚀，在进行膨胀，opencv提供函数cv2.morphologyEx(src, 运算方式，kernel)
来实现开运算
值得注意的是：
（1）如果先进行腐蚀去除了噪点，但原图形的形状也被破坏，此时再使用膨胀就可以恢复回去，这是开运算存在的意义
（2）直接使用cv2.morphologyEx和先使用cv2.erode再使用cv2.dilate函数的效果一样
例如：
img =cv2.imread(&#34;test2.png&#34;)
kernel = np.ones((5,5), np.uint8)
dst=cv2.morphologyEx(img, cv2.MORPH_OPEN,kernel)
屏幕剪辑的捕获时间:2018/4/9 21:22
4.闭运算
闭运算就是开运算的逆过程，先进行膨胀，在腐蚀，原理和开运算一样，可以用于去除二值化图像的背景色噪点。
例如：
img =cv2.imread(&#34;test.png&#34;)
kernel =np.ones((5,5) , np.uint8)
dst=cv2.morphologyEx(img, cv2.MORPH_CLOSE,kernel)
屏幕剪辑的捕获时间:2018/4/9 21:28
可以看出白色图形里的黑色噪点已经被去除。
5.形态学梯度：
其实就是图像的膨胀和腐蚀之后两张图形的差，其结果就像原图形的轮廓
例如：
img = cv2." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://zhuifengsn.github.io/posts/54c0a6c1a23ed77228dca5ee4b730884/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-06-14T00:55:35+08:00" />
<meta property="article:modified_time" content="2018-06-14T00:55:35+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="追风少年的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">追风少年的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【OpenCV Python】核心操作--形态学转换</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div> 
 <div style="margin-top:0in;margin-left:0in;width:7.6666in;"> 
  <div style="margin-top:0in;margin-left:.375in;width:6.6041in;"> 
   <p style="margin:0in;font-family:'微软雅黑';font-size:11pt;"><span lang="en-us">     </span><span lang="zh-cn">形态学转换是针对图像形状进行的简单操作，一般是指针对二值化图像进行的操作，常见的形态学转换包括腐蚀，膨胀，开运算等。</span></p> 
  </div> 
  <div style="margin-top:.3402in;margin-left:.3541in;width:6.8854in;"> 
   <p style="margin:0in;font-family:'微软雅黑';font-size:11pt;"><span lang="en-us">1.</span><span lang="zh-cn">腐蚀</span></p> 
   <p style="margin:0in;margin-left:.375in;font-size:11pt;"><span style="font-family:'微软雅黑';" lang="zh-cn">顾名思义，腐蚀是对前景物体的边缘进行腐蚀掉，形成如现实中一样的腐蚀效果，其原理如下</span><span style="font-family:Calibri;" lang="en-us">:</span></p> 
   <p style="margin:0in;font-family:'微软雅黑';font-size:11pt;color:#FF0000;"><span lang="zh-cn">卷积核沿着图像滑动，如果卷积核对应区域的图像像素值都是</span><span lang="en-us">1</span><span lang="zh-cn">，则卷积核中心对应的像素值保持不变，反之则全变成</span><span lang="en-us">0</span><span lang="zh-cn">，所以在图像边缘区域，部分为</span><span lang="en-us">0</span><span lang="zh-cn">，部分为</span><span lang="en-us">1</span><span lang="zh-cn">的区域都会变成</span><span lang="en-us">0</span><span lang="zh-cn">，再往里面则会保持不变。</span></p> 
   <p style="margin:0in;font-size:11pt;"><span style="font-family:'微软雅黑';" lang="zh-cn">open</span><span style="font-family:Calibri;" lang="en-us">cv</span><span style="font-family:'微软雅黑';" lang="zh-cn">提供erode</span><span style="font-family:Calibri;" lang="en-us">(src, kernel,iterations)</span><span style="font-family:'微软雅黑';" lang="zh-cn">函数进行腐蚀操作，而且腐蚀操作，也可以去除二值化图形里的一些噪点</span></p> 
   <p style="margin:0in;font-family:'微软雅黑';font-size:11pt;">例如：</p> 
   <p style="margin:0in;font-family:'微软雅黑';font-size:11pt;">img =cv2.imread("test2.png")</p> 
   <p style="margin:0in;font-family:'微软雅黑';font-size:11pt;">kernel = np.ones((5,5),np.uint8)</p> 
   <p style="margin:0in;font-family:'微软雅黑';font-size:11pt;">dst = cv2.erode(img,kernel)</p> 
   <p style="margin:0in;"><img src="https://images2.imgbox.com/0c/f7/b3PsSw70_o.png" alt=""><br></p> 
   <p style="margin:0in;font-family:'微软雅黑';font-size:11pt;">可以看出，相对于左边原图，右边腐蚀之后的图形有明显腐蚀效果，而且噪声被除去</p> 
  </div> 
  <div style="margin-top:.1493in;margin-left:.375in;width:7.0416in;"> 
   <p style="margin:0in;font-size:11pt;"><span style="font-family:'微软雅黑';" lang="en-us">2</span><span style="font-family:Calibri;" lang="en-us">.</span><span style="font-family:'微软雅黑';" lang="zh-cn">膨胀</span></p> 
   <p style="margin:0in;margin-left:.375in;font-family:'微软雅黑';font-size:11pt;">膨胀可以理解为腐蚀的反操作，膨胀的原理是：</p> 
   <p style="margin:0in;margin-left:.375in;font-family:'微软雅黑';font-size:11pt;color:#FF0000;"><span lang="zh-cn">同样的卷积核沿着图像滑动，只要卷积核对应的图像像素值有一个是</span><span lang="en-us">1</span><span lang="zh-cn">，则这块区域全部变成</span><span lang="en-us">1.</span></p> 
   <p style="margin:0in;margin-left:.375in;font-size:11pt;"><span style="font-family:'微软雅黑';" lang="zh-cn">使用</span><span style="font-family:Calibri;" lang="en-us">cv2.dilate(src , kernel)</span><span style="font-family:'微软雅黑';" lang="zh-cn">函数就可以实现膨胀操作</span></p> 
   <p style="margin:0in;margin-left:.375in;font-family:'微软雅黑';font-size:11pt;">例如：</p> 
   <p style="margin:0in;margin-left:.375in;font-family:'微软雅黑';font-size:11pt;">img= cv2.imread("test2.png")</p> 
   <p style="margin:0in;margin-left:.375in;font-family:'微软雅黑';font-size:11pt;">kernel= np.ones((5,5), np.uint8)</p> 
   <p style="margin:0in;margin-left:.375in;font-family:'微软雅黑';font-size:11pt;">dst= cv2.dilate(img,kernel)</p> 
   <p style="margin:0in;margin-left:.375in;font-family:'微软雅黑';font-size:11pt;" lang="en-us"> <span style="font-family:Calibri;font-size:11pt;"> <img src="https://images2.imgbox.com/dd/57/60A7pZSE_o.png" alt=""></span></p> 
   <p><cite style="margin:0in;margin-left:.375in;font-size:9pt;color:#595959;"><span style="font-family:'宋体';">屏幕剪辑的捕获时间</span><span style="font-family:Calibri;">:2018/4/9 21:11</span></cite></p> 
   <p style="margin:0in;margin-left:.375in;font-family:Calibri;font-size:11pt;"> </p> 
  </div> 
  <div style="margin-top:.7055in;margin-left:.6034in;width:7.0631in;"> 
   <p style="margin:0in;font-family:'微软雅黑';font-size:11pt;"><span lang="en-us">3.</span><span lang="zh-cn">开运算：</span></p> 
   <p style="margin:0in;margin-left:.375in;font-size:11pt;"><span style="font-family:'微软雅黑';" lang="zh-cn">开运算就是先进行腐蚀，在进行膨胀，opencv提供函数</span><span style="font-family:Calibri;" lang="en-us">cv2.morphologyEx(src, </span><span style="font-family:'微软雅黑';" lang="zh-cn">运算方式，</span><span style="font-family:Calibri;" lang="en-us">kernel)</span></p> 
   <p style="margin:0in;font-family:'微软雅黑';font-size:11pt;">来实现开运算</p> 
   <p style="margin:0in;font-family:'微软雅黑';font-size:11pt;">值得注意的是：</p> 
   <p style="margin:0in;font-family:'微软雅黑';font-size:11pt;"><span lang="en-us"> </span><span lang="zh-cn">（</span><span lang="en-us">1</span><span lang="zh-cn">）如果先进行腐蚀去除了噪点，但原图形的形状也被破坏，此时再使用膨胀就可以恢复回去，这是开运算存在的意义</span></p> 
   <p style="margin:0in;font-size:11pt;"><span style="font-family:'微软雅黑';" lang="en-us"> </span><span style="font-family:'微软雅黑';" lang="zh-cn">（</span><span style="font-family:'微软雅黑';" lang="en-us">2</span><span style="font-family:'微软雅黑';" lang="zh-cn">）直接使用</span><span style="font-family:Calibri;" lang="en-us">cv2.morphologyEx</span><span style="font-family:'微软雅黑';" lang="zh-cn">和先使用</span><span style="font-family:Calibri;" lang="en-us">cv2.erode</span><span style="font-family:'微软雅黑';" lang="zh-cn">再使用</span><span style="font-family:Calibri;" lang="en-us">cv2.dilate</span><span style="font-family:'微软雅黑';" lang="zh-cn">函数的效果一样</span></p> 
   <p style="margin:0in;font-family:'微软雅黑';font-size:11pt;" lang="en-us"> </p> 
   <p style="margin:0in;font-family:'微软雅黑';font-size:11pt;">例如：</p> 
   <p style="margin:0in;font-family:'微软雅黑';font-size:11pt;">img =cv2.imread("test2.png")</p> 
   <p style="margin:0in;font-family:'微软雅黑';font-size:11pt;">kernel = np.ones((5,5), np.uint8)</p> 
   <p style="margin:0in;font-family:'微软雅黑';font-size:11pt;">dst=cv2.morphologyEx(img, <span style="color:#FF0000;">cv2.MORPH_OPEN</span>,kernel)</p> 
   <p style="margin:0in;font-family:'微软雅黑';font-size:11pt;" lang="en-us"> <span style="font-family:Calibri;font-size:11pt;"> <img src="https://images2.imgbox.com/63/c7/hUIzY2nC_o.png" alt=""></span></p> 
   <p><cite style="margin:0in;font-size:9pt;color:#595959;"><span style="font-family:'宋体';">屏幕剪辑的捕获时间</span><span style="font-family:Calibri;">:2018/4/9 21:22</span></cite></p> 
   <p style="margin:0in;font-family:Calibri;font-size:11pt;"> </p> 
   <p style="margin:0in;font-family:Calibri;font-size:11pt;"> </p> 
   <p style="margin:0in;margin-left:.375in;font-family:'微软雅黑';font-size:11pt;" lang="en-us"> </p> 
  </div> 
  <div style="margin-top:.2326in;margin-left:.6034in;width:7.0111in;"> 
   <p style="margin:0in;font-family:'微软雅黑';font-size:11pt;"><span lang="en-us">4.</span><span lang="zh-cn">闭运算</span></p> 
   <p style="margin:0in;font-family:'微软雅黑';font-size:11pt;">闭运算就是开运算的逆过程，先进行膨胀，在腐蚀，原理和开运算一样，可以用于去除二值化图像的背景色噪点。</p> 
   <p style="margin:0in;font-family:'微软雅黑';font-size:11pt;">例如：</p> 
   <p style="margin:0in;font-family:'微软雅黑';font-size:11pt;" lang="en-us">img =cv2.imread("test.png")</p> 
   <p style="margin:0in;font-family:'微软雅黑';font-size:11pt;" lang="en-us">kernel =np.ones((5,5) , np.uint8)</p> 
   <p style="margin:0in;font-family:'微软雅黑';font-size:11pt;" lang="en-us">dst=cv2.morphologyEx(img, <span style="color:#FF0000;">cv2.MORPH_CLOSE</span>,kernel)</p> 
   <p style="margin:0in;font-family:'微软雅黑';font-size:11pt;" lang="en-us"> <span style="font-family:Calibri;font-size:11pt;"> <img src="https://images2.imgbox.com/ec/1f/7u3wNx01_o.png" alt=""></span></p> 
   <p><cite style="margin:0in;font-size:9pt;color:#595959;" lang="en-us"><span style="font-family:'宋体';">屏幕剪辑的捕获时间</span><span style="font-family:Calibri;">:2018/4/9 21:28</span></cite></p> 
   <p style="margin:0in;font-family:Calibri;font-size:11pt;" lang="en-us"> </p> 
   <p style="margin:0in;font-family:'微软雅黑';font-size:11pt;">可以看出白色图形里的黑色噪点已经被去除。</p> 
  </div> 
  <table border="0" cellpadding="0" cellspacing="0" style="border-width:0pt;margin-top:.4902in;margin-left:0in;width:7.2083in;"><tbody><tr><td style="vertical-align:top;margin:0in;padding:0pt;width:1px;height:1px;font-size:1pt;"><p style="font-size:1pt;"> </p></td><td style="vertical-align:top;margin:0in;padding:0pt;width:.5347in;height:1px;font-size:1pt;"><p style="font-size:1pt;"></p></td><td style="vertical-align:top;margin:0in;padding:0pt;width:.0687in;height:1px;font-size:1pt;"><p style="font-size:1pt;"></p></td><td style="vertical-align:top;margin:0in;padding:0pt;width:6.6048in;height:1px;font-size:1pt;"><p style="font-size:1pt;"></p></td></tr><tr><td style="vertical-align:top;margin:0in;padding:0pt;width:1px;height:2.75in;font-size:1pt;"><p style="font-size:1pt;"> </p></td><td style="vertical-align:top;margin:0in;padding:0pt;width:.5347in;height:2.75in;font-size:1pt;"><p style="font-size:1pt;"></p></td><td style="vertical-align:top;margin:0in;padding:0pt;width:.0687in;height:2.75in;font-size:1pt;"><p style="font-size:1pt;"></p></td><td rowspan="3" style="vertical-align:top;margin:0in;padding:0pt;width:6.6048in;height:5.6118in;"><p style="margin:0in;font-family:'微软雅黑';font-size:11pt;"><span lang="en-us">5.</span><span lang="zh-cn">形态学梯度：</span></p> <p style="margin:0in;margin-left:.375in;font-family:'微软雅黑';font-size:11pt;">其实就是图像的膨胀和腐蚀之后两张图形的差，其结果就像原图形的轮廓</p> <p style="margin:0in;font-family:'微软雅黑';font-size:11pt;">例如：</p> <p style="margin:0in;font-family:'微软雅黑';font-size:11pt;" lang="en-us"> </p> <p style="margin:0in;font-family:'微软雅黑';font-size:11pt;">img = cv2.imread("test2.png")</p> <p style="margin:0in;font-family:'微软雅黑';font-size:11pt;">kernel = np.ones((5,5) , np.uint8)</p> <p style="margin:0in;font-family:'微软雅黑';font-size:11pt;">dst= cv2.morphologyEx(img, cv2.MORPH_GRADIENT,kernel)</p> <p style="margin:0in;font-family:'微软雅黑';font-size:11pt;" lang="en-us"> <img src="https://images2.imgbox.com/2f/69/yvNjC0po_o.png" alt=""></p> <p style="margin:0in;font-family:Calibri;font-size:11pt;"> <span style="color:rgb(89,89,89);font-size:9pt;font-family:'宋体';"><em>屏幕剪辑的捕获时间</em></span><span style="color:rgb(89,89,89);font-size:9pt;"><em>: 2018/4/9 21:31</em></span></p></td></tr><tr><td style="vertical-align:top;margin:0in;padding:0pt;width:1px;height:.1972in;font-size:1pt;"><p style="font-size:1pt;"> </p></td><td style="vertical-align:top;margin:0in;padding:0pt;width:.5347in;height:.1972in;"><p style="margin:0in;font-family:Calibri;font-size:11pt;" lang="en-us"> </p></td><td style="vertical-align:top;margin:0in;padding:0pt;width:.0687in;height:.1972in;font-size:1pt;"><p style="font-size:1pt;"></p></td></tr><tr><td style="vertical-align:top;margin:0in;padding:0pt;width:1px;height:2.6638in;font-size:1pt;"><p style="font-size:1pt;"> </p></td><td style="vertical-align:top;margin:0in;padding:0pt;width:.5347in;height:2.6638in;font-size:1pt;"><p style="font-size:1pt;"></p></td><td style="vertical-align:top;margin:0in;padding:0pt;width:.0687in;height:2.6638in;font-size:1pt;"><p style="font-size:1pt;"></p></td></tr></tbody></table> 
 </div> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/b6ed2b16e45b5a84090804669b1fd083/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">PreminumSoft Navicat版 10.1.7 注册码</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/38dcbfe357243fb482a80c5553b55d11/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Cluster - 基本概念</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 追风少年的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>