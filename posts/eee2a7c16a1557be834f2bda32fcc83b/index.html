<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>51单片机——LCD1602模块 - 追风少年的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="51单片机——LCD1602模块" />
<meta property="og:description" content="一.LCD1602介绍
1.LCD1602 (Liquid Crystal Display
)液晶显示屏是一种字符型液晶显示模块，可以显示ASCII码的标准字符和其它的一些内置特殊字符，还可以有8个自定义字符。
2.显示容量:16x2个字符，每个字符为5*7点阵。
二.LCD1602接口介绍
引脚功能VSS接地VDD电源正极（4.5v-5.5v）VO对比调节电压RS数据/指令选择，1为数据，0为指令RW读/写选择，1为读，0为写E使能，1为数据有效，下降沿执行命令（使能：相当于遥控器的电源键）D0-D7数据输入/输出A背灯电源正极K背灯电源负极 注：当RS=1时，D0-D7为数据，当RS=0时，D0-D7为指令。
三.LCD1602原理图
四.LCD1602内部结构图 DDRAM：在哪个方格子显示数据（RS=0——指令）。
CGRAM（可写）&#43;CGROM（不可写）：在方格子显示什么数据（RS=1——数据）。
AC（光标位置）：控制当前要写在屏幕对应的那个格子。
DDRAM确定显示位置然后字模库显示想要数据，最后输出在屏幕上。
五.时序结构
RS，RW和D7-D0上面介绍过了，这里介绍E，E下面有一行字母valid Data（有效数据），则E为高电平的时候数据有效，之后在设置为低电平，以便下一次数据设置，因此代码为：
E=1;
Delay1ms();
E=0;
Delay1ms();
所以想写数据跟指令的代码为：
#include &lt;REGX52.H&gt; #include &lt;INTRINS.H&gt; sbit LCD_RS=P2^6; sbit LCD_RW=P2^5; sbit LCD_EN=P2^7; #define LCE_Dataport P0 void Delay1ms()	//@11.0592MHz { unsigned char i, j; _nop_(); _nop_(); _nop_(); i = 11; j = 190; do { while (--j); } while (--i); } void LCD_WriteCommand(unsigned char Command)//写指令 { LCD_RS=0; LCD_RW=0; LCE_Dataport=Command; LCD_EN=1; Delay1ms(); LCD_EN=0; Delay1ms(); } void LCD_WriteData(unsigned char Data)//写数据 { LCD_RS=1; LCD_RW=0; LCE_Dataport=Data; LCD_EN=1; Delay1ms(); LCD_EN=0; Delay1ms(); } 六." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://zhuifengsn.github.io/posts/eee2a7c16a1557be834f2bda32fcc83b/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-06-25T19:11:07+08:00" />
<meta property="article:modified_time" content="2023-06-25T19:11:07+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="追风少年的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">追风少年的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">51单片机——LCD1602模块</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/c3/86/0KumlYgn_o.png"></p> 
<p><strong>一.LCD1602介绍</strong></p> 
<p>1.LCD1602 (Liquid Crystal Display</p> 
<p>)液晶显示屏是一种字符型液晶显示模块，可以显示ASCII码的标准字符和其它的一些内置特殊字符，还可以有8个自定义字符。<br> 2.显示容量:16x2个字符，每个字符为5*7点阵。</p> 
<p><strong>二.LCD1602接口介绍</strong></p> 
<table border="1" cellpadding="1" cellspacing="1" style="width:500px;"><tbody><tr><td>引脚</td><td>功能</td></tr><tr><td>VSS</td><td>接地</td></tr><tr><td>VDD</td><td>电源正极（4.5v-5.5v）</td></tr><tr><td>VO</td><td>对比调节电压</td></tr><tr><td>RS</td><td>数据/指令选择，1为数据，0为指令</td></tr><tr><td>RW</td><td>读/写选择，1为读，0为写</td></tr><tr><td>E</td><td>使能，1为数据有效，下降沿执行命令（使能：相当于遥控器的电源键）</td></tr><tr><td>D0-D7</td><td>数据输入/输出</td></tr><tr><td>A</td><td>背灯电源正极</td></tr><tr><td>K</td><td>背灯电源负极</td></tr></tbody></table> 
<p>注：当RS=1时，D0-D7为数据，当RS=0时，D0-D7为指令。</p> 
<p><strong>三.LCD1602原理图</strong></p> 
<p style="text-align:center;"><strong><img alt="" src="https://images2.imgbox.com/07/d5/5XxDZ2lB_o.png"></strong></p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/b4/ad/U9KMxo95_o.png"></p> 
<p><strong>四.LCD1602内部结构图 </strong></p> 
<p style="text-align:center;"><strong><img alt="" src="https://images2.imgbox.com/ba/0d/tyzSxvKZ_o.png"></strong></p> 
<p> DDRAM：在哪个方格子显示数据（RS=0——指令）。</p> 
<p>CGRAM（可写）+CGROM（不可写）：在方格子显示什么数据（RS=1——数据）。</p> 
<p>AC（光标位置）：控制当前要写在屏幕对应的那个格子。</p> 
<p>DDRAM确定显示位置然后字模库显示想要数据，最后输出在屏幕上。</p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/19/04/n6yIFUXp_o.png"></p> 
<p><strong>五.时序结构</strong></p> 
<p style="text-align:center;"><strong><img alt="" src="https://images2.imgbox.com/81/e6/LbP1rvUE_o.png"></strong></p> 
<p> RS，RW和D7-D0上面介绍过了，这里介绍E，E下面有一行字母valid Data（有效数据），则E为高电平的时候数据有效，之后在设置为低电平，以便下一次数据设置，因此代码为：</p> 
<blockquote> 
 <p>E=1;</p> 
 <p>Delay1ms();</p> 
 <p>E=0;</p> 
 <p>Delay1ms();</p> 
</blockquote> 
<p>所以想写数据跟指令的代码为：</p> 
<pre><code class="language-cs">#include &lt;REGX52.H&gt;
#include &lt;INTRINS.H&gt;


sbit LCD_RS=P2^6;
sbit LCD_RW=P2^5;
sbit LCD_EN=P2^7;
#define LCE_Dataport P0

void Delay1ms()		//@11.0592MHz
{
	unsigned char i, j;

	_nop_();
	_nop_();
	_nop_();
	i = 11;
	j = 190;
	do
	{
		while (--j);
	} while (--i);
}


void LCD_WriteCommand(unsigned char Command)//写指令
{
	LCD_RS=0;
	LCD_RW=0;
	LCE_Dataport=Command;
	LCD_EN=1;
	Delay1ms();
	LCD_EN=0;
	Delay1ms();
}

void LCD_WriteData(unsigned char Data)//写数据
{
	LCD_RS=1;
	LCD_RW=0;
	LCE_Dataport=Data;
	LCD_EN=1;
	Delay1ms();
	LCD_EN=0;
	Delay1ms();
}</code></pre> 
<p><strong>六.LCD1602初始化</strong></p> 
<p style="text-align:center;"><strong><img alt="" src="https://images2.imgbox.com/59/0a/Yq5JFdgi_o.png"></strong></p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/2f/3c/J863ro7A_o.png"></p> 
<p>初始化就是设置LCD1602一开始显示的功能，一般设置为：</p> 
<pre><code class="language-cs">void LCD_WriteCommand(unsigned char Command)//写指令
{
	LCD_RS=0;
	LCD_RW=0;
	LCE_Dataport=Command;
	LCD_EN=1;
	Delay1ms();
	LCD_EN=0;
	Delay1ms();
}

void LCD_Init(void)//初始化
{
	LCD_WriteCommand(0x38);
	LCD_WriteCommand(0x0C);
	LCD_WriteCommand(0x06);
	LCD_WriteCommand(0x01);
}</code></pre> 
<p><strong>七.如何表示显示位置？ </strong></p> 
<p style="text-align:center;"><strong><img alt="" src="https://images2.imgbox.com/7b/11/1zVcbDAS_o.png"></strong></p> 
<p>如果想显示在第一行第二列的话则表示十六进制的0x01，但是显示在那里时，要求最高位D7为高电平，因此从0000 0001变成1000 0001，因此每次高位为0x80，所以就是0x80+0x01=0x81，在代码里面第一行第二行可以直接表示1或2，但是列却要减1以后在化成十六进制，所以第一行第n列则为（0x80 |（ lie-1）） ，第二行第n列则表示（0x80 |（lie-1）+0x40），第二行加上0x40是因为第二行开始就是40H，而不是00H，下面代码展示。</p> 
<pre><code class="language-cs">#include &lt;REGX52.H&gt;
#include &lt;INTRINS.H&gt;

sbit LCD_RS=P2^6;
sbit LCD_RW=P2^5;
sbit LCD_EN=P2^7;
#define LCE_Dataport P0

void Delay1ms()		//@11.0592MHz
{
	unsigned char i, j;

	_nop_();
	_nop_();
	_nop_();
	i = 11;
	j = 190;
	do
	{
		while (--j);
	} while (--i);
}

void LCD_WriteCommand(unsigned char Command)//写指令
{
	LCD_RS=0;
	LCD_RW=0;
	LCE_Dataport=Command;
	LCD_EN=1;
	Delay1ms();
	LCD_EN=0;
	Delay1ms();
}

void LCD_Setcursor(unsigned char line,unsigned char column)//行，列
{
	if(line==1)//设置光标位置
	{
		//第一列是数字1，但是位置是0x00，要把数字1转换0x00,就把数字1-1就0，所以转十六进制就是0x00
		LCD_WriteCommand(0x80|(column-1));
	}
	else
	{
		//第二行的第一列是从0x40开始，第二列是0x41，相当于0x40+0x01，0x01就是与上面一致
		LCD_WriteCommand(0x80|(column-1)+0x40);
	}
}</code></pre> 
<p><strong>八.如何表示显示的数据？</strong></p> 
<p style="text-align:center;"><strong><img alt="" src="https://images2.imgbox.com/f1/80/f1i8GKxF_o.png"></strong></p> 
<p style="text-align:center;"> <img alt="" src="https://images2.imgbox.com/94/64/N8nmZ6is_o.png"></p> 
<p>如果想显示字符A，则为0100 0001，化为十六进制就是0x41，在对照ASCLL码中的A刚刚好是0x41，因此想写数据直接'A',就可以了。 </p> 
<p><strong>九.LCD1602总代码</strong></p> 
<p><strong>下图对应最下面代码的LCD—Shownum</strong></p> 
<p style="text-align:center;"><strong><img alt="" src="https://images2.imgbox.com/2a/49/yK6WinFP_o.png"></strong></p> 
<p></p> 
<pre><code class="language-cs">#include &lt;REGX52.H&gt;
#include &lt;INTRINS.H&gt;

sbit LCD_RS=P2^6;
sbit LCD_RW=P2^5;
sbit LCD_EN=P2^7;
#define LCE_Dataport P0

void Delay1ms()		//@11.0592MHz
{
	unsigned char i, j;

	_nop_();
	_nop_();
	_nop_();
	i = 11;
	j = 190;
	do
	{
		while (--j);
	} while (--i);
}


void LCD_WriteCommand(unsigned char Command)//写指令
{
	LCD_RS=0;
	LCD_RW=0;
	LCE_Dataport=Command;
	LCD_EN=1;
	Delay1ms();
	LCD_EN=0;
	Delay1ms();
}

void LCD_WriteData(unsigned char Data)//写数据
{
	LCD_RS=1;
	LCD_RW=0;
	LCE_Dataport=Data;
	LCD_EN=1;
	Delay1ms();
	LCD_EN=0;
	Delay1ms();
}

void LCD_Init(void)//初始化
{
	LCD_WriteCommand(0x38);
	LCD_WriteCommand(0x0C);
	LCD_WriteCommand(0x06);
	LCD_WriteCommand(0x01);
}

void LCD_Setcursor(unsigned char line,unsigned char column)
{
	if(line==1)//设置光标位置
	{
		//第一列是数字1，但是位置是0x00，要把数字1转换0x00,就把数字1-1就0，所以转十六进制就是0x00
		LCD_WriteCommand(0x80|(column-1));
	}
	else
	{
		//第二行的第一列是从0x40开始，第二列是0x41，相当于0x40+0x01，0x01就是与上面一致
		LCD_WriteCommand(0x80|(column-1)+0x40);
	}
}

void LCD_Showchar(unsigned char line,unsigned char column,unsigned char Char)//line行，column列，Char字符
{//显示一个字符
	LCD_Setcursor(line,column);	
	LCD_WriteData(Char);
}

void LCD_Showstring(unsigned char line,unsigned char column,unsigned char *string)//line行，column列，string字符串
{//显示字符串，字符串直接等于指针，不用数组形式等于字符串，在等于指针形式，那传给指针的就是字符串的第一个字符的地址，然后string【i】一直往下就可以知道字符串，数组是连续的，如果baby的b在第一行第一列，那a就会在第一行，第二列。
	unsigned char i;
	LCD_Setcursor(line,column);		
	for(i=0;string[i]!='\0';i++)
	{
		LCD_WriteData(string[i]);//字符串本身就是地址，所以传进来的字符串用指针string来接
	}
}

int LCD_Pow(int X,int Y)//平方函数，列如:10^2
{
	unsigned char i;
	int Result=1;
	for(i=0;i&lt;Y;i++)
	{
		Result*=X;
	}
	return Result;
}

void LCD_Shownum(unsigned char line,unsigned char column,unsigned int number,unsigned char length)
{
	unsigned char i;
	LCD_Setcursor(line,column);	
	for(i=length;i&gt;0;i--)
	{

    //+'0'是因为number/LCD_Pow(10,i-1) %10对应ASCLL码里面的十进制，想要字符的话得从0x40开始，然后加上十进制化成十六进制，0x40就是'0'
		LCD_WriteData('0'+number/LCD_Pow(10,i-1) %10);
	}
}

void LCD_Showsignednum(unsigned char line,unsigned char column,int number,unsigned char length)
{
	unsigned char i;
	unsigned int Number1;
	LCD_Setcursor(line,column);	
	if(number&gt;=0)
	{
		LCD_WriteData('+');
		Number1=number;
	}
	else
	{
		LCD_WriteData('-');
		Number1=-number;
	}
	for(i=length;i&gt;0;i--)
	{
		LCD_WriteData('0'+Number1/LCD_Pow(10,i-1) %10);
	}
	
}

void LCD_Showhexnum(unsigned char line,unsigned char column,unsigned int number,unsigned char length)
{
	unsigned char i;
	unsigned char singlenumber;
	LCD_Setcursor(line,column);	
	for(i=length;i&gt;0;i--)
	{
			singlenumber=number/LCD_Pow(16,i-1) %16;
			if(singlenumber&lt;10)
			{
				LCD_WriteData('0'+singlenumber);
			}	
			else
			{
				LCD_WriteData('A'+singlenumber-10);
			}
	}
}

void main()
{
	LCD_Init();
	LCD_Showchar(2,2,'I');
	LCD_Showchar(2,4,'L');
	LCD_Showchar(2,5,'O');
	LCD_Showchar(2,6,'V');
	LCD_Showchar(2,7,'E');
	LCD_Showchar(2,9,'Y');
	LCD_Showchar(2,10,'O');
	LCD_Showchar(2,11,'U');
	LCD_Shownum(1,8,520,3);
	LCD_Shownum(1,11,1314,4);
	LCD_Showsignednum(2,12,-8,1);
	LCD_Showhexnum(2,15,0xA6,2);
	
	while(1)
	{
	
	}
}</code></pre> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/9d880d999056d666132d8f0adb9e5221/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">SQL如何确保数据唯一性？</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/40cc49256f28c1462bf02ead0dd250af/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">java8 list to tree 工具类</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 追风少年的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>