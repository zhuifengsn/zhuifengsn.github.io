<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>linux图书管理系统,C语言——图书管理系统（Linux版） - 追风少年的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="linux图书管理系统,C语言——图书管理系统（Linux版）" />
<meta property="og:description" content="#include&#34;stdio.h&#34;
#include&#34;stdlib.h&#34;
#include&#34;string.h&#34;
#define N 20
#define T sizeof(struct book)
#define SC &#34;%ld %s %s %s %s
%d&#34;,&amp;p1-&gt;num,p1-&gt;name,p1-&gt;author,p1-&gt;kind,p1-&gt;press,&amp;p1-&gt;quantity
#define PR11
&#34;\033[30;42m%-8ld\033[47m%-16s\033[42m%-16s\033[47m%-16s\033[42m%-16s\033[47m%-8d\033[0m\n&#34;,p-&gt;num,p-&gt;name,p-&gt;author,p-&gt;kind,p-&gt;press,p-&gt;quantity
#define PR21
&#34;\033[30;47m%-8ld\033[42m%-16s\033[47m%-16s\033[42m%-16s\033[47m%-16s\033[42m%-8d\033[0m\n&#34;,p-&gt;num,p-&gt;name,p-&gt;author,p-&gt;kind,p-&gt;press,p-&gt;quantity
#define PR12
&#34;\033[30;42m%-8ld\033[47m%-16s\033[42m%-16s\033[47m%-16s\033[42m%-16s\033[41m%-8d\033[0m\n&#34;,p-&gt;num,p-&gt;name,p-&gt;author,p-&gt;kind,p-&gt;press,p-&gt;quantity
#define PR22
&#34;\033[30;47m%-8ld\033[42m%-16s\033[47m%-16s\033[42m%-16s\033[47m%-16s\033[41m%-8d\033[0m\n&#34;,p-&gt;num,p-&gt;name,p-&gt;author,p-&gt;kind,p-&gt;press,p-&gt;quantity
#define PR &#34;\033[30;43mnumber name author kind press quantity\033[0m\n&#34;
int password()//----------------------密码系统
{ int i;
char zh[9],ZH[9]=&#34;123456&#34;,mm[7],MM[7]=&#34;123456&#34;;
printf(&#34;\t\t\t\t\t\t\t\033[33m请输入帐号：&#34;);
scanf(&#34;%s&#34;,zh);
printf(&#34;\n\033[0m&#34;);
while(strcmp(zh,ZH)!=0)
{ printf(&#34;\t\t\t\t\t\t\t\033[31m您的输入错误，没有该帐号！请重输！\033[0m\n\n&#34;);
printf(&#34;\t\t\t\t\t\t\t\033[33m请再次输入帐号：&#34;);
scanf(&#34;%s&#34;,zh);
printf(&#34;\n\033[0m&#34;);
}
printf(&#34;\t\t\t\t\t\t\t\033[33m请输入密码：&#34;);
system(&#34;stty -echo&#34;);
scanf(&#34;%s&#34;,mm);
system(&#34;stty echo&#34;);
printf(&#34;******\n\n\033[0m&#34;);
for(i=0;i&lt;7;i&#43;&#43;)
{ if(strcmp(mm,MM)==0)
{ printf(&#34;\t\t\t\t\t\t \033[32m欢迎进入该系统！按&#34;Enter&#34;键进入！\033[0m\n&#34;);
return 0;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://zhuifengsn.github.io/posts/b557cc22fe0449a103649c68226ca85e/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-05-08T12:34:58+08:00" />
<meta property="article:modified_time" content="2021-05-08T12:34:58+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="追风少年的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">追风少年的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">linux图书管理系统,C语言——图书管理系统（Linux版）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div style="font-size:16px;"> 
 <p>#include"stdio.h"</p> 
 <p>#include"stdlib.h"</p> 
 <p>#include"string.h"</p> 
 <p>#define N 20</p> 
 <p>#define T sizeof(struct book)</p> 
 <p>#define SC "%ld %s %s %s %s</p> 
 <p>%d",&amp;p1-&gt;num,p1-&gt;name,p1-&gt;author,p1-&gt;kind,p1-&gt;press,&amp;p1-&gt;quantity</p> 
 <p>#define PR11</p> 
 <p>"\033[30;42m%-8ld\033[47m%-16s\033[42m%-16s\033[47m%-16s\033[42m%-16s\033[47m%-8d\033[0m\n",p-&gt;num,p-&gt;name,p-&gt;author,p-&gt;kind,p-&gt;press,p-&gt;quantity</p> 
 <p>#define PR21</p> 
 <p>"\033[30;47m%-8ld\033[42m%-16s\033[47m%-16s\033[42m%-16s\033[47m%-16s\033[42m%-8d\033[0m\n",p-&gt;num,p-&gt;name,p-&gt;author,p-&gt;kind,p-&gt;press,p-&gt;quantity</p> 
 <p>#define PR12</p> 
 <p>"\033[30;42m%-8ld\033[47m%-16s\033[42m%-16s\033[47m%-16s\033[42m%-16s\033[41m%-8d\033[0m\n",p-&gt;num,p-&gt;name,p-&gt;author,p-&gt;kind,p-&gt;press,p-&gt;quantity</p> 
 <p>#define PR22</p> 
 <p>"\033[30;47m%-8ld\033[42m%-16s\033[47m%-16s\033[42m%-16s\033[47m%-16s\033[41m%-8d\033[0m\n",p-&gt;num,p-&gt;name,p-&gt;author,p-&gt;kind,p-&gt;press,p-&gt;quantity</p> 
 <p>#define PR "\033[30;43mnumber name author kind press quantity\033[0m\n"</p> 
 <p>int password()//----------------------密码系统</p> 
 <p>{ int i;</p> 
 <p>char zh[9],ZH[9]="123456",mm[7],MM[7]="123456";</p> 
 <p>printf("\t\t\t\t\t\t\t\033[33m请输入帐号：");</p> 
 <p>scanf("%s",zh);</p> 
 <p>printf("\n\033[0m");</p> 
 <p>while(strcmp(zh,ZH)!=0)</p> 
 <p>{ printf("\t\t\t\t\t\t\t\033[31m您的输入错误，没有该帐号！请重输！\033[0m\n\n");</p> 
 <p>printf("\t\t\t\t\t\t\t\033[33m请再次输入帐号：");</p> 
 <p>scanf("%s",zh);</p> 
 <p>printf("\n\033[0m");</p> 
 <p>}</p> 
 <p>printf("\t\t\t\t\t\t\t\033[33m请输入密码：");</p> 
 <p>system("stty -echo");</p> 
 <p>scanf("%s",mm);</p> 
 <p>system("stty echo");</p> 
 <p>printf("******\n\n\033[0m");</p> 
 <p>for(i=0;i&lt;7;i++)</p> 
 <p>{ if(strcmp(mm,MM)==0)</p> 
 <p>{ printf("\t\t\t\t\t\t \033[32m欢迎进入该系统！按"Enter"键进入！\033[0m\n");</p> 
 <p>return 0;</p> 
 <p>}</p> 
 <p>else</p> 
 <p>{ printf("\t\t\t\t\t\t\t\033[31m输入密码错误！请重输！\033[0m\n\n");</p> 
 <p>printf("\t\t\t\t\t\t\t\033[33m请再次输入密码：");</p> 
 <p>system("stty</p> 
 <p>-echo");</p> 
 <p>scanf("%s",mm);</p> 
 <p>system("stty echo");</p> 
 <p>printf("******\033[0m\n\n");</p> 
 <p>}</p> 
 <p>if(i&gt;=1) return 1;</p> 
 <p>}</p> 
 <p>return 0;</p> 
 <p>}</p> 
 <p>void table()//------------------Welcome</p> 
 <p>{ int i;</p> 
 <p>printf("\033[2J\033[40A");</p> 
 <p>for(i=0;i&lt;8;i++)</p> 
 <p>printf("\n");</p> 
 <p>for(i=0;i&lt;6;i++)</p> 
 <p>printf("\t\t\t\t\033[32m LL\n");</p> 
 <p>printf("\t\t\t\tWW WW EEEEEEEE LL CCCCCCCC OOOOOOOO MMMMMMMMMM EEEEEEEE\n");</p> 
 <p>printf("\t\t\t\tWW WW</p> 
 <p>EE EE</p> 
 <p>LL CC CC</p> 
 <p>OO OO MM MM MM</p> 
 <p>EE EE\n");</p> 
 <p>printf("\t\t\t\tWW WW EEEEEEEEEE</p> 
 <p>LL LL</p> 
 <p>CC OO OO MM MM MM EEEEEEEEEE\n");</p> 
 <p>printf("\t\t\t\tWW WW WW</p> 
 <p>EE LL LL</p> 
 <p>CC OO OO MM MM MM EE\n");</p> 
 <p>printf("\t\t\t\tWWWW WWWW</p> 
 <p>EE EE LL LL CC CC</p> 
 <p>OO OO MM MM MM</p> 
 <p>EE EE\n");</p> 
 <p>printf("\t\t\t\t</p> 
 <p>WW WW EEEEEEEE LLLL CCCCCCCC OOOOOOOO MM MM MM EEEEEEEE\033[0m\n\n\n");</p> 
 <p>}</p> 
 <p>void end()</p> 
 <p>{ int i;</p> 
 <p>printf("\033[2J\033[40A");</p> 
 <p>for(i=0;i&lt;11;i++)</p> 
 <p>printf("\n");</p> 
 <p>printf("\t\t\t \033[33mBBBBBBBB BB\n");</p> 
 <p>printf("\t\t\t BB BB BB\n");</p> 
 <p>printf("\t\t\t BB BB BB\n");</p> 
 <p>printf("\t\t\t BB BB BB\n");</p> 
 <p>printf("\t\t\t BBBBBBBB YY YY EEEEEE BBBBBBBB YY YY EEEEEE\n");</p> 
 <p>printf("\t\t\t BB BB YY YY EE EE BB BB YY YY EE EE\n");</p> 
 <p>printf("\t\t\t BB BB YY YY EEEEEEEEEE BB BB YY YY EEEEEEEEEE\n");</p> 
 <p>printf("\t\t\t BB BB YY YY EE BB BB YY YY EE\n");</p> 
 <p>printf("\t\t\t BBBBBBBB YYYYYYYYY EEEEEEE BBBBBBBB YYYYYYYYY EEEEEEE\n");</p> 
 <p>printf("\t\t\t YY YY\n");</p> 
 <p>printf("\t\t\t YY YY\n");</p> 
 <p>printf("\t\t\t YY YY\n");</p> 
 <p>printf("\t\t\t YYYYYYYY YYYYYYYY\033[0m\n\n\n\n\n\n");</p> 
 <p>printf("\033[32m\t\t\t\t\t\t\t\t\t\t 谢谢使用！再见！\033[0m\n");</p> 
 <p>for(i=0;i&lt;10;i++)</p> 
 <p>printf("\n");</p> 
 <p>}</p> 
 <p>void table2()//---------------------功能选择菜单</p> 
 <p>{<!-- --></p> 
 <p>printf("\033[2J\033[38A\n");</p> 
 <p>printf("\n\n\n\n\t\t\033[33m ************************爱****国****求****是****奋****进**********************\n");</p> 
 <p>printf("\t\t*************************欢****迎****进****入***OURS***图****书****管****理****系****统*************************\n");</p> 
 <p>printf("\t\t ************************西****安****邮****电****大****学**********************\n");</p> 
 <p>printf("\n\n\n");</p> 
 <p>printf("\t\t\t\t\033[32m+\t\t『</p> 
 <p>1』--------------------------------#*******读取信息*******#\n");</p> 
 <p>printf("\n");</p> 
 <p>printf("\t\t\t\t+\t\t『</p> 
 <p>2』--------------------------------#*******存储信息*******#\n");</p> 
 <p>printf("\n");</p> 
 <p>printf("\t\t\t\t+\t\t『</p> 
 <p>3』--------------------------------#*******统计信息*******#\n");</p> 
 <p>printf("\n");</p> 
 <p>printf("\t\t\t\t+\t\t『</p> 
 <p>4』--------------------------------#******按书名检索******#\n");</p> 
 <p>printf("\n");</p> 
 <p>printf("\t\t\t\t+\t\t『</p> 
 <p>5』--------------------------------#******按编号检索******#\n");</p> 
 <p>printf("\n");</p> 
 <p>printf("\t\t\t\t+\t\t『</p> 
 <p>6』--------------------------------#*****修改书刊信息*****#\n");</p> 
 <p>printf("\n");</p> 
 <p>printf("\t\t\t\t+\t\t『</p> 
 <p>7』--------------------------------#*****打印书刊信息*****#\n");</p> 
 <p>printf("\n");</p> 
 <p>printf("\t\t\t\t+\t\t『</p> 
 <p>8』--------------------------------#*****添加书刊信息*****#\n");</p> 
 <p>printf("\n");</p> 
 <p>printf("\t\t\t\t+\t\t『</p> 
 <p>9』--------------------------------#*****删除书刊信息*****#\n");</p> 
 <p>printf("\n");</p> 
 <p>printf("\t\t\t\t+\t\t『10』--------------------------------#*****创建新数据库*****#\n");</p> 
 <p>printf("\n");</p> 
 <p>printf("\t\t\t\t+\t\t『11』--------------------------------#**按借阅剩余数量排序**#\n");</p> 
 <p>printf("\n");</p> 
 <p>printf("\t\t\t\t+\t\t『12』--------------------------------#**按编码小到大序排序**#\n");</p> 
 <p>printf("\n");</p> 
 <p>printf("\t\t\t\t\033[31m+\t\t『</p> 
 <p>0』--------------------------------#*******结束退出*******#\033[0m\n\n\n");</p> 
 <p>}</p> 
 <p>typedef struct book//----------------------书刊结构体类型</p> 
 <p>{ long num;//书刊编码</p> 
 <p>char name[21];//书名</p> 
 <p>char author[21];//作者</p> 
 <p>char kind[21];//种类</p> 
 <p>char press[21];//出版社</p> 
 <p>int quantity;//所剩数量</p> 
 <p>struct book *next;</p> 
 <p>}sb;</p> 
 <p>sb *creat(void)//-------------------------信息录入</p> 
 <p>{ sb *p1,*p2,*head;</p> 
 <p>head=p2=(sb*)malloc(T);</p> 
 <p>printf("\033[32mPlease input: number, name, author, kind, press and</p> 
 <p>quantity(input 0 end)\n");</p> 
 <p>p1=(sb*)malloc(T);</p> 
 <p>scanf(SC);</p> 
 <p>while(p1-&gt;num!=0)</p> 
 <p>{ p2-&gt;next=p1;</p> 
 <p>p2=p1;</p> 
 <p>p1=(sb*)malloc(T);</p> 
 <p>scanf(SC);</p> 
 <p>}</p> 
 <p>p2-&gt;next=NULL;</p> 
 <p>free(p1);</p> 
 <p>printf("\033[0m");</p> 
 <p>return head;</p> 
 <p>}</p> 
 <p>sb *namefind(sb *p1)//----------------------按书名查找</p> 
 <p>{ char name[21];</p> 
 <p>printf("\n\n\n\n\n\033[33m-&gt;-&gt;检索系统---按书名查找 ~~爱国~~求是~~奋进~~\n");</p> 
 <p>printf("------------------------------------------------------------------------------\033[0m\n\n\n");</p> 
 <p>printf("\033[31m请输入您要查找的书名：");</p> 
 <p>scanf("%s",name);</p> 
 <p>printf("\033[0m");</p> 
 <p>while(p1-&gt;next!=NULL)</p> 
 <p>{ p1=p1-&gt;next;</p> 
 <p>if(strcmp(p1-&gt;name,name)==0) return p1;</p> 
 <p>}</p> 
 <p>return NULL;</p> 
 <p>}</p> 
 <p>sb *numberfind(sb *p2)//--------------------按编码查找</p> 
 <p>{ long num;</p> 
 <p>printf("\n\n\n\n\n\033[33m-&gt;-&gt;检索系统---按编码查找 ~~爱国~~求是~~奋进~~\n");</p> 
 <p>printf("------------------------------------------------------------------------------\033[0m\n\n\n");</p> 
 <p>printf("\033[31m请输入您要查找书刊的编码：");</p> 
 <p>scanf("%ld",&amp;num);</p> 
 <p>printf("\033[0m");</p> 
 <p>while(p2-&gt;next!=NULL)</p> 
 <p>{ p2=p2-&gt;next;</p> 
 <p>if(p2-&gt;num==num) return p2;</p> 
 <p>}</p> 
 <p>return NULL;</p> 
 <p>}</p> 
 <p>int delete(sb *q)//---------------------信息删除</p> 
 <p>{ long num;</p> 
 <p>sb *p;</p> 
 <p>printf("\n\n\n\n\n\033[33m-&gt;-&gt;删除系统 ~~爱国~~求是~~奋进~~\n");</p> 
 <p>printf("------------------------------------------------------------------------------\033[0m\n\n\n");</p> 
 <p>p=q-&gt;next;</p> 
 <p>if(p==NULL) return 0;</p> 
 <p>printf("\033[31m请输入您要删除书刊的编码：");</p> 
 <p>scanf("%ld",&amp;num);</p> 
 <p>printf("\033[0m");</p> 
 <p>while(p!=NULL)</p> 
 <p>{ if(p-&gt;num==num)</p> 
 <p>{ q-&gt;next=p-&gt;next;</p> 
 <p>free(p);</p> 
 <p>return 1;</p> 
 <p>}</p> 
 <p>q=p;</p> 
 <p>p=p-&gt;next;</p> 
 <p>}</p> 
 <p>return 0;</p> 
 <p>}</p> 
 <p>int insert(sb *q)//-------------------------信息插入</p> 
 <p>{ sb *p;</p> 
 <p>p=(sb *)malloc(T);</p> 
 <p>printf("\n\n\n\n\n\033[33m-&gt;-&gt;插入系统 ~~爱国~~求是~~奋进~~\n");</p> 
 <p>printf("------------------------------------------------------------------------------\033[0m\n\n\n");</p> 
 <p>printf("\033[31mPlease input: number, name, author, kind, press and</p> 
 <p>quantity\n");</p> 
 <p>scanf("%ld %s %s %s %s</p> 
 <p>%d",&amp;p-&gt;num,p-&gt;name,p-&gt;author,p-&gt;kind,p-&gt;press,&amp;p-&gt;quantity);</p> 
 <p>printf("\033[0m");</p> 
 <p>while(q-&gt;next!=NULL&amp;&amp;q-&gt;next-&gt;num!=p-&gt;num)</p> 
 <p>q=q-&gt;next;</p> 
 <p>if(q-&gt;next!=NULL&amp;&amp;q-&gt;next-&gt;num==p-&gt;num||p-&gt;num==0)</p> 
 <p>{ free(p);</p> 
 <p>return 0;</p> 
 <p>}</p> 
 <p>p-&gt;next=q-&gt;next;</p> 
 <p>q-&gt;next=p;</p> 
 <p>return 1;</p> 
 <p>}</p> 
 <p>int alter(sb *head)//-----------------------信息修改</p> 
 <p>{ sb *p;</p> 
 <p>long numb;</p> 
 <p>char c;</p> 
 <p>int i;</p> 
 <p>printf("\n\n\n\n\n\033[33m-&gt;-&gt;修改系统 ~~爱国~~求是~~奋进~~\n");</p> 
 <p>printf("------------------------------------------------------------------------------\033[0m\n\n\n");</p> 
 <p>while(1)</p> 
 <p>{ p=head;</p> 
 <p>p=p-&gt;next;</p> 
 <p>printf("\033[32m输入要修改书刊编码：");</p> 
 <p>scanf("%ld",&amp;numb);</p> 
 <p>printf("\033[0m");</p> 
 <p>while(p!=NULL&amp;&amp;p-&gt;num!=numb)</p> 
 <p>p=p-&gt;next;</p> 
 <p>if(numb==0)</p> 
 <p>printf("\033[31m对不起，书刊编码不能为0！\033[0m\n");</p> 
 <p>else if(p!=NULL&amp;&amp;p-&gt;num==numb&amp;&amp;numb!=0)</p> 
 <p>{ printf("\033[33m选择要修改的项目(\033[31m1--编码，2--书名，3--作者，4--种类，5--出版社，6--所剩数目)：");</p> 
 <p>scanf("%d",&amp;i);</p> 
 <p>printf("\033[0m");</p> 
 <p>getchar();</p> 
 <p>switch(i)</p> 
 <p>{ case 1:printf("\033[33m输入修改后的编码：");</p> 
 <p>scanf("%ld",&amp;p-&gt;num);</p> 
 <p>printf("\033[32m修改成功！\033[0m\n"); break;</p> 
 <p>case 2:printf("\033[33m输入修改后的书名：");</p> 
 <p>scanf("%s",p-&gt;name);</p> 
 <p>printf("\033[32m修改成功！\033[0m\n"); break;</p> 
 <p>case 3:printf("\033[33m输入修改后的作者：");</p> 
 <p>scanf("%s",p-&gt;author);</p> 
 <p>printf("\033[32m修改成功！\033[0m\n"); break;</p> 
 <p>case 4:printf("\033[33m输入修改后的种类：");</p> 
 <p>scanf("%s",p-&gt;kind);</p> 
 <p>printf("\033[32m修改成功！\033[0m\n"); break;</p> 
 <p>case 5:printf("\033[33m输入修改后的出版社：");</p> 
 <p>scanf("%s",p-&gt;press);</p> 
 <p>printf("\033[32m修改成功！\033[0m\n"); break;</p> 
 <p>case 6:printf("\033[33m输入修改后的所剩数目：");</p> 
 <p>scanf("%d",&amp;p-&gt;quantity);</p> 
 <p>printf("\033[32m修改成功！\033[0m\n"); break;</p> 
 <p>default:printf("\033[31m您的选择有误，请重选！\033[0m\n\n"); break;</p> 
 <p>}</p> 
 <p>}</p> 
 <p>else printf("\033[31m对不起，没有该书刊信息！\033[0m\n\n");</p> 
 <p>getchar();</p> 
 <p>printf("\033[33m是否继续修改('y' or 'n')：");</p> 
 <p>scanf("%c",&amp;c);</p> 
 <p>printf("\033[0m");</p> 
 <p>if(c=='n'||c=='N') break;</p> 
 <p>}</p> 
 <p>}</p> 
 <p>int output(sb *p)//--------------------------打印书刊信息</p> 
 <p>{ int i=1;</p> 
 <p>if(p==NULL||p-&gt;next==NULL)</p> 
 <p>{ printf("\033[31m没有信息，无法打印！\n");</p> 
 <p>return 0;</p> 
 <p>}</p> 
 <p>p=p-&gt;next;</p> 
 <p>while(p!=NULL)</p> 
 <p>{ if(!(i%2-0)&amp;&amp;(p-&gt;quantity-0))</p> 
 <p>{ printf(PR11);</p> 
 <p>i++;</p> 
 <p>p=p-&gt;next;</p> 
 <p>}</p> 
 <p>else if((i%2-0)&amp;&amp;(p-&gt;quantity-0))</p> 
 <p>{ printf(PR21);</p> 
 <p>i++;</p> 
 <p>p=p-&gt;next;</p> 
 <p>}</p> 
 <p>else if(!(i%2-0)&amp;&amp;!(p-&gt;quantity-0))</p> 
 <p>{ printf(PR12);</p> 
 <p>i++;</p> 
 <p>p=p-&gt;next;</p> 
 <p>}</p> 
 <p>else if((i%2-0)&amp;&amp;!(p-&gt;quantity-0))</p> 
 <p>{ printf(PR22);</p> 
 <p>i++;</p> 
 <p>p=p-&gt;next;</p> 
 <p>}</p> 
 <p>}</p> 
 <p>}</p> 
 <p>void sort1(sb *head)//-------------------------按借阅剩余数量排序排序</p> 
 <p>{ sb *p,*p1,*p2;</p> 
 <p>printf("\n\n\n\n\n\033[33m-&gt;-&gt;排序系统---按借阅剩余量大到小 ~~爱国~~求是~~奋进~~\n");</p> 
 <p>printf("------------------------------------------------------------------------------\033[0m\n\n\n");</p> 
 <p>p=p1=head-&gt;next;</p> 
 <p>p1=p1-&gt;next;</p> 
 <p>p-&gt;next=NULL;</p> 
 <p>if(head==NULL||head-&gt;next==NULL)</p> 
 <p>{ printf("\033[31m没有信息，无法排序！\033[0m\n");</p> 
 <p>return;</p> 
 <p>}</p> 
 <p>while(p1!=NULL)</p> 
 <p>{ p2=p1-&gt;next;</p> 
 <p>p=head;</p> 
 <p>while(p-&gt;next!=NULL&amp;&amp;p-&gt;next-&gt;quantity&gt;p1-&gt;quantity)</p> 
 <p>p=p-&gt;next;</p> 
 <p>p1-&gt;next=p-&gt;next;</p> 
 <p>p-&gt;next=p1;</p> 
 <p>p1=p2;</p> 
 <p>}</p> 
 <p>printf("\033[32m排序成功！\033[0m\n");</p> 
 <p>}</p> 
 <p>void sort2(sb *head)//-----------------------按编码排序</p> 
 <p>{ sb *p,*p1,*p2;</p> 
 <p>printf("\n\n\n\n\n\033[33m-&gt;-&gt;排序系统---按编码有小到大 ~~爱国~~求是~~奋进~~\n");</p> 
 <p>printf("------------------------------------------------------------------------------\033[0m\n\n\n");</p> 
 <p>p=p1=head-&gt;next;</p> 
 <p>p1=p1-&gt;next;</p> 
 <p>p-&gt;next=NULL;</p> 
 <p>if(head==NULL||head-&gt;next==NULL)</p> 
 <p>{ printf("\033[31m没有信息，无法排序！\033[0m\n");</p> 
 <p>return;</p> 
 <p>}</p> 
 <p>while(p1!=NULL)</p> 
 <p>{ p2=p1-&gt;next;</p> 
 <p>p=head;</p> 
 <p>while(p-&gt;next!=NULL&amp;&amp;p-&gt;next-&gt;numnum)</p> 
 <p>p=p-&gt;next;</p> 
 <p>p1-&gt;next=p-&gt;next;</p> 
 <p>p-&gt;next=p1;</p> 
 <p>p1=p2;</p> 
 <p>}</p> 
 <p>printf("\033[32m排序成功！\033[0m\n");</p> 
 <p>}</p> 
 <p>void count(sb *p)//--------------------------信息统计</p> 
 <p>{ int l=0;</p> 
 <p>printf("\n\n\n\n\n\033[33m-&gt;-&gt;统计系统 ~~爱国~~求是~~奋进~~\n");</p> 
 <p>printf("------------------------------------------------------------------------------\033[0m\n\n\n");</p> 
 <p>p=p-&gt;next;</p> 
 <p>while(p!=NULL)</p> 
 <p>{ l++;</p> 
 <p>p=p-&gt;next;</p> 
 <p>}</p> 
 <p>printf("\033[32m一共存储有%d个书刊信息！\n",l);</p> 
 <p>}</p> 
 <p>void store(sb *p)//-------------------------信息存储</p> 
 <p>{ FILE *fp;</p> 
 <p>char file1[40];</p> 
 <p>printf("\n\n\n\n\n\033[33m-&gt;-&gt;存储系统 ~~爱国~~求是~~奋进~~\n");</p> 
 <p>printf("------------------------------------------------------------------------------\033[0m\n\n\n");</p> 
 <p>getchar();</p> 
 <p>printf("\033[33m请输入文件存储路径：");</p> 
 <p>scanf("%s",file1);</p> 
 <p>printf("\033[0m");</p> 
 <p>fp=fopen(file1,"wt");</p> 
 <p>if(p==NULL)</p> 
 <p>{ printf("\033[31m没有信息，无法储存！\033[0m\n");</p> 
 <p>fclose(fp);</p> 
 <p>return;</p> 
 <p>}</p> 
 <p>while(p-&gt;next!=NULL)</p> 
 <p>{ p=p-&gt;next;</p> 
 <p>fwrite(p,T,1,fp);</p> 
 <p>}</p> 
 <p>fclose(fp);</p> 
 <p>printf("\033[32m信息存储成功！\033[0m\n");</p> 
 <p>}</p> 
 <p>sb *read()//------------------------------------读取数据</p> 
 <p>{ sb *p1,*p2,*head;</p> 
 <p>FILE *fp;</p> 
 <p>char file2[40];</p> 
 <p>printf("\n\n\n\n\n\033[33m-&gt;-&gt;读取系统 ~~爱国~~求是~~奋进~~\n");</p> 
 <p>printf("------------------------------------------------------------------------------\033[0m\n\n\n");</p> 
 <p>getchar();</p> 
 <p>printf("\033[33m请输入文件地址：");</p> 
 <p>scanf("%s",file2);</p> 
 <p>printf("\033[0m");</p> 
 <p>if((fp=fopen(file2,"rt"))==NULL)</p> 
 <p>{ printf("\033[31m文件不存在！\033[0m\n");</p> 
 <p>// if(head-&gt;next==NULL) printf("\033[31m文件信息不存在！\033[0m\n");</p> 
 <p>}</p> 
 <p>else</p> 
 <p>{ head=p2=(sb *)malloc(T);</p> 
 <p>while(1)</p> 
 <p>{ p1=(sb *)malloc(T);</p> 
 <p>if(fread(p1,T,1,fp)!=1) break;</p> 
 <p>p2-&gt;next=p1;</p> 
 <p>p2=p1;</p> 
 <p>}</p> 
 <p>p2-&gt;next=NULL;</p> 
 <p>fclose(fp);</p> 
 <p>printf("\033[32m信息读取成功！\033[0m\n");</p> 
 <p>}</p> 
 <p>return head;</p> 
 <p>}</p> 
 <p>sb *build()//---------------------------建立新数据库</p> 
 <p>{ sb *head;</p> 
 <p>char m;</p> 
 <p>printf("\n\n\n\n\n\033[33m-&gt;-&gt;录入系统 ~~爱国~~求是~~奋进~~\n");</p> 
 <p>printf("------------------------------------------------------------------------------\033[0m\n\n\n");</p> 
 <p>getchar();</p> 
 <p>printf("\033[31m新数据库会覆盖原数据，请谨慎选择！否则后果自负！是否继续：('Y' or 'N')：");</p> 
 <p>scanf("%c",&amp;m);</p> 
 <p>if(m=='N'||m=='n') return 0;</p> 
 <p>else if(m=='Y'||m=='y')</p> 
 <p>return(head=creat());</p> 
 <p>}</p> 
 <p>int switchh(sb *p,sb</p> 
 <p>*head)//-------------------------主函数功能选择</p> 
 <p>{ int n;</p> 
 <p>printf("\033[33m\t\t\t\t+\t\t\t\t请选择您需要的功能：");</p> 
 <p>scanf("%d",&amp;n);</p> 
 <p>printf("\033[0m");</p> 
 <p>while(n!=0)</p> 
 <p>{<!-- --></p> 
 <p>switch(n)</p> 
 <p>{<!-- --></p> 
 <p>case 1:printf("\033[2J\033[40A");</p> 
 <p>head=read();</p> 
 <p>break;</p> 
 <p>case 2:printf("\033[2J\033[40A");</p> 
 <p>store(head);</p> 
 <p>break;</p> 
 <p>case 3:printf("\033[2J\033[40A");</p> 
 <p>count(head);</p> 
 <p>break;</p> 
 <p>case 4:printf("\033[2J\033[40A");</p> 
 <p>p=namefind(head);</p> 
 <p>if(p) { printf(PR);</p> 
 <p>if(p-&gt;quantity!=0)</p> 
 <p>printf(PR11);</p> 
 <p>else if(!(p-&gt;quantity-0))</p> 
 <p>printf(PR12);</p> 
 <p>}</p> 
 <p>else printf("\033[31m对不起，没有该书刊！\033[0m\n");</p> 
 <p>break;</p> 
 <p>case 5:printf("\033[2J\033[40A");</p> 
 <p>p=numberfind(head);</p> 
 <p>if(p) { printf(PR);</p> 
 <p>if(p-&gt;quantity!=0)</p> 
 <p>printf(PR11);</p> 
 <p>else if(!(p-&gt;quantity-0))</p> 
 <p>printf(PR12);</p> 
 <p>}</p> 
 <p>else printf("\033[31m对不起，没有该书刊！\033[0m\n");</p> 
 <p>break;</p> 
 <p>case 6:printf("\033[2J\033[40A");</p> 
 <p>alter(head);</p> 
 <p>break;</p> 
 <p>case 7:printf("\033[2J\033[40A");</p> 
 <p>printf("\n\n\n\n\n\033[33m-&gt;-&gt;打印系统 ~~爱国~~求是~~奋进~~\n");</p> 
 <p>printf("------------------------------------------------------------------------------\033[0m\n\n\n");</p> 
 <p>printf(PR);</p> 
 <p>output(head);</p> 
 <p>break;</p> 
 <p>case 8:printf("\033[2J\033[40A");</p> 
 <p>if(insert(head)) printf("\033[32m已成功插入！\033[0m\n");</p> 
 <p>else printf("\033[31m有重号或编码错误，插入失败！\033[0m\n");</p> 
 <p>break;</p> 
 <p>case 9:printf("\033[2J\033[40A");</p> 
 <p>if(delete(head)) printf("\033[32m已正确删除！\033[0m\n");</p> 
 <p>else</p> 
 <p>printf("\033[31m删除项不存在！\033[0m\n");</p> 
 <p>break;</p> 
 <p>case 10:printf("\033[2J\033[40A");</p> 
 <p>head=build();</p> 
 <p>break;</p> 
 <p>case 11:printf("\033[2J\033[40A");</p> 
 <p>sort1(head);</p> 
 <p>break;</p> 
 <p>case 12:printf("\033[2J\033[40A");</p> 
 <p>sort2(head);</p> 
 <p>break;</p> 
 <p>default:printf("\033[2J\033[40A");</p> 
 <p>printf("\033[33m输入错误！请重新输入！！！\033[31m T_T \033[0m\n");break;</p> 
 <p>}</p> 
 <p>getchar();</p> 
 <p>printf("\n\n\033[33m------------------------------------------------------------------------------\033[0m\n");</p> 
 <p>printf("\033[32m按"Enter"键返回！");</p> 
 <p>getchar();</p> 
 <p>table2();</p> 
 <p>printf("\033[33m\t\t\t\t+\t\t\t\t请选择您需要的功能：");</p> 
 <p>scanf("%d",&amp;n);</p> 
 <p>printf("\033[0m");</p> 
 <p>}</p> 
 <p>}</p> 
 <p>int main(void)</p> 
 <p>{ char Z[N][9],M[N][7];</p> 
 <p>sb *head,*p;</p> 
 <p>int Q,i;</p> 
 <p>head=NULL;</p> 
 <p>table();</p> 
 <p>Q=password();</p> 
 <p>if(Q) return 0;</p> 
 <p>getchar();</p> 
 <p>getchar();</p> 
 <p>table2();</p> 
 <p>switchh(p,head);</p> 
 <p>end();</p> 
 <p>}</p> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/2eb1a54db57ba35b0669fba681379354/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">linux为什么重启网络失败怎么办,centos系统重启网络失败怎么办</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/098b2fe14db13469187e9b57c2b8722d/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">docker部署sentinel</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 追风少年的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>