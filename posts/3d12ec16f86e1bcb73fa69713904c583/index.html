<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>嵌入式基础准备 | Linux命令（包括 文件、目录和压缩、系统操作、vi、vim、ctags、cscope） - 追风少年的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="嵌入式基础准备 | Linux命令（包括 文件、目录和压缩、系统操作、vi、vim、ctags、cscope）" />
<meta property="og:description" content="1、使用 ctrl&#43;alt&#43;t 打开命令行
2、按tab键补全文件名
3、ctrl&#43;c 停止正在进行的过程
4、向上键向下键翻历史的命令（只有在当前用户才有效，比如切换根用户之后就无了）
5、根用户创建的文件 其他用户只有查看内容的权限，不能修改
6、具体命令：Linux vi/vim 使用
1、文件、目录和压缩 1.1 目录操作 $ ls //查看里面有什么东西(浏览目录内容) 默认开始进入主目录 $ tree // 查看当前目录（直接出树状结构）（安装命令(软件) sudo apt-get install tree，sudo表示要用根用户（当前普通用户）） $ tree -L 2 //查看当前的前两层目录树 $ tree /home //查看home目录下的子目录树 $ cd /　//切换到系统根目录（/） cd (change directory) $ cd ~ //切换到当前用户目录 $ pwd //查看当前路径 $ cd ..　//切换到上一层目录（两个点 ） $ mkdir hello //创建目录（文件夹） $ rm -rf hello/ //删除目录(文件夹hello) $ cd hello //切换到当前目录下的hello子目录 $ ln -s /mnt/hgfs ." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://zhuifengsn.github.io/posts/3d12ec16f86e1bcb73fa69713904c583/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-02-22T14:17:21+08:00" />
<meta property="article:modified_time" content="2024-02-22T14:17:21+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="追风少年的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">追风少年的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">嵌入式基础准备 | Linux命令（包括 文件、目录和压缩、系统操作、vi、vim、ctags、cscope）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>1、使用 ctrl+alt+t 打开命令行<br> 2、按tab键补全文件名<br> 3、ctrl+c 停止正在进行的过程<br> 4、向上键向下键翻历史的命令（只有在当前用户才有效，比如切换根用户之后就无了）<br> 5、根用户创建的文件 其他用户只有查看内容的权限，不能修改<br> 6、具体命令：<a href="https://www.runoob.com/linux/linux-vim.html" rel="nofollow">Linux vi/vim 使用</a></p> 
<h2><a id="1_6"></a>1、文件、目录和压缩</h2> 
<h3><a id="11__7"></a>1.1 目录操作</h3> 
<pre><code class="prism language-c">$ ls         <span class="token comment">//查看里面有什么东西(浏览目录内容)  默认开始进入主目录</span>
$ tree      <span class="token comment">// 查看当前目录（直接出树状结构）（安装命令(软件) sudo apt-get install tree，sudo表示要用根用户（当前普通用户））</span>
$ tree <span class="token operator">-</span>L <span class="token number">2</span>  <span class="token comment">//查看当前的前两层目录树</span>
$ tree <span class="token operator">/</span>home <span class="token comment">//查看home目录下的子目录树 </span>
$ cd <span class="token operator">/</span>　　　 <span class="token comment">//切换到系统根目录（/）   cd (change directory)</span>
$ cd <span class="token operator">~</span>       <span class="token comment">//切换到当前用户目录</span>
$ pwd        <span class="token comment">//查看当前路径</span>
$ cd <span class="token punctuation">.</span><span class="token punctuation">.</span>　　  <span class="token comment">//切换到上一层目录（两个点 ）</span>
$ mkdir  hello  <span class="token comment">//创建目录（文件夹）</span>
$ rm <span class="token operator">-</span>rf hello<span class="token operator">/</span>    <span class="token comment">//删除目录(文件夹hello)</span>
$ cd hello      <span class="token comment">//切换到当前目录下的hello子目录</span>
$ ln <span class="token operator">-</span>s <span class="token operator">/</span>mnt<span class="token operator">/</span>hgfs  <span class="token punctuation">.</span><span class="token operator">/</span>  <span class="token comment">//在主目录建立软链接（类似快捷方式，避免每次输入一大堆）</span>
</code></pre> 
<h3><a id="12__23"></a>1.2 文件操作</h3> 
<pre><code class="prism language-c">$ touch main<span class="token punctuation">.</span>c <span class="token comment">//创建文件</span>
$ mv  main<span class="token punctuation">.</span>c hello<span class="token punctuation">.</span>c <span class="token comment">//更改文件名(改成hello.c)</span>
$ gedit main<span class="token punctuation">.</span>c  <span class="token comment">//用图形编辑器编辑</span>
$ vi  main<span class="token punctuation">.</span>c   <span class="token comment">//编辑文件，要编辑要敲i进入编辑模式，按esc退出编辑模式，:wq退出</span>
$ gedit  main<span class="token punctuation">.</span>c   <span class="token comment">// 以图形化方式 编辑文件</span>
$ cat main<span class="token punctuation">.</span>c   <span class="token comment">//查看文件内容</span>
$ cp main<span class="token punctuation">.</span>c aa <span class="token comment">//拷贝文件（把main.c拷贝，新文件叫aa）</span>
$ rm main<span class="token punctuation">.</span>c    <span class="token comment">//删除文件（后面跟的名字默认是 文件）</span>
</code></pre> 
<h3><a id="13__35"></a>1.3 压缩解压</h3> 
<pre><code class="prism language-c">$ tar <span class="token operator">-</span>zcvf music<span class="token punctuation">.</span>tar<span class="token punctuation">.</span>gz music<span class="token operator">/</span> <span class="token comment">//压缩(很多源码是tar.xz格式)</span>
$ tar <span class="token operator">-</span>xvf music<span class="token punctuation">.</span>tar<span class="token punctuation">.</span>gz        <span class="token comment">//解压</span>
</code></pre> 
<h2><a id="2_41"></a>2、系统操作</h2> 
<h3><a id="21__42"></a>2.1 权限设置</h3> 
<pre><code class="prism language-c">$ sudo  su    <span class="token comment">//切换到root用户（比如要在根目录下操作）</span>
$ su ivan     <span class="token comment">//切换回普通的ivan用户</span>
$ chmod <span class="token number">777</span> main<span class="token punctuation">.</span>c <span class="token comment">//设置权限为777（即所有（所有用户可改），777是最高的），只有根用户有这个权限可以改权限（使用chmod）</span>
$ passwd  <span class="token comment">//修改当前用户的密码(会有输入更长密码的限制)</span>
$ sudo passwd yhai  <span class="token comment">//用root用户权限去修改 yhai用户的密码，就没有限制了，可以设为1</span>
</code></pre> 
<h3><a id="22__51"></a>2.2 安装新命令</h3> 
<pre><code class="prism language-c">$ sudo apt<span class="token operator">-</span>get install tree <span class="token comment">//安装命令</span>
$ sudo apt<span class="token operator">-</span>get remove tree  <span class="token comment">//卸载命令</span>
</code></pre> 
<h3><a id="23__57"></a>2.3 搜索</h3> 
<pre><code class="prism language-c">$ find <span class="token punctuation">.</span> <span class="token operator">-</span>name hello<span class="token punctuation">.</span>c  <span class="token comment">//在当前目录(.)下搜索文件(hello.c)</span>
$ man find <span class="token comment">// 查看find的手册</span>
</code></pre> 
<h3><a id="24__63"></a>2.4 磁盘空间</h3> 
<pre><code class="prism language-c">$ df <span class="token operator">-</span>h  <span class="token comment">//查看各磁盘空间(一般以dev开始的)使用情况</span>
$ du <span class="token operator">-</span>h music<span class="token operator">/</span>  <span class="token comment">//查看music文件夹占多大空间</span>
</code></pre> 
<h2><a id="3vi_69"></a>3、vi命令</h2> 
<p>嵌入式御用编辑器，有三种模式：命令模式，输入模式，底行模式<br> 通过命令终端（串口、网线）远程访问某个设备</p> 
<h3><a id="31__72"></a>3.1 命令模式（默认启动时进入）</h3> 
<p>此状态下敲击键盘动作会被Vim 识别为命令，而非输入字符</p> 
<pre><code class="prism language-c"><span class="token comment">//3个都可以切换到输入模式</span>
i  <span class="token comment">//进入插入状态（按下i ，并不会输入一个字符，而被当作一个命令insert）</span>
   <span class="token comment">//再输入字符，会插入在光标前</span>
enter <span class="token comment">// 光标在前把当前行下移一行，在后在当前行下面新建一行光标移至新的行</span>
a  <span class="token comment">//进入追加状态(再输入字符，会追加在光标后)，光标会移至当前位置之后（如果要在后面加一空白行，需要用a把光标移至最后一个字符之后）</span>
o  <span class="token comment">//进入新一行输入状态(再输入字符，会在新一行输入)</span>
</code></pre> 
<p>注意先按esc退出输入模式，回到命令模式</p> 
<pre><code class="prism language-c"><span class="token comment">//移动光标</span>
     k 上 
h 前       l 后 
     j 下
     
r  <span class="token comment">//取代光标处的字符</span>
x  <span class="token comment">//删除当前光标所在处的字符</span>


ctrl <span class="token operator">+</span> f <span class="token comment">//下翻页</span>
ctrl <span class="token operator">+</span> b <span class="token comment">//上翻页 </span>
gg  <span class="token comment">//跳到第一行</span>
shift <span class="token operator">+</span> g <span class="token comment">//跳到最后一行</span>

dd <span class="token comment">//删除一整行</span>
   <span class="token comment">//3dd: 删除3行（6yy以此类推）</span>
yy <span class="token comment">//复制一行</span>
v <span class="token operator">+</span> h<span class="token operator">/</span>j<span class="token operator">/</span>k<span class="token operator">/</span>l  <span class="token comment">//选取字符串，进行整体操作（同时按）</span>
d <span class="token comment">// 删除选中的东西</span>
y <span class="token comment">//复制</span>
p  <span class="token comment">//粘贴 </span>

u  <span class="token comment">//复原前一个动作</span>
   <span class="token comment">//再输入 Ctrl+r : 回退到修改前状态j</span>

<span class="token operator">:</span> <span class="token comment">//切换到底行模式(即可在最底一行输入命令) </span>
</code></pre> 
<h3><a id="32__113"></a>3.2 输入模式</h3> 
<p>enter, tab, 空格 都是正常的</p> 
<h3><a id="33__115"></a>3.3 底行模式</h3> 
<p>先进入命令状态，都是以冒号开始，实际上也是命令模式</p> 
<pre><code class="prism language-c"><span class="token operator">:</span>w  <span class="token comment">//写入（保存） </span>
<span class="token operator">:</span>q  <span class="token comment">//退出 </span>
<span class="token operator">:</span>q<span class="token operator">!</span> <span class="token comment">//不保存退出</span>
<span class="token operator">:</span>set nu <span class="token comment">//显示行号    </span>
<span class="token operator">:</span>set nu<span class="token operator">!</span> <span class="token comment">//隐藏行号   </span>
<span class="token operator">:</span><span class="token number">30</span>   <span class="token comment">//光标跳到第30行</span>
<span class="token operator">/</span>word  <span class="token comment">//搜索字符串 word</span>
       <span class="token comment">// n: 查找下一个  shift + n: 查找上一个  </span>
Backspace <span class="token comment">//取消底行字符后，自动切换到命令模式</span>
</code></pre> 
<h2><a id="4vimctagscscope_129"></a>4、源码跟踪（vim、ctags、cscope）</h2> 
<p>vim：是vi的升级版，加了一些高亮显示和改进，如u可以无限撤销。<br> ctags cscope：帮助多个源文件间建立符号索引库（如跳到函数定义，查找函数的文件位置）</p> 
<h3><a id="41__vimctagscscope_132"></a>4.1 安装 vim，ctags，cscope</h3> 
<pre><code class="prism language-c">$ sudo apt<span class="token operator">-</span>get install vim  universal<span class="token operator">-</span>ctags cscope
$ cd <span class="token operator">~</span><span class="token operator">/</span>linux<span class="token operator">-</span><span class="token number">4.9</span><span class="token number">.140</span>  <span class="token comment">//进入源码目录   </span>
$ ctags   <span class="token operator">-</span>R    <span class="token comment">//生成符号关联  </span>
$ cscope <span class="token operator">-</span>Rbkq  <span class="token comment">//生成索引库</span>
</code></pre> 
<h3><a id="42__140"></a>4.2 编译文件</h3> 
<pre><code class="prism language-c">$ vi Makefile
$ vim <span class="token punctuation">.</span>
</code></pre> 
<h3><a id="43_vim_146"></a>4.3 vim配置</h3> 
<pre><code class="prism language-c">$ vim <span class="token operator">~</span><span class="token operator">/</span><span class="token punctuation">.</span>vimrc   <span class="token comment">// 添加vim 的配置文件</span>
可以个性化定制
"<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>  
"           基本设置  
"<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>  
<span class="token string">" When started as "</span>evim"<span class="token punctuation">,</span> evim<span class="token punctuation">.</span>vim will already have done these settings<span class="token punctuation">.</span>  
<span class="token keyword">if</span> v<span class="token operator">:</span>progname <span class="token operator">=</span><span class="token operator">~</span><span class="token operator">?</span> <span class="token string">"evim"</span>  
  finish  
endif   
  
"启用Vim的特性，而不是Vi的（必须放到配置的最前边）  
set nocompatible  
  
" 设置编码    
set encoding<span class="token operator">=</span>utf<span class="token operator">-</span><span class="token number">8</span>    
set fenc<span class="token operator">=</span>utf<span class="token operator">-</span><span class="token number">8</span>    
set fileencodings<span class="token operator">=</span>ucs<span class="token operator">-</span>bom<span class="token punctuation">,</span>utf<span class="token operator">-</span><span class="token number">8</span><span class="token punctuation">,</span>cp936<span class="token punctuation">,</span>gb2312<span class="token punctuation">,</span>gb18030<span class="token punctuation">,</span>big5   
   
"显示行号  
set number  
  
"设置默认打开窗口大小  
"set lines<span class="token operator">=</span><span class="token number">70</span> columns<span class="token operator">=</span><span class="token number">100</span>  
  
"设置窗口透明度  
"set transparency<span class="token operator">=</span><span class="token number">10</span>  
  
"设置背景色  
"set bg<span class="token operator">=</span>dark  
  
"用 koehler 调色板  
colorscheme koehler  
  
"隐藏工具栏和滑动条  
set guioptions<span class="token operator">=</span>aAce      
            
"设置标签栏  
"最多<span class="token number">30</span>个标签  
set tabpagemax<span class="token operator">=</span><span class="token number">30</span>   
"显示标签栏    
set showtabline<span class="token operator">=</span><span class="token number">2</span>     
       
  
"设定文件浏览器目录为当前目录  
"set bsdir<span class="token operator">=</span>buffer  
"set autochdir  
  
"保存<span class="token number">100</span>条命令历史记录  
set history<span class="token operator">=</span><span class="token number">100</span>   
      
"总是在窗口右下角显示光标的位置  
set ruler     
      
"在Vim窗口右下角显示未完成的命令   
set showcmd           
  
" 启用鼠标  
<span class="token keyword">if</span> <span class="token function">has</span><span class="token punctuation">(</span><span class="token char">'mouse'</span><span class="token punctuation">)</span>  
  set mouse<span class="token operator">=</span>a  
endif  
  
"设置语法高亮  
<span class="token keyword">if</span> <span class="token operator">&amp;</span>t_Co <span class="token operator">&gt;</span> <span class="token number">2</span> <span class="token operator">||</span> <span class="token function">has</span><span class="token punctuation">(</span><span class="token string">"gui_running"</span><span class="token punctuation">)</span>  
syntax on  
endif  
  
  
"<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>  
"           文本操作设置  
"<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>  
"设置字体  
set gfn<span class="token operator">=</span>Courier<span class="token operator">:</span>h15  
  
"设置自动缩进  
"设置智能缩进  
set tabstop<span class="token operator">=</span><span class="token number">4</span>  
set shiftwidth<span class="token operator">=</span><span class="token number">4</span>  
set softtabstop<span class="token operator">=</span><span class="token number">4</span>  
set expandtab  
set smarttab  
  
  
"设置Tab键跟行尾符显示出来  
set list lcs<span class="token operator">=</span>tab<span class="token operator">:</span><span class="token operator">&gt;</span><span class="token operator">-</span><span class="token punctuation">,</span>trail<span class="token operator">:</span><span class="token operator">-</span>  
  
"设置自动换行  
set wrap  
  
"设置Insert模式和Normal模式下Left和Right箭头键左右移动可以超出当前行  
set whichwrap<span class="token operator">=</span>b<span class="token punctuation">,</span>s<span class="token punctuation">,</span><span class="token operator">&lt;</span><span class="token punctuation">,</span><span class="token operator">&gt;</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">,</span><span class="token punctuation">]</span>  
  
"设置光标移动到屏幕之外时，自动向右滚动<span class="token number">10</span>个字符  
set sidescroll<span class="token operator">=</span><span class="token number">10</span>  
  
"设置使<span class="token operator">~</span>命令成为操作符命令，从而使<span class="token operator">~</span>命令可以跟光标移动命令组合使用  
set tildeop  
  
"在Insert模式下，设置Backspace键如何删除光标前边的字符。这里三个值分别表示空白字符，分行符和插入模式之前的字符。  
set backspace<span class="token operator">=</span>indent<span class="token punctuation">,</span>eol<span class="token punctuation">,</span>start  
  
"定义键映射，不使用Q命令启动Ex模式，令Q命令完成gq命令的功能<span class="token operator">--</span><span class="token operator">-</span>即文本格式化。  
map Q gq  
  
" CTRL<span class="token operator">-</span>U 在Insert模式下可以删除当前光标所在行所在列之前的所有字符<span class="token punctuation">.</span>  Insert模式下，在Enter换行之后，可以立即使用CTRL<span class="token operator">-</span>U命令删除换行符。  
inoremap <span class="token operator">&lt;</span>C<span class="token operator">-</span>U<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>C<span class="token operator">-</span>G<span class="token operator">&gt;</span>u<span class="token operator">&lt;</span>C<span class="token operator">-</span>U<span class="token operator">&gt;</span>  
  
<span class="token string">"使 "</span>p" 命令在Visual模式下用拷贝的字符覆盖被选中的字符。  
vnoremap p <span class="token operator">&lt;</span>Esc<span class="token operator">&gt;</span><span class="token operator">:</span>let current_reg <span class="token operator">=</span> @"<span class="token operator">&lt;</span>CR<span class="token operator">&gt;</span>gvs<span class="token operator">&lt;</span>C<span class="token operator">-</span>R<span class="token operator">&gt;=</span>current_reg<span class="token operator">&lt;</span>CR<span class="token operator">&gt;</span><span class="token operator">&lt;</span>Esc<span class="token operator">&gt;</span>  
  
  
"<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>  
"           搜索设置  
"<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>  
"打开搜索高亮  
set hlsearch  
  
"忽略大小写  
set ignorecase  
  
"在查找时输入字符过程中就高亮显示匹配点。然后回车跳到该匹配点。  
set incsearch     
  
"设置查找到文件尾部后折返开头或查找到开头后折返尾部。  
set wrapscan  
  
  
"put ctrl<span class="token operator">+</span>shift<span class="token operator">+</span><span class="token operator">-</span> s <span class="token keyword">for</span> find string
nmap <span class="token operator">&lt;</span>C<span class="token operator">-</span>_<span class="token operator">&gt;</span>s <span class="token operator">:</span>cs find s <span class="token operator">&lt;</span>C<span class="token operator">-</span>R<span class="token operator">&gt;=</span><span class="token function">expand</span><span class="token punctuation">(</span><span class="token string">"&lt;cword&gt;"</span><span class="token punctuation">)</span><span class="token operator">&lt;</span>CR<span class="token operator">&gt;</span><span class="token operator">&lt;</span>CR<span class="token operator">&gt;</span>
nmap <span class="token operator">&lt;</span>C<span class="token operator">-</span>_<span class="token operator">&gt;</span>g <span class="token operator">:</span>cs find g <span class="token operator">&lt;</span>C<span class="token operator">-</span>R<span class="token operator">&gt;=</span><span class="token function">expand</span><span class="token punctuation">(</span><span class="token string">"&lt;cword&gt;"</span><span class="token punctuation">)</span><span class="token operator">&lt;</span>CR<span class="token operator">&gt;</span><span class="token operator">&lt;</span>CR<span class="token operator">&gt;</span>
nmap <span class="token operator">&lt;</span>C<span class="token operator">-</span>_<span class="token operator">&gt;</span>c <span class="token operator">:</span>cs find c <span class="token operator">&lt;</span>C<span class="token operator">-</span>R<span class="token operator">&gt;=</span><span class="token function">expand</span><span class="token punctuation">(</span><span class="token string">"&lt;cword&gt;"</span><span class="token punctuation">)</span><span class="token operator">&lt;</span>CR<span class="token operator">&gt;</span><span class="token operator">&lt;</span>CR<span class="token operator">&gt;</span>
nmap <span class="token operator">&lt;</span>C<span class="token operator">-</span>_<span class="token operator">&gt;</span>t <span class="token operator">:</span>cs find t <span class="token operator">&lt;</span>C<span class="token operator">-</span>R<span class="token operator">&gt;=</span><span class="token function">expand</span><span class="token punctuation">(</span><span class="token string">"&lt;cword&gt;"</span><span class="token punctuation">)</span><span class="token operator">&lt;</span>CR<span class="token operator">&gt;</span><span class="token operator">&lt;</span>CR<span class="token operator">&gt;</span>
nmap <span class="token operator">&lt;</span>C<span class="token operator">-</span>_<span class="token operator">&gt;</span>e <span class="token operator">:</span>cs find e <span class="token operator">&lt;</span>C<span class="token operator">-</span>R<span class="token operator">&gt;=</span><span class="token function">expand</span><span class="token punctuation">(</span><span class="token string">"&lt;cword&gt;"</span><span class="token punctuation">)</span><span class="token operator">&lt;</span>CR<span class="token operator">&gt;</span><span class="token operator">&lt;</span>CR<span class="token operator">&gt;</span>
nmap <span class="token operator">&lt;</span>C<span class="token operator">-</span>_<span class="token operator">&gt;</span>f <span class="token operator">:</span>cs find f <span class="token operator">&lt;</span>C<span class="token operator">-</span>R<span class="token operator">&gt;=</span><span class="token function">expand</span><span class="token punctuation">(</span><span class="token string">"&lt;cfile&gt;"</span><span class="token punctuation">)</span><span class="token operator">&lt;</span>CR<span class="token operator">&gt;</span><span class="token operator">&lt;</span>CR<span class="token operator">&gt;</span>
nmap <span class="token operator">&lt;</span>C<span class="token operator">-</span>_<span class="token operator">&gt;</span>i <span class="token operator">:</span>cs find i <span class="token operator">^</span><span class="token operator">&lt;</span>C<span class="token operator">-</span>R<span class="token operator">&gt;=</span><span class="token function">expand</span><span class="token punctuation">(</span><span class="token string">"&lt;cfile&gt;"</span><span class="token punctuation">)</span><span class="token operator">&lt;</span>CR<span class="token operator">&gt;</span>$<span class="token operator">&lt;</span>CR<span class="token operator">&gt;</span>
nmap <span class="token operator">&lt;</span>C<span class="token operator">-</span>_<span class="token operator">&gt;</span>d <span class="token operator">:</span>cs find d <span class="token operator">&lt;</span>C<span class="token operator">-</span>R<span class="token operator">&gt;=</span><span class="token function">expand</span><span class="token punctuation">(</span><span class="token string">"&lt;cword&gt;"</span><span class="token punctuation">)</span><span class="token operator">&lt;</span>CR<span class="token operator">&gt;</span><span class="token operator">&lt;</span>CR<span class="token operator">&gt;</span>  
"<span class="token keyword">auto</span> add cscope<span class="token punctuation">.</span>out to vim   如<span class="token operator">:</span>cs f s 命令不能用   
cs add cscope<span class="token punctuation">.</span>out
set csto<span class="token operator">:</span><span class="token number">0</span>
set cscopetag
set nocsverb
set csverb
"添加内核目录，让你在任意文件下搜索时，都能跳到内核信息
"cs add <span class="token operator">/</span>home<span class="token operator">/</span>jetbot<span class="token operator">/</span>kernel<span class="token operator">/</span>cscope<span class="token punctuation">.</span>out  <span class="token operator">/</span>home<span class="token operator">/</span>jetbot<span class="token operator">/</span>kernel<span class="token operator">/</span>
"set tags<span class="token operator">:</span><span class="token punctuation">.</span><span class="token operator">/</span>tags<span class="token punctuation">,</span>tags<span class="token punctuation">,</span><span class="token operator">/</span>home<span class="token operator">/</span>jetbot<span class="token operator">/</span>kernel<span class="token operator">/</span>tags  
  
"<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>  
"           文件设置  
"<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>  
  
<span class="token string">"设置当Vim覆盖一个文件的时候保持一个备份文件，但vms除外（vms会自动备份。备份文件的名称是在原来的文件名上加上 "</span><span class="token operator">~</span>" 字符  
<span class="token keyword">if</span> <span class="token function">has</span><span class="token punctuation">(</span><span class="token string">"vms"</span><span class="token punctuation">)</span>  
  set nobackup         
<span class="token keyword">else</span>  
  set backup          
endif  
  
 
"Enter换行时总是使用与前一行的缩进等自动缩进。  
set autoindent  
"设置智能缩进  
set smartindent         
 
  
  
"编辑一个文件时，你所编辑的内容没保存的情况下，可以把现在的文件内容与编辑之前的文件内容进行对比，不同的内容将高亮显示  
<span class="token keyword">if</span> <span class="token operator">!</span><span class="token function">exists</span><span class="token punctuation">(</span><span class="token string">":DiffOrig"</span><span class="token punctuation">)</span>  
  command DiffOrig vert new <span class="token operator">|</span> set bt<span class="token operator">=</span>nofile <span class="token operator">|</span> r <span class="token operator">++</span>edit # <span class="token operator">|</span> <span class="token number">0</span>d_ <span class="token operator">|</span> diffthis  
          \ <span class="token operator">|</span> wincmd p <span class="token operator">|</span> diffthis  
endif  

</code></pre> 
<h3><a id="44__320"></a>4.4 常用命令</h3> 
<p>进入目录 enter，使用之前介绍的 /word搜索</p> 
<pre><code class="prism language-c">Ctrl <span class="token operator">+</span> <span class="token punctuation">]</span>  <span class="token comment">//调到定义处</span>
Ctrl <span class="token operator">+</span> o  <span class="token comment">//返回上一次位置</span>
          <span class="token comment">//Ctrl + i  再返回（ctrl+o 回到上一级（哪都能用） ctrl+i 再回来）</span>
g f	  <span class="token comment">//跳到光标停留的include的头文件里 </span>
d w  <span class="token comment">//删除个字符串</span>
u   <span class="token comment">//可无限撤销</span>
<span class="token operator">:</span>cs f f driver<span class="token punctuation">.</span>c   <span class="token comment">//搜索 driver.c 文件</span>
g d   <span class="token comment">//选中当前光标处的字符串</span>
      <span class="token comment">//再 n  查找下一个	</span>
ctrl <span class="token operator">+</span> shift <span class="token operator">+</span> <span class="token operator">-</span> 再按 s  <span class="token comment">//全局（整个源码里面，不是当前文件）查找光标处的字符串</span>
                  <span class="token comment">// j:下一条  k:上一条  f:下一页  b：上一页  shift+g: 到末尾</span>
<span class="token operator">:</span>cs f s attach <span class="token comment">//全局 搜索字符串 attach        </span>
Ctrl<span class="token operator">+</span>w v   <span class="token comment">//  垂直分割窗口</span>
           <span class="token comment">//  Ctrl+w w 可在窗口间切换</span>
ctrl <span class="token operator">+</span>  变大字体
<span class="token operator">:</span>e  <span class="token punctuation">.</span>    <span class="token comment">//编辑当前目录，回到目录</span>
shift<span class="token operator">+</span>g<span class="token operator">+</span>数字 <span class="token comment">// 跳到对应数字行的文件并进去</span>
<span class="token operator">:</span><span class="token number">90</span> <span class="token comment">// 在文件中直接跳到90行</span>
g<span class="token operator">+</span>d <span class="token comment">// 同时按，且选中字符串，再敲n就可以跳了（当前文件中找）</span>
v选择 用j光标往下搜
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/b27b8d5e6f2429d939253cf35f6c7057/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【Linux】MySQL数据库的使用</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/b742a2945996bfebeb494e712ef910bb/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【JVM】五种对象引用</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 追风少年的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>