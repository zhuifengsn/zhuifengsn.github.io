<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Pandas - 知识点总结（一） - 追风少年的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Pandas - 知识点总结（一）" />
<meta property="og:description" content="一、pandas的数据结构
1、 pandas处理以下三种数据结构
Series：序列，1D标记均匀数组，大小不变
均匀数组
尺寸大小不变
数据的值不可变
DataFrame：数据帧，2D标记，大小可变的表结构与潜在的异质类型的列
异构数据
大小可变
数据可变
Panel：面板，3D标记，大小可变的数组
异构数据
大小可变
数据可变
这些数据结构是建立在numpy数组之上的。
上面三种数据结构中，较高维度的数组是较低维度数组的容器
二、序列的创建
Pandas创建序列需要使用pandas.Series(data,index, dtype, copy)
data :创建Series的数据可以是各种形式的数据，包括list，tuple，dict，ndarray以及其他object等
index：索引值必须是唯一的和散列的，与数据的长度相同，默认为np.arange(n)，
dtype ：数据类型，如果没有传值，将会自动推断数据类型
copy ： 复制数据
创建一个空序列：
import pandas as pd s = pd.Series() print(s) 从list，tuple，dict，ndarray以及其他object等创建序列
import pandas as pd import numpy as np data1 = [&#39;a&#39;,&#39;b&#39;,&#39;c&#39;,&#39;d&#39;,&#39;e&#39;] data2 = (&#39;a&#39;,&#39;b&#39;,&#39;c&#39;,&#39;d&#39;,&#39;e&#39;) data3 = {&#39;a&#39;:1,&#39;b&#39;:2,&#39;c&#39;:3,&#39;d&#39;:4,&#39;e&#39;:5} data4 = np.arange(10) index = [1,2,3,4,5] s1 = pd.Series(data=data1,index=index) s2 = pd.Series(data=data2,index=index) s3 = pd." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://zhuifengsn.github.io/posts/e4d5ad05b93cfd224f2ea08df75d1910/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-07-05T17:51:56+08:00" />
<meta property="article:modified_time" content="2018-07-05T17:51:56+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="追风少年的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">追风少年的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Pandas - 知识点总结（一）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>一、pandas的数据结构</p> 
<p>1、 pandas处理以下三种数据结构</p> 
<p>Series：序列，1D标记均匀数组，大小不变</p> 
<p>       均匀数组</p> 
<p>       尺寸大小不变</p> 
<p>       数据的值不可变</p> 
<p>DataFrame：数据帧，2D标记，大小可变的表结构与潜在的异质类型的列</p> 
<p>       异构数据</p> 
<p>       大小可变</p> 
<p>       数据可变</p> 
<p>Panel：面板，3D标记，大小可变的数组</p> 
<p>       异构数据</p> 
<p>       大小可变</p> 
<p>       数据可变</p> 
<p>这些数据结构是建立在numpy数组之上的。</p> 
<p>上面三种数据结构中，较高维度的数组是较低维度数组的容器<br></p> 
<p></p> 
<p>二、序列的创建</p> 
<p>Pandas创建序列需要使用pandas.Series(data,index, dtype, copy)</p> 
<p>data :创建Series的数据可以是各种形式的数据，包括list，tuple，dict，ndarray以及其他object等</p> 
<p>index：索引值必须是唯一的和散列的，与数据的长度相同，默认为np.arange(n)，</p> 
<p>dtype ：数据类型，如果没有传值，将会自动推断数据类型</p> 
<p>copy ： 复制数据</p> 
<p>创建一个空序列：</p> 
<pre><code class="language-python">import pandas as pd
s = pd.Series()
print(s)
</code></pre> 
<p><img src="https://images2.imgbox.com/da/74/73ezhGWa_o.png" alt=""></p> 
<p>从list，tuple，dict，ndarray以及其他object等创建序列<br></p> 
<pre><code class="language-python">import pandas as pd
import numpy as np

data1 = ['a','b','c','d','e']
data2 = ('a','b','c','d','e')
data3 = {'a':1,'b':2,'c':3,'d':4,'e':5}
data4 = np.arange(10)
index = [1,2,3,4,5]
s1 = pd.Series(data=data1,index=index)
s2 = pd.Series(data=data2,index=index)
s3 = pd.Series(data=data3)
s4 = pd.Series(data=data4)
print('create for list', s1)
print('create for tuple', s2)
print('create for dict', s3)
print('create for ndarray', s4)
print('create for list', s1[1])
print('create for tuple', s2[1])
print('create for dict', s3['a'])
print('create for ndarray', s4[1])
</code></pre> 
<p><img src="https://images2.imgbox.com/0b/6d/A0r1lBjn_o.png" alt=""></p> 
<p><img src="https://images2.imgbox.com/47/f8/VeJZ9M6H_o.png" alt=""><br></p> 
<p>字典可以作为输入传递，如果没有指定索引，则按排序顺序取得字典键以构造索引。如果传递了索引，索引与标签对应的数据中的值将会被拉出。<br></p> 
<pre><code class="language-python">import pandas as pd
import numpy as np

data1 = {'a':1,'b':2,'c':3,'d':4,'e':5}
s = pd.Series(data1,index=['c','d','f','a'])
print(s)
</code></pre> 
<p><img src="https://images2.imgbox.com/ff/60/jWEVRp3I_o.png" alt=""></p> 
<p>从一个标量中创建一个序列<br></p> 
<pre><code class="language-python">import pandas as pd
import numpy as np

s = pd.Series(5,index=['c','d','f','a'])
print(s)
</code></pre> 
<p><img src="https://images2.imgbox.com/ef/2b/LV4dSSVT_o.png" alt=""></p> 
<p></p> 
<p>从序列中索引数据，有以下几种方式：</p> 
<p>1、 基于切片的方式：包括list，基于冒号的正序和逆序</p> 
<p>2、 基于index的方式</p> 
<p>基于get的方式（与index的区别，使用index方式时，若基于索引的数据不存在，则会报错，但get方式，若基于索引的数据不存在，会返回none）</p> 
<pre><code class="language-python">import pandas as pd
import numpy as np

s = pd.Series([1,2,3,4],index=['c','d','f','a'])
print(s[:2])
print(s[-3:])
print(s['a'])
print('get',s.get('a'))
</code></pre> 
<p><img src="https://images2.imgbox.com/30/30/NAlCXLHJ_o.png" alt=""></p> 
<p></p> 
<p>三、DataFrame创建</p> 
<p>DataFrame的特点：</p> 
<p>与列表类似，可以标记轴（行和列名）</p> 
<p>大小可变</p> 
<p>可以对行和列进行算数运算</p> 
<p>每一列可以是不同的数据类型</p> 
<p> </p> 
<p>创建DataFrame可以用pandas.DataFrame(data,index, columns, dtype, copy)，</p> 
<p>data ：各种形式的数据，包括ndarray，series，map，list，dict，constant或者DataFrame</p> 
<p>index：行标签，与Series一样，没有传值的话，默认为np.arange(n)</p> 
<p>columns:列标签，与Series一样，没有传值的话，默认为np.arange(n)</p> 
<p>dtype：每一列的数据类型（只对列有效）</p> 
<p>copy：默认为False，用此命令用于复制数据</p> 
<p>创建一个空的DataFrame</p> 
<pre><code class="language-python">import pandas as pd
import numpy as np

s = pd.DataFrame()
print(s)
</code></pre> 
<p><img src="https://images2.imgbox.com/58/43/wG44zcBw_o.png" alt=""></p> 
<p>创建单列的DataFrame<br></p> 
<pre><code class="language-python">import pandas as pd
import numpy as np
data = [1,2,3,4,5]
s = pd.DataFrame(data)
print(s)
</code></pre> 
<p><img src="https://images2.imgbox.com/30/68/A59lqd2M_o.png" alt=""></p> 
<p></p> 
<p>创建指定列名的DataFrame</p> 
<pre><code class="language-python">import pandas as pd
import numpy as np
data = [['a',1],['b',2],['c',3],['d',4],['e',5]]
s = pd.DataFrame(data,columns=['name','num'])
print(s)
</code></pre> 
<p><img src="https://images2.imgbox.com/9e/d0/QgdbfqBu_o.png" alt=""></p> 
<p></p> 
<p>从字典中创建DataFrame</p> 
<pre><code class="language-python">import pandas as pd
import numpy as np
data = {'A':['a',1],'B':['b',2],'C':['c',3],'D':['d',4],'E':['e',5]}
s = pd.DataFrame(data)
print(s)
</code></pre> 
<p><img src="https://images2.imgbox.com/57/12/jso3dSdt_o.png" alt=""></p> 
<p>使用字典来创建DataFrame，是一个很强大的功能，由于字典的特性，字典的每一项的key，在创建成DataFrame时，都会作为DataFrame的列索引，若使用两个不同的dict创建，缺失的值的部分会使用Nan填充；<br></p> 
<pre><code class="language-python">import pandas as pd
import numpy as np
data = [{'A':['a',1],'B':['b',2],'C':['c',3],'D':['d',4]},{'A':['a',1],'E':['e']}]
s = pd.DataFrame(data)
print(s)
</code></pre> 
<p><img src="https://images2.imgbox.com/72/00/3aXChz2a_o.png" alt=""></p> 
<p></p> 
<p>从series中创建DataFrame</p> 
<pre><code class="language-python">import pandas as pd
import numpy as np
s = pd.Series(['a','b','c','d'])
df = pd.DataFrame(s)
print(df)
</code></pre> 
<p><img src="https://images2.imgbox.com/71/91/jZK9UFjF_o.png" alt=""></p> 
<p>从字典，序列中创建<br></p> 
<pre><code class="language-python">import pandas as pd
import numpy as np
s1 = pd.Series(['a','b','c','d'])
s2 = pd.Series(['a','b','c','d'])
d = {'A':s1,'B':s2}
df = pd.DataFrame(d)
print(df)
</code></pre> 
<p><img src="https://images2.imgbox.com/df/87/6RUtELBB_o.png" alt=""></p> 
<p></p> 
<p>若需要往DataFrame中添加一列数据，可直接对新的一列赋值的方式增加新一列，但新增加的列的长度，不会因为赋值的列的长度变化而变化</p> 
<pre><code class="language-python">import pandas as pd
import numpy as np
s1 = pd.Series(['a','b','c','d'])
df = pd.DataFrame(s1,columns=['A'])
df['B'] = [1,2,3,4]
print(df)
df['C'] = pd.Series(['a','b','c','d','e'],index=[0,1,2,3,4])
print(df)
</code></pre> 
<p><img src="https://images2.imgbox.com/7b/6e/43SHdzFF_o.png" alt=""></p> 
<p></p> 
<p>列删除</p> 
<p>要删除某一列，有两种方式：</p> 
<p>1、 直接del</p> 
<p>2、Pop删除</p> 
<pre><code class="language-python">import pandas as pd
import numpy as np
s1 = pd.Series(['a','b','c','d'])
df = pd.DataFrame(s1,columns=['A'])
df['B'] = [1,2,3,4]
print(df)
df['C'] = pd.Series(['a','b','c','d','e'],index=[0,1,2,3,4])
print(df)
del df['B']
print(df)
a = df.pop('C')
print(a)
print(df)
</code></pre> 
<p><img src="https://images2.imgbox.com/cc/c2/TVWRue5b_o.png" alt=""></p> 
<p></p> 
<p>上面说的都是列操作，下面说一下行操作</p> 
<p>行选择、添加和删除</p> 
<p>行选择：</p> 
<p>1、 通过行标签索引，需要使用loc</p> 
<p>2、 使用行标签的整数行索引，需要使用iloc</p> 
<p>3、使用数字切片进行索引</p> 
<pre><code class="language-python">import pandas as pd
import numpy as np
df = pd.DataFrame([['a','b','c','d'],['f','g','h','i'],['a','b','c','d'],['f','g','h','i']],index=['A','B','C','D'],columns=['A','B','C','D'])
print(df)
print(df.loc['A'])
print(df.iloc[0])
print(df[0:2])
</code></pre> 
<img src="https://images2.imgbox.com/db/3d/mYg4iZQ0_o.png" alt=""> 
<br> 
<p><br></p> 
<p></p> 
<p>附加行</p> 
<p>使用append()函数进行添加，返回添加行后的DataFrame</p> 
<pre><code class="language-python">import pandas as pd
import numpy as np
df = pd.DataFrame([['a','b','c','d'],['f','g','h','i'],['a','b','c','d'],['f','g','h','i']],index=['A','B','C','D'],columns=['A','B','C','D'])
print(df)
print('-'*50)
df = df.append(df)
print(df)
</code></pre> 
<p><img src="https://images2.imgbox.com/09/bf/3d6saqCq_o.png" alt=""></p> 
<p>删除行<br></p> 
<pre><code class="language-python">import pandas as pd
import numpy as np
df = pd.DataFrame([['a','b','c','d'],['f','g','h','i'],['a','b','c','d'],['f','g','h','i']],index=['A','B','C','D'],columns=['A','B','C','D'])
print(df)
print('-'*50)
df = df.append(df)
print(df)
print('-'*50)
df = df.drop('A')
print(df)
</code></pre> 
<img src="https://images2.imgbox.com/59/a9/H10KqqS4_o.png" alt=""> 
<br> 
<p></p> 
<p>四、Panel面板</p> 
<p>面板是3D容器的数据，面板有3个轴，这3个轴的分别为：</p> 
<p>items ：axis 0，每个项目对应与内部包含的DataFrame</p> 
<p>major_axis：axis 1 ，为每个DataFrame的行索引</p> 
<p>minor_axis：axis 2，没每个DataFrame的列索引</p> 
<p>创建panel，可使用pandas.Panel(data,items, major_axis, minor_axis, dtype, copy)</p>创建一个Panel 
<br> 
<pre><code class="language-python">import pandas as pd
import numpy as np
pl = pd.Panel([[['a','b','c','d'],['f','g','h','i']],[['a','b','c','d'],['f','g','h','i']]],items=['item1','item2'])
print(pl)
print(pl['item1'])
</code></pre> 
<p><img src="https://images2.imgbox.com/c8/d3/SXXZAJeM_o.png" alt=""></p> 
<p><br></p> 
<p><br></p> 
<p><br></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/801ccae35a0879b5239d1180be34804b/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">mqtt安装编译</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/59ae2ca6f92940a2c857cd217dc7c283/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">u-boot使用bootargs给内核传参数</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 追风少年的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>