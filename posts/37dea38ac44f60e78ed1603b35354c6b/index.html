<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>线性表之顺序表（C语言版） - 追风少年的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="线性表之顺序表（C语言版）" />
<meta property="og:description" content="线性表之顺序表（C&#43;&#43;版）http://t.csdn.cn/pEmnl
seqlist.h文件包含结构体的定义，函数的声明
#pragma once #include&lt;stdio.h&gt; #include&lt;malloc.h&gt; #include&lt;assert.h&gt; #define Initsel 8 #define INC_SIZE 8 typedef int ElemType;//代表当前元素的类型，方便修改 typedef struct SeqList { ElemType* base;//指向一个表,内容 int capacity;//容量 int size;//大小 }SeqList; void InitSeqList(SeqList* list);//初始化 void push_back(SeqList *list,ElemType val);//尾插 void Show(SeqList* list);//显示 void push_front(SeqList* list, ElemType val);//头插 void pop_back(SeqList *list);//尾删 void pop_front(SeqList* list);//头删 void inser_pos(SeqList* list, int val,int pos);//按位置插入 int find(SeqList* list, int val);//按值查找 int length(SeqList* list);//长度 void delete_pos(SeqList* list, int pos);//按位置删除 int delete_val(SeqList* list, int val);//按值删除 void sort(SeqList* list);//排序 void reverse(SeqList* list);//逆序 void swap(int&amp; a, int&amp; b);//交换函数 void clear(SeqList* list);//清空 void destroy(SeqList* list);//销毁 bool Inc(SeqList* list);//增加空间 list." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://zhuifengsn.github.io/posts/37dea38ac44f60e78ed1603b35354c6b/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-11-26T20:17:44+08:00" />
<meta property="article:modified_time" content="2022-11-26T20:17:44+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="追风少年的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">追风少年的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">线性表之顺序表（C语言版）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>线性表之顺序表（C++版）<a href="http://t.csdn.cn/pEmnl" rel="nofollow" title="http://t.csdn.cn/pEmnl">http://t.csdn.cn/pEmnl</a></p> 
<p>seqlist.h文件包含结构体的定义，函数的声明</p> 
<pre><code class="language-cpp">#pragma once
#include&lt;stdio.h&gt;
#include&lt;malloc.h&gt;
#include&lt;assert.h&gt;
#define Initsel 8
#define INC_SIZE 8
typedef int ElemType;//代表当前元素的类型，方便修改
typedef struct SeqList
{
	ElemType* base;//指向一个表,内容
	int capacity;//容量
	int size;//大小
}SeqList;
void InitSeqList(SeqList* list);//初始化
void push_back(SeqList *list,ElemType val);//尾插
void Show(SeqList* list);//显示
void push_front(SeqList* list, ElemType val);//头插
void pop_back(SeqList *list);//尾删
void pop_front(SeqList* list);//头删
void inser_pos(SeqList* list, int val,int pos);//按位置插入
int find(SeqList* list, int val);//按值查找
int length(SeqList* list);//长度
void delete_pos(SeqList* list, int pos);//按位置删除
int delete_val(SeqList* list, int val);//按值删除
void sort(SeqList* list);//排序
void reverse(SeqList* list);//逆序
void swap(int&amp; a, int&amp; b);//交换函数
void clear(SeqList* list);//清空
void destroy(SeqList* list);//销毁
bool Inc(SeqList* list);//增加空间
</code></pre> 
<p>list.cpp文件，顺序表的初始化以及函数实现</p> 
<pre><code class="language-cpp">#include"seqlist.h"

//初始化
void InitSeqList(SeqList* list)
{
	list-&gt;base = (ElemType*)malloc(sizeof(ElemType) * Initsel);
	assert(list-&gt;base != NULL);
	list-&gt;capacity = Initsel;
	list-&gt;size = 0;
}

//增加空间
bool Inc(SeqList* list)
{
	ElemType *newbase  = (ElemType*)realloc(list-&gt;base, sizeof(ElemType) * list-&gt;capacity+INC_SIZE);
	if (newbase == NULL)
	{
		printf("增容失败\n");
		return false;
	}
	list-&gt;base = newbase;
	list-&gt;capacity += INC_SIZE;
	return true;
}

//尾插
void push_back(SeqList* list, ElemType val)
{
	if (list-&gt;size &gt;= list-&gt;capacity&amp;&amp; !Inc(list))
	{
		printf("顺序表满了，不能尾插\n");
		return;
	}
	list-&gt;base[list-&gt;size] = val;
	list-&gt;size++;

}

//头插
void push_front(SeqList* list, ElemType val)
{
	if (list-&gt;size &gt;= list-&gt;capacity &amp;&amp; !Inc(list))
	{
		printf("顺序表满了，不能头插\n");
		return;
	}
	for (int i = list-&gt;size; i &gt; 0; --i)
	{
		list-&gt;base[i] = list-&gt;base[i - 1];
	}
	list-&gt;base[0] = val;
	list-&gt;size++;
}

//显示
void Show(SeqList* list)
{
	assert(list != NULL);
	for (int i = 0; i &lt; list-&gt;size; i++)
	{
		printf("%d ", list-&gt;base[i]);
	}
	printf("\n");
}

//尾删
void pop_back(SeqList* list)
{
	assert(list != NULL);
	list-&gt;size--;
}

//头删
void pop_front(SeqList* list)
{
	//把后面的数据移到前面
	for (int i = 1; i &lt; list-&gt;size; ++i)
	{
		list-&gt;base[i - 1] = list-&gt;base[i];
	}
	list-&gt;size--;
}

//随机插入一个数
void inser_pos(SeqList* list, int val, int pos)
{
	//判断位置是否合法
	if (pos&lt;0 || pos&gt;list-&gt;size)return;
	if (list-&gt;size == list-&gt;capacity &amp;&amp; !Inc(list))
	{
		return;
	}
	for (int i = list-&gt;size; i &gt; pos; --i)
	{
		list-&gt;base[i] = list-&gt;base[i - 1];
	}
	list-&gt;base[pos] = val;
	list-&gt;size++;
}

//按值查找
int find(SeqList* list, int val)
{
	if (list-&gt;size == 0)return -1;
	for (int i = 0; i &lt; list-&gt;size; ++i)
	{
		if (list-&gt;base[i] == val) return i;
	}
	return -1;
}

//长度
int length(SeqList* list)
{
	return list-&gt;size;
}

//按位置删除
void delete_pos(SeqList* list, int pos)
{
	if (pos&lt;0||pos &gt;= list-&gt;size)return ;
	for (int i = pos; i &lt; list-&gt;size-1; i++)
	{
		list-&gt;base[i] = list-&gt;base[i + 1];
	}
	list-&gt;size--;
}

//按值删除
int delete_val(SeqList* list, int val)
{
	int pos = find(list, val);
	if (pos == -1)
		return -1;
	delete_pos(list, pos);
}

//排序
void sort(SeqList* list)//从小到大
{
	for (int i =0; i &lt;list-&gt;size-1; ++i)
	{
		for (int j = 0; j &lt; list-&gt;size-i-1; j++)
		{
			if (list-&gt;base[j] &gt; list-&gt;base[j + 1])
			{
				swap(list-&gt;base[j], list-&gt;base[j + 1]);
			}
		}
	}
}

//逆序
void reverse(SeqList* list)
{
	int tmp = 0;
	int left = 0; int right = list-&gt;size - 1;
	while (left &lt; right)
	{
		swap(list-&gt;base[left], list-&gt;base[right]);
		left++;
		right--;
	}
}

//交换函数
void swap(int &amp;a, int &amp;b)
{
	int tmp = 0;
	tmp = a;
	a = b;
	b = tmp;
}

//清空
void clear(SeqList* list)
{
	list-&gt;size = 0;
}

//销毁（与清空区别在于销毁要释放空间
void destroy(SeqList* list)
{
	free(list-&gt;base);
	list-&gt;base = NULL;
	list-&gt;capacity = 0;
	list-&gt;size = 0;
}</code></pre> 
<p>test.cpp测试代码</p> 
<pre><code class="language-cpp">#include"seqlist.h"

int main()
{
	SeqList list;
	int select = 1;
	InitSeqList(&amp;list);
	while (1)
	{
		printf("**********************************\n");
		printf("*[1] init         [2]push_back   *\n");
		printf("*[3] show         [4]push_front  *\n");
		printf("*[5] pop_back     [6]inser_pos   *\n");
		printf("*[7] find         [8]length      *\n");
		printf("*[9] delete_pos   [10]delete_val *\n");
		printf("*[11] sort        [12]reverse    *\n");
		printf("*[13]pop_front    [14]clear      *\n");
		printf("*[0] quit_system  [15]destroy    *\n");
		printf("**********************************\n");
		printf("请输入选项:");
		scanf_s("%d",&amp;select);
		int val = 0;//值
		int pos = 0;//位置 
		if (select == 0)
			break;
		switch (select)
		{
		case 1:
			InitSeqList(&amp;list);
			break;
		case 2:
			printf("请输入要插入的数，以-1结束:\n");
			while (scanf_s("%d", &amp;val),val != -1)
			{
				push_back(&amp;list, val);//尾插
			}
			break;
		case 3:
			Show(&amp;list);
			break;
		case 4:
			printf("请输入要插入的数，以-1结束:\n");
			while (scanf_s("%d", &amp;val), val != -1)
			{
				push_front(&amp;list, val);//头插
			}
			break;
		case 5:
			pop_back(&amp;list);//尾删
			break;
		case 6:
			printf("请输入插入的数据及位置：");
			scanf_s("%d %d", &amp;val, &amp;pos);
			inser_pos(&amp;list,val,pos);
			break;
		case 7:
			printf("请输入查找的数据：");
			scanf_s("%d", &amp;val);
			pos = find(&amp;list, val);
			if (pos== -1)//按值查找
			{
				printf("%d没有找到\n",val);
			}
			else
			{
				printf("%d找到了，下标为%d\n",val,pos);
			}
			break;
		case 8:
			pos= length(&amp;list);//长度
			printf("顺序表的长度为%d\n", list.size);
			break;
		case 9:
			printf("请输入删除的位置：");
			scanf_s("%d", &amp;pos);
			delete_pos(&amp;list,pos);//按位置删除
			break;
		case 10:
			printf("请输入要删的值:");
			scanf_s("%d", &amp;val);
			delete_val(&amp;list,val);//按值删除
			break;
		case 11:
			sort(&amp;list);//排序
			break;
		case 12:
			reverse(&amp;list);//逆序
			break;
		case 13:
			pop_front(&amp;list);//头删
			break;
		case 14:
			clear(&amp;list);//清空
			break;
		case 15:
			destroy(&amp;list);//销毁
			break;
		default:
			printf("输入错误，请重新输入:\n");
			break;
		}
	}
	destroy(&amp;list);//销毁
	return 0;
}
</code></pre> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/eaf2aa753a6c4a436386d4b60d7234a0/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Linux进程总结详解（上——初识）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/0fa9fb5bb288c9f981338da5220e740d/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">c语言入门(十三)--c&#43;&#43;引用</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 追风少年的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>