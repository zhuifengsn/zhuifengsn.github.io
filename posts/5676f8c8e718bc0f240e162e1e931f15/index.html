<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>时间序列数据的白噪声检验 - 追风少年的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="时间序列数据的白噪声检验" />
<meta property="og:description" content="问题起源 只有数据平稳，才可以借数据。
只有借数据，才可以做分析。
什么是白噪声序列 白噪声序列也称为纯随机序列，它满足两个性质
1）数据是平稳的
2）t≠s的时候，方差为0，说明t和s没有线性的关系
白噪声的性质 在白噪声的图上，我们无法抓到规律，因此，我们把握以下性质：
1）纯随机性
各序列值之间没有任何的相关关系，即为“没有记忆”的白噪声序列
2）方差齐性
方差等于一个常数。
根据Markov定理，只有方差齐性假设成立时，用最小二乘法得到的未知参数估计值才是最准确有效的。
（数据平稳一定同方差）
跨越1步，2步，3步…是不是相关系数为0呢？
如果一个序列是纯随机的，得到一个观察期数为n的观察序列，那么该序列的延迟非零期的样本自相关系数将近似服从均值为0，方差序列观察期数倒数的正态分布。
原假设：延迟期数小于或等于m期的序列值之间相互独立
备择假设：延迟期数小于或等于k期的序列值之间有相关性
平稳数据一般有短期相关性，延迟系数较大的一定为0，一般跨越6步、12步、18步。这三个都为0的话，别的就不需要检验了。
检验原假设的时候，有两个检验，用得最多的是LB检验。
如果有相关性，则可以建立一定的函数关系进行预测。
x=[97 130 156.5 135.2 137.7 180.5 205.2 190 188.6 196.7 180.3 210.8 196 223 238.2 263.5 292.6 317 335.4 327 321.9 353.5 397.8 436.8 465.7 476.7 462.6 460.8 501.8 501.5 489.5 542.3 512.2 559.8 542 567]; figure; subplot(1,2,1);%画一行两列第一个图 plot(x) title(&#39;原始数据时序图&#39;); subplot(1,2,2);%画一行两列第二个图 autocorr(x); title(&#39;自相关函数图像&#39;); 显然，这不是无关的，表现一阶差分之后的数据平稳性。
非平稳的转化为平稳的，向下向上趋势，差分一次。周期性则多少步的差分。
x=[97 130 156." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://zhuifengsn.github.io/posts/5676f8c8e718bc0f240e162e1e931f15/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-10-11T19:01:16+08:00" />
<meta property="article:modified_time" content="2021-10-11T19:01:16+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="追风少年的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">追风少年的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">时间序列数据的白噪声检验</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-dracula">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="_0"></a>问题起源</h2> 
<p>只有数据平稳，才可以借数据。<br> 只有借数据，才可以做分析。</p> 
<h2><a id="_3"></a>什么是白噪声序列</h2> 
<p>白噪声序列也称为纯随机序列，它满足两个性质<br> <img src="https://images2.imgbox.com/55/61/Jd3dGQgy_o.png" alt="请添加图片描述"><br> 1）数据是平稳的<br> 2）t≠s的时候，方差为0，说明t和s没有线性的关系</p> 
<h2><a id="_8"></a>白噪声的性质</h2> 
<p>在白噪声的图上，我们无法抓到规律，因此，我们把握以下性质：</p> 
<p>1）纯随机性<br> <img src="https://images2.imgbox.com/d0/46/L3yVnOJW_o.png" alt="请添加图片描述"></p> 
<p>各序列值之间没有任何的相关关系，即为“没有记忆”的白噪声序列<br> 2）方差齐性</p> 
<p>方差等于一个常数。<br> <img src="https://images2.imgbox.com/87/9e/YxsTXF46_o.png" alt="请添加图片描述"><br> 根据<strong>Markov定理</strong>，只有<strong>方差齐性</strong>假设成立时，用最小二乘法得到的未知参数估计值才是最准确有效的。<br> （数据平稳一定同方差）</p> 
<p><strong>跨越1步，2步，3步…是不是相关系数为0呢？</strong></p> 
<p>如果一个序列是<strong>纯随机</strong>的，得到一个<strong>观察期数为n</strong>的观察序列，那么该序列的延迟非零期的样本<strong>自相关系数</strong>将近似服从<strong>均值为0</strong>，方差序列<strong>观察期数倒数</strong>的正态分布。<br> <img src="https://images2.imgbox.com/5e/8f/guzPCoew_o.png" alt="请添加图片描述"><br> 原假设：延迟期数小于或等于m期的序列值之间相互独立<br> <img src="https://images2.imgbox.com/c6/03/tY6xi3jp_o.png" alt="请添加图片描述"><br> 备择假设：延迟期数小于或等于k期的序列值之间有相关性</p> 
<p><img src="https://images2.imgbox.com/61/e8/wJnL2pMA_o.png" alt="请添加图片描述"><br> 平稳数据一般有短期相关性，延迟系数较大的一定为0，一般跨越6步、12步、18步。这三个都为0的话，别的就不需要检验了。</p> 
<p>检验原假设的时候，有两个检验，用得最多的是LB检验。<br> <img src="https://images2.imgbox.com/27/0b/736MAs82_o.png" alt="请添加图片描述"><br> <img src="https://images2.imgbox.com/31/5a/0hiIN2cx_o.png" alt="请添加图片描述"><br> 如果有相关性，则可以建立一定的函数关系进行预测。<img src="https://images2.imgbox.com/39/33/lGNXCdcJ_o.png" alt="请添加图片描述"></p> 
<pre><code class="prism language-bash"><span class="token assign-left variable">x</span><span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">97</span> <span class="token number">130</span> <span class="token number">156.5</span> <span class="token number">135.2</span> <span class="token number">137.7</span> <span class="token number">180.5</span> <span class="token number">205.2</span> <span class="token number">190</span> <span class="token number">188.6</span> <span class="token number">196.7</span> <span class="token number">180.3</span> <span class="token number">210.8</span> <span class="token number">196</span> <span class="token number">223</span> <span class="token number">238.2</span> <span class="token number">263.5</span> <span class="token number">292.6</span> <span class="token number">317</span> <span class="token number">335.4</span> <span class="token number">327</span> <span class="token number">321.9</span> <span class="token number">353.5</span> <span class="token number">397.8</span> <span class="token number">436.8</span> <span class="token number">465.7</span> <span class="token number">476.7</span> <span class="token number">462.6</span> <span class="token number">460.8</span> <span class="token number">501.8</span> <span class="token number">501.5</span> <span class="token number">489.5</span> <span class="token number">542.3</span> <span class="token number">512.2</span> <span class="token number">559.8</span> <span class="token number">542</span> <span class="token number">567</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
figure<span class="token punctuation">;</span>
subplot<span class="token punctuation">(</span><span class="token number">1,2</span>,1<span class="token punctuation">)</span><span class="token punctuation">;</span>%画一行两列第一个图
plot<span class="token punctuation">(</span>x<span class="token punctuation">)</span>
title<span class="token punctuation">(</span><span class="token string">'原始数据时序图'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
subplot<span class="token punctuation">(</span><span class="token number">1,2</span>,2<span class="token punctuation">)</span><span class="token punctuation">;</span>%画一行两列第二个图
autocorr<span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
title<span class="token punctuation">(</span><span class="token string">'自相关函数图像'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/06/38/aSsWVjGR_o.png" alt="请添加图片描述"><br> 显然，这不是无关的，表现一阶差分之后的数据平稳性。<br> 非平稳的转化为平稳的，向下向上趋势，差分一次。周期性则多少步的差分。</p> 
<pre><code class="prism language-bash"><span class="token assign-left variable">x</span><span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">97</span> <span class="token number">130</span> <span class="token number">156.5</span> <span class="token number">135.2</span> <span class="token number">137.7</span> <span class="token number">180.5</span> <span class="token number">205.2</span> <span class="token number">190</span> <span class="token number">188.6</span> <span class="token number">196.7</span> <span class="token number">180.3</span> <span class="token number">210.8</span> <span class="token number">196</span> <span class="token number">223</span> <span class="token number">238.2</span> <span class="token number">263.5</span> <span class="token number">292.6</span> <span class="token number">317</span> <span class="token number">335.4</span> <span class="token number">327</span> <span class="token number">321.9</span> <span class="token number">353.5</span> <span class="token number">397.8</span> <span class="token number">436.8</span> <span class="token number">465.7</span> <span class="token number">476.7</span> <span class="token number">462.6</span> <span class="token number">460.8</span> <span class="token number">501.8</span> <span class="token number">501.5</span> <span class="token number">489.5</span> <span class="token number">542.3</span> <span class="token number">512.2</span> <span class="token number">559.8</span> <span class="token number">542</span> <span class="token number">567</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
figure<span class="token punctuation">;</span>
subplot<span class="token punctuation">(</span><span class="token number">1,2</span>,1<span class="token punctuation">)</span><span class="token punctuation">;</span>%画一行两列第一个图
plot<span class="token punctuation">(</span>x<span class="token punctuation">)</span>
title<span class="token punctuation">(</span><span class="token string">'原始数据时序图'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
subplot<span class="token punctuation">(</span><span class="token number">1,2</span>,2<span class="token punctuation">)</span><span class="token punctuation">;</span>%画一行两列第二个图
autocorr<span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
title<span class="token punctuation">(</span><span class="token string">'自相关函数图像'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token assign-left variable">x</span><span class="token operator">=</span>x'<span class="token punctuation">;</span>
<span class="token assign-left variable">x1</span><span class="token operator">=</span>diff<span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>%求差分，把不是平稳的数据变成平稳的
<span class="token punctuation">[</span>h1,p1,adf,ljz<span class="token punctuation">]</span><span class="token operator">=</span>adftest<span class="token punctuation">(</span>x1<span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/ab/1e/NT2CKAsI_o.png" alt="请添加图片描述"><br> 不平稳数据，差分后可以看出是平稳的。自相关图出现了短期相关性。</p> 
<p><strong>不平稳数据变成平稳的，就可以做了。</strong></p> 
<p>N阶差分：消除向上向下趋势的<br> N步差分：消除周期性的</p> 
<pre><code class="prism language-bash"><span class="token assign-left variable">x</span><span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">97</span> <span class="token number">130</span> <span class="token number">156.5</span> <span class="token number">135.2</span> <span class="token number">137.7</span> <span class="token number">180.5</span> <span class="token number">205.2</span> <span class="token number">190</span> <span class="token number">188.6</span> <span class="token number">196.7</span> <span class="token number">180.3</span> <span class="token number">210.8</span> <span class="token number">196</span> <span class="token number">223</span> <span class="token number">238.2</span> <span class="token number">263.5</span> <span class="token number">292.6</span> <span class="token number">317</span> <span class="token number">335.4</span> <span class="token number">327</span> <span class="token number">321.9</span> <span class="token number">353.5</span> <span class="token number">397.8</span> <span class="token number">436.8</span> <span class="token number">465.7</span> <span class="token number">476.7</span> <span class="token number">462.6</span> <span class="token number">460.8</span> <span class="token number">501.8</span> <span class="token number">501.5</span> <span class="token number">489.5</span> <span class="token number">542.3</span> <span class="token number">512.2</span> <span class="token number">559.8</span> <span class="token number">542</span> <span class="token number">567</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
figure<span class="token punctuation">;</span>
subplot<span class="token punctuation">(</span><span class="token number">1,2</span>,1<span class="token punctuation">)</span><span class="token punctuation">;</span>%画一行两列第一个图
plot<span class="token punctuation">(</span>x<span class="token punctuation">)</span>
title<span class="token punctuation">(</span><span class="token string">'原始数据时序图'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
subplot<span class="token punctuation">(</span><span class="token number">1,2</span>,2<span class="token punctuation">)</span><span class="token punctuation">;</span>%画一行两列第二个图
autocorr<span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
title<span class="token punctuation">(</span><span class="token string">'自相关函数图像'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token assign-left variable">x</span><span class="token operator">=</span>x<span class="token string">';
x1=diff(x);
[h1,p1,adf,ljz]=adftest(x1)
%白噪声检验，继续用前面的一阶差分之后的数据x1
yanchi=[6,12,18];
[H,pValue,Qstat,CriticalValue]=lbqtest(x1,'</span>lags<span class="token string">',yanchi);
%按照统计表格形式，打印相应的统计量
fprintf('</span>%15s%15s%15s<span class="token string">','</span>延迟阶数<span class="token string">','</span>卡方统计量<span class="token string">','</span>p值<span class="token string">');
fprintf('</span><span class="token punctuation">\</span>n<span class="token string">');
for i=1:length(yanchi)
    fprintf('</span>%18f%19f%19f<span class="token string">',yanchi(i),Qstat(i),pValue(i));
    fprintf('</span><span class="token punctuation">\</span>n'<span class="token punctuation">)</span><span class="token punctuation">;</span>
end
</code></pre> 
<p><img src="https://images2.imgbox.com/c8/94/pG9PoiUX_o.png" alt="请添加图片描述"><br> <img src="https://images2.imgbox.com/68/a2/zdLLyULs_o.png" alt="请添加图片描述"><br> H-判断的结果<br> pValue-概率<br> Qstat-统计量<br> CriticalValue-临界值<br> x1-数据<br> ‘lags’-按照步长<br> yanchi-延迟<br> %15s-后面的几个字在界面哪一个位置，空出几个位置<br> length–提取长度</p> 
<p><img src="https://images2.imgbox.com/c9/2c/8W6kM7cX_o.png" alt="请添加图片描述"><br> p值都比0.05大，所以接受原假设，是一个白噪声序列</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/2ee9749710c05c472d96b2a01a8b09d3/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">SpringCloud学习 Ribbon实现自定义负载均衡</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/ad10fd0bb838abbee27b84f75f7b4e46/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">IDEA MyBatis Plugins自动生成实体类和mapper.xml</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 追风少年的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>