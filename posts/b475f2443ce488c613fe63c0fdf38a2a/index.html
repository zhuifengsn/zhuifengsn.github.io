<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>SPSS教程：手把手教你设置哑变量以及解读结果 - 追风少年的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="SPSS教程：手把手教你设置哑变量以及解读结果" />
<meta property="og:description" content="今天我们将结合SPSS软件，向大家介绍在回归模型中何如实现哑变量的设置，并对引入哑变量后的模型结果进行解读。
Logistic /Cox回归
在SPSS中，Logistic回归和Cox回归设置哑变量的方式是一致的，因此本文以Logistic回归为例进行说明。
一、研究实例
某研究人员拟探讨不同种族人群中某疾病发病风险有无差异，收集了4种不同种族人群的相关数据资料（1=Black美国黑人，2=White美国白人，3=Indian美国印第安人，4=Asian亚裔美国人）。
根据数据类型判断，种族为无序多分类资料，需要将种族转化为哑变量后，进行Logistic回归。
二、SPSS操作
1. Analyze → Regression → Binary Logistic，进入到Logistic回归模块
2. 将Event选入Dependent框中，将Gender、Age、Race选入Covariates框中
3. 点击Categorical进入定义分类变量的对话框，将需要转化的变量Race选入Categorical Covariates框中，点击Contrast旁的下拉框选择Indicator，Reference Category设置为First，即设定第一个分类为参照。
在本次研究中，Race=1为黑人，即我们选择黑人作为参照。最后再点击Change确认更改为Race（Indicator（first））。
在选择哑变量编码方式时，Contrast下拉选项一共提供了7种编码方式：
(1) Indicator（指示对比）：用于指定某一分类为参照，指定的参照取决于Reference Category中选择Last还是First，即只能以该变量的第一类或者最后一类作为参照。Indicator为默认方法，也是我们最常用的设置参照类的方法。
(2) Simple（简单对比）： Simple和Indicator两个方法虽然参数编码不同，但其实质是一样的，均为各分类分别与参照进行相比。
(3) Difference（差异对比）：即该分类变量的某个分类，与前面所有分类的平均值进行比较，此法与Helmert法相反，因此也叫做反Helmert法。此选项常用于有序分类变量。
(4) Helmert（赫尔默特对比）：即该分类变量的某个分类，与其后面所有分类的平均值进行比较，同样也适用于有序分类变量。
(5) Repeated（重复对比）：即该分类变量的各个分类，均与前面相邻的一个分类进行比较，此时前一分类为参照。
(6) Polynomial（多项式对比）：它假设各个分类间隔是等距的，只能用于数值型的变量。（注意：如果此时原始变量为字符型，例如A、B、C、D，在SPSS中使用该方法时它会提示Polynomial contrasts may not be specified for string variables。而对于其他6种方法是允许原始变量是字符型，SPSS可以将其自动转化为0或1形式的哑变量。）
(7) Deviation（偏差对比）：即除参照外，其余每一个分类都与总体水平相比，此时每个分类的回归系数都是相对于总体水平而言的改变量。
4. 点击Continue回到主对话框，再点击OK完成操作。
三、结果解读
1. 结果显示， SPSS将 Race自动转化为3个哑变量，分别为Race(1) (2) (3)，代表白人、印第安人和亚裔人，参照为黑人。在α=0.05的检验水准下，Race(1) (2) (3) 回归系数检验P值均&lt;0.05，提示白人、印第安人和亚裔种族某疾病的发生风险均与黑人种族之间存在统计学差异。
2. 白人、印第安人和亚裔相对于黑人种族，其OR值和95% CI分别为0.247(0.102, 0.598)、0.181(0.070, 0.466)、0.132(0.049, 0.357)，提示白人、印第安人和亚裔人中该疾病的发生风险均显著低于黑人种族。
多重线性回归
针对多重线性回归，我们需要通过重新编码的方式，先将其转换为哑变量，然后再带入到回归模型中。
一、研究实例
仍然以上面的研究实例进行介绍，某研究人员拟探讨不同种族人群中BMI有无差异，收集了4种不同种族人群的相关数据资料（1=Black美国黑人，2=White美国白人，3=Indian美国印第安人，4=Asian亚裔美国人）。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://zhuifengsn.github.io/posts/b475f2443ce488c613fe63c0fdf38a2a/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-03-02T09:07:11+08:00" />
<meta property="article:modified_time" content="2020-03-02T09:07:11+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="追风少年的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">追风少年的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">SPSS教程：手把手教你设置哑变量以及解读结果</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>今天我们将结合SPSS软件，向大家介绍<strong>在回归模型中何如实现哑变量的设置</strong>，并对引入哑变量后的模型<strong>结果进行解读</strong>。</p> 
<p><strong>Logistic /Cox回归</strong></p> 
<p>在SPSS中，Logistic回归和Cox回归设置哑变量的方式是一致的，因此本文以Logistic回归为例进行说明。</p> 
<p><strong>一、研究实例</strong></p> 
<p>某研究人员拟探讨不同种族人群中某疾病发病风险有无差异，收集了4种不同种族人群的相关数据资料（1=Black美国黑人，2=White美国白人，3=Indian美国印第安人，4=Asian亚裔美国人）。</p> 
<p>根据数据类型判断，种族为无序多分类资料，需要将种族转化为哑变量后，进行Logistic回归。</p> 
<p><strong>二、SPSS操作</strong></p> 
<p>1. Analyze → Regression → Binary Logistic，进入到Logistic回归模块</p> 
<p> </p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/db/cb/8NO0B7eV_o.png"></p> 
<p> </p> 
<p>2. 将Event选入Dependent框中，将Gender、Age、Race选入Covariates框中</p> 
<p> </p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/42/2e/O25e21Td_o.png"></p> 
<p> </p> 
<p>3. 点击Categorical进入定义分类变量的对话框，将需要转化的变量Race选入Categorical Covariates框中，点击Contrast旁的下拉框选择Indicator，Reference Category<strong>设置为First</strong>，即设定第一个分类为参照。</p> 
<p>在本次研究中，Race=1为黑人，即我们选择黑人作为参照。最后再<strong>点击Change</strong>确认更改为Race（Indicator（first））。</p> 
<p> </p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/68/06/zxLu0osC_o.png"></p> 
<p> </p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/66/90/eDRp7l3l_o.png"></p> 
<p> </p> 
<p>在选择哑变量编码方式时，Contrast下拉选项一共提供了7种编码方式：</p> 
<p><strong>(1)</strong> Indicator（指示对比）：用于指定某一分类为参照，指定的参照取决于Reference Category中选择Last还是First，即只能以该变量的第一类或者最后一类作为参照。<strong>Indicator为默认方法，也是我们最常用的设置参照类的方法</strong>。</p> 
<p><strong>(2)</strong> Simple（简单对比）： Simple和Indicator两个方法虽然参数编码不同，但其实质是一样的，均为各分类分别与参照进行相比。</p> 
<p><strong>(3) </strong>Difference（差异对比）：即该分类变量的某个分类，与前面所有分类的平均值进行比较，此法与Helmert法相反，因此也叫做反Helmert法。此选项常用于有序分类变量。</p> 
<p><strong>(4)</strong> Helmert（赫尔默特对比）：即该分类变量的某个分类，与其后面所有分类的平均值进行比较，同样也适用于有序分类变量。</p> 
<p><strong>(5) </strong>Repeated（重复对比）：即该分类变量的各个分类，均与前面相邻的一个分类进行比较，此时前一分类为参照。</p> 
<p><strong>(6) </strong>Polynomial（多项式对比）：它假设各个分类间隔是等距的，只能用于数值型的变量。（注意：如果此时原始变量为字符型，例如A、B、C、D，在SPSS中使用该方法时它会提示Polynomial contrasts may not be specified for string variables。而对于其他6种方法是允许原始变量是字符型，SPSS可以将其自动转化为0或1形式的哑变量。）</p> 
<p><strong>(7)</strong> Deviation（偏差对比）：即除参照外，其余每一个分类都与总体水平相比，此时每个分类的回归系数都是相对于总体水平而言的改变量。</p> 
<p>4. 点击Continue回到主对话框，再点击OK完成操作。</p> 
<p> </p> 
<p><strong>三、结果解读</strong></p> 
<p> </p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/b5/e4/LRunEJ2h_o.png"></p> 
<p> </p> 
<p>1. 结果显示， SPSS将 Race自动转化为3个哑变量，分别为Race(1) (2) (3)，代表白人、印第安人和亚裔人，参照为黑人。在α=0.05的检验水准下，Race(1) (2) (3) 回归系数检验P值均&lt;0.05，提示白人、印第安人和亚裔种族某疾病的发生风险均与黑人种族之间存在统计学差异。</p> 
<p>2. 白人、印第安人和亚裔相对于黑人种族，其OR值和95% CI分别为0.247(0.102, 0.598)、0.181(0.070, 0.466)、0.132(0.049, 0.357)，提示白人、印第安人和亚裔人中该疾病的发生风险均显著低于黑人种族。</p> 
<p><strong>多重线性回归</strong></p> 
<p>针对多重线性回归，我们需要通过重新编码的方式，先将其转换为哑变量，然后再带入到回归模型中。</p> 
<p> </p> 
<p><strong>一、研究实例</strong></p> 
<p> </p> 
<p>仍然以上面的研究实例进行介绍，某研究人员拟探讨不同种族人群中BMI有无差异，收集了4种不同种族人群的相关数据资料（1=Black美国黑人，2=White美国白人，3=Indian美国印第安人，4=Asian亚裔美国人）。</p> 
<p>根据数据类型判断，种族为无序多分类资料，需要将种族转化为哑变量后，进行多重线性回归。</p> 
<p><strong>二、SPSS操作</strong></p> 
<p><strong>方法一</strong></p> 
<p>1. Transform → CreateDummy Variables</p> 
<p>将需要转换为哑变量的Race因素选入CreateDummy Variables for中，在Root Names(One Per SelectedVariable)框中输入转换后的哑变量名Race_，并点击OK完成操作</p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/b7/91/Mb7DMePt_o.png"></p> 
<p>注意：使用SPSS软件自带的创建哑变量的功能，原始变量有n个分类，就会产生n个哑变量，例如Race为4分类，系统自动生成4个哑变量。在构建多重线性回归模型时，需要确定其中一个哑变量作为参照，然后把剩余n-1个哑变量带入到模型中。</p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/3e/b6/ZC1oZ5f3_o.png"></p> 
<p><strong>方法二</strong></p> 
<p>1. Transform → Recode into Different Variables</p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/b3/bf/OteXfyHi_o.png"></p> 
<p> </p> 
<p>将需要转换为哑变量的Race因素选入Numeric Variable-&gt;Output Variable框中，在Name框中输入转变的第一个哑变量名字Race1，并点击Change进行命名</p> 
<p> </p> 
<p>2. 点击Old and New Values进入重新编码的对话框</p> 
<p>在Old Value中的Value框中填写1，在New Value中的Value框中填写1，并点击Add添加，得到1-&gt;1。</p> 
<p> </p> 
<p> </p> 
<p>然后选择Old Value中的All other values，在New Value中的Value框中填写0，并点击Add添加，得到ELSE-&gt;0</p> 
<p> </p> 
<p> </p> 
<p>上述步骤表示将原有变量Race中第1分类，在哑变量Race1中赋值为1，将其他所有分类在哑变量Race1中赋值为0。</p> 
<p>按照同样的方法，我们可以生成Race2和Race3，共3个哑变量。如果觉得生成3个哑变量很麻烦，我们可以进入程序编辑页面，编写一条简单的程序进行重新编码赋值，如下图所示。</p> 
<p> </p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/01/b0/TUqnYnND_o.png"></p> 
<p> </p> 
<p>赋值完成后，我们就可以在数据视图界面看到新生成的3个哑变量。哑变量生成好后，我们就可以开始进行多重线性回归了。</p> 
<p> </p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/c4/f5/CQhDW0BV_o.png"></p> 
<p> </p> 
<p>3. Analyze → Regression → Linear</p> 
<p> </p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/c0/93/CuPKbxJA_o.png"></p> 
<p> </p> 
<p>将BMI选入Dependent框中，将Race1、Race2、Race3、Gender和Age一同选入Independent（s）框中，Method选择Enter法，点击OK完成操作。</p> 
<p> </p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/34/3e/1Zwlp3N2_o.png"></p> 
<p> </p> 
<p><strong>三、结果解读</strong></p> 
<p> </p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/d2/62/Jr9vrZQO_o.png"></p> 
<p> </p> 
<p>1. 我们通过重新编码将Race转化为3个哑变量，分别为Race1、2、3，代表黑人、白人和印第安人，此时参照为亚裔人。在α=0.05的检验水准下，Race1、2、3回归系数检验P值均&lt;0.05，提示黑人、白人和印第安人的BMI均与亚裔人之间存在统计学差异。</p> 
<p>2. 黑人、白人和印第安人与亚裔人相比，其β值和95% CI分别为1.543(0.163, 2.923)、2.331(0.996, 3.665)、1.585(0.208, 2.963)，提示黑人、白人和印第安人的BMI要显著高于亚裔人。</p> 
<p><strong>设置哑变量时的注意事项</strong></p> 
<p><strong>1. </strong>原则上<strong>哑变量在模型中应同进同出</strong>，也就是说在一个模型中，如果同一个分类变量的不同哑变量，出现了有些哑变量有统计学显著性，有些无统计学显著性的情况下，为了保证所有哑变量代表含义的正确性，应当在模型中纳入所有的哑变量。</p> 
<p>因此，我们在引入哑变量进入模型时，需选择Enter强制进入法，以保证所有哑变量都能保留在最后的模型中。</p> 
<p><strong>2. </strong><strong>被选为参照的那一类分组，应该保证有一定的样本量</strong>。如果参照组样本量太少，则将会导致其他分类与参照相比时，参数估计的标准误较大，可信区间较大，精度降低，会出现估计参数极大或极小的现象。</p> 
<p> </p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/e1/e3/1Eusm4vG_o.png"></p> 
<p>END</p> 
<p> </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/5957719911f53692e19724893bc4262c/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">模型迁移错误常见问题“django.db.utils.InternalError: (1050, “Table ‘django_content_type‘ already exists“)“</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/4a9390d34ec1d678cc3f5cf1edf6a421/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">往年四级真题</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 追风少年的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>