<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>运维SRE-06 阶段性复习&amp;&amp;软件管理体系 - 追风少年的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="运维SRE-06 阶段性复习&amp;&amp;软件管理体系" />
<meta property="og:description" content="那些年运维必会操作-第一弹 操作 文件：增删改查 增：touch,vim,&gt;,&gt;&gt;,cp删除：rm修改：内容：vi/vim,&gt;,&gt;&gt; 文件名：mv查看：内容：cat/vim/less/more/head/tail/sed/awk/grep 内容排序：sort/uniq 文件名字：find 目录：增删改查 增：mkdir删除：rm修改：改名 mv查看：ls,tree,find 用户：增删改查 增：useradd(adduser)删除：userdel修改：usermod查看：id(uid,gid,组),w(登录),last,lastlog 权限：增删改查 chmod：权限chown：所有者lsattr/chattr（隐藏属性） 四剑客：增删改查 正则配合三剑客进行过滤取行，取列统计计算find进行查找文件，按照名字，按照时间，按照大小find&#43;其他命令(sed,ls,rm,grep)3种方法：find &#43; |xargs find &#43; 反引号 find&#43; -exec\特殊情况：find &#43; cp/mv特殊情况：find &#43; tar 打包压缩三剑客： tar：zcf `` tf``xf``-cgzip：注释配置文件gzip *.repo``gzip -d 解压zip/unzip：unzip解压zip压缩包 磁盘：增删改查 磁盘分区：fdisk/parted/gdisk格式化挂载 软件包：rpm，yum，增删改查 rpm：查询，手动安装rpm包 增：rpm -ivh删除：rpm -e修改：rpm -Uvh查看：rpm -qa;rpm -ql yum：自动下载，自动安装 增加：yum install -y``yum localinstall查看：yum list（用于知道软件包名字，看看yum源中是否有 yum provides``yum search all（用于你不知道软件包名字，软件包内容）删除：yum remove修改：yum update/upgrade 知识点： 目录结构命令格式文件属性(ls -lhi每一列含义)软连接硬链接权限体系：文件和目录 rwx磁盘故障案例Linux安装软件包方式 复杂操作 配置别名磁盘：分区，格式化，挂载，永久挂载yum仓库搭建 #配置文件yum源的配置文件 配置yum命令下载软件的的时候从哪里下载. 配置文件目录: /etc/yum.repos.d/ yum源配置文件以.repo结尾. 文件内容: [base] #yum源名字 name=介绍这个yum源的作用 #注释 enabled=1 #是否开启yum源 baseurl=yum仓库的地址." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://zhuifengsn.github.io/posts/3ee93fd7470d006d78c2d8984a5a79d1/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-02-22T09:33:32+08:00" />
<meta property="article:modified_time" content="2024-02-22T09:33:32+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="追风少年的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">追风少年的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">运维SRE-06 阶段性复习&amp;&amp;软件管理体系</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h4><a id="_0"></a>那些年运维必会操作-第一弹</h4> 
<ul><li>操作 
  <ul><li>文件：增删改查 
    <ul><li>增：touch,vim,&gt;,&gt;&gt;,cp</li><li>删除：rm</li><li>修改：内容：vi/vim,&gt;,&gt;&gt; 文件名：mv</li><li>查看：内容：cat/vim/less/more/head/tail/sed/awk/grep 内容排序：sort/uniq 文件名字：find</li></ul> </li><li>目录：增删改查 
    <ul><li>增：mkdir</li><li>删除：rm</li><li>修改：改名 mv</li><li>查看：ls,tree,find</li></ul> </li><li>用户：增删改查 
    <ul><li>增：useradd(adduser)</li><li>删除：userdel</li><li>修改：usermod</li><li>查看：id(uid,gid,组),w(登录),last,lastlog</li></ul> </li><li>权限：增删改查 
    <ul><li>chmod：权限</li><li>chown：所有者</li><li>lsattr/chattr（隐藏属性）</li></ul> </li><li>四剑客：增删改查 
    <ul><li>正则配合三剑客进行过滤</li><li>取行，取列</li><li>统计计算</li><li>find进行查找文件，按照名字，按照时间，按照大小</li><li>find+其他命令(sed,ls,rm,grep)3种方法：<code>find + |xargs find + 反引号 find+ -exec\</code></li><li>特殊情况：find + cp/mv</li><li>特殊情况：find + tar</li></ul> </li><li>打包压缩三剑客： 
    <ul><li>tar：<code>zcf `` tf``xf``-c</code></li><li>gzip：注释配置文件<code>gzip *.repo``gzip -d 解压</code></li><li>zip/unzip：unzip解压zip压缩包</li></ul> </li><li>磁盘：增删改查 
    <ul><li>磁盘分区：fdisk/parted/gdisk</li><li>格式化</li><li>挂载</li></ul> </li><li>软件包：rpm，yum，增删改查 
    <ul><li>rpm：查询，手动安装rpm包 
      <ul><li>增：rpm -ivh</li><li>删除：rpm -e</li><li>修改：rpm -Uvh</li><li>查看：rpm -qa;rpm -ql</li></ul> </li><li>yum：自动下载，自动安装 
      <ul><li>增加：<code>yum install -y``yum localinstall</code></li><li>查看：<code>yum list（用于知道软件包名字，看看yum源中是否有</code> <code>yum provides``yum search all（用于你不知道软件包名字，软件包内容）</code></li><li>删除：yum remove</li><li>修改：yum update/upgrade</li></ul> </li></ul> </li></ul> </li><li>知识点： 
  <ul><li>目录结构</li><li>命令格式</li><li>文件属性(ls -lhi每一列含义)</li><li>软连接硬链接</li><li>权限体系：文件和目录 rwx</li><li>磁盘故障案例</li><li>Linux安装软件包方式</li></ul> </li><li>复杂操作 
  <ul><li>配置别名</li><li>磁盘：分区，格式化，挂载，永久挂载</li><li>yum仓库搭建</li></ul> </li></ul> 
<pre><code>#配置文件yum源的配置文件 配置yum命令下载软件的的时候从哪里下载.
配置文件目录: /etc/yum.repos.d/   
yum源配置文件以.repo结尾.
文件内容:
[base]                   #yum源名字
name=介绍这个yum源的作用    #注释
enabled=1                #是否开启yum源
baseurl=yum仓库的地址.    #http://mirrors.aliyun.com/.......   或 file:///data/cdrom 
gppcheck=0               #是否开启软件包校验.
</code></pre> 
<ul><li>给Linux系统配置yum源（从清华或阿里云下载软件包）</li></ul> 
<pre><code>wget -O /etc/yum.repos.d/CentOS-Base.repo https://mirrors.aliyun.com/repo/Centos-7.repo
wget -O /etc/yum.repos.d/epel.repo http://mirrors.aliyun.com/repo/epel-7.repo
</code></pre> 
<h4><a id="_78"></a>软件包管理体系-编译安装</h4> 
<ul><li>编译安装 
  <ul><li>把你获取的软件的源代码（C语言代码），通过编译操作，把代码变成可执行的命令。</li></ul> </li><li>编译安装步骤（三部曲） 
  <ul><li>配置：./configure (对代码进行配置)</li><li>编译：make (把代码根据上面配置要求进行编译,代码—&gt;命令)</li><li>编译安装：make install (把命令复制到系统指定的目录中，创建目录，复制配置文件)</li></ul> </li></ul> 
<h5><a id="_86"></a>编译安装-黑客帝国(字母雨)</h5> 
<pre><code>#01 安装依赖
yum install -y python-libs ncurses-devel binutils

#02 解压注意:软件包要上传到 /app/tools/目录下.
mkdir -p /app/tools
cd /app/tools/
tar xf cmatrix-1.2a.tar.gz

#03 进入目录准备开始编译安装
cd cmatrix-1.2a/

#04 编译安装3步曲
./configure
echo $? #检查上一个命令执行结果 # 0表示正常. 非0 错误。
如果出现configure: error: no acceptable cc found in $PATH
yum install -y gcc



make
make install



#05 结果
cmatrix

#06 编译默认安装的目录
/usr/local
</code></pre> 
<h5><a id="nginx_118"></a>编译安装-nginx</h5> 
<pre><code>#01 检查系统是否安装过nginx,需要删除.
#02 下载代码包  
#03 安装依赖
#04 编译安装三部曲 安装到指定目录/app/nginx-1.20.2
#05 扩展:启动nginx与访问
#01 检查系统是否安装过nginx,需要删除.

rpm -e `rpm -qa |grep nginx`
rpm -qa |grep nginx 

#02 下载代码包  
cd /app/tools/
wget https://nginx.org/download/nginx-1.20.2.tar.gz #如果没有wget则yum安装下.

#03 安装依赖
不知道依赖.
yum install -y openssl-devel pcre-devel

#04 编译安装三部曲 安装到指定目录/app/nginx-1.20.2
#--prefix=指定安装目录,没有就自动创建
tar xf nginx-1.20.2.tar.gz
cd nginx-1.20.2

./configure --prefix=/app/nginx-1.20.2  --user=nginx  --group=nginx --with-http_ssl_module --with-http_v2_module --with-http_stub_status_module --with-http_mp4_module

make  
make install

#05 编译安装后续操作
##a) 检查nginx信息
[root@oldboy81-golden-lnb ~]# /app/nginx-1.20.2/sbin/nginx -V 
nginx version: nginx/1.20.2
built by gcc 4.8.5 20150623 (Red Hat 4.8.5-44) (GCC) 
built with OpenSSL 1.0.2k-fips  26 Jan 2017
TLS SNI support enabled
configure arguments: --prefix=/app/nginx-1.20.2 --user=nginx --group=nginx --with-http_ssl_module --withhttp_v2_module --with-http_stub_status_module --with-http_mp4_module
##b) 准备用户
useradd -s /sbin/nologin -M nginx

##c) 关闭selinux和防火墙
####关闭防火墙
systemctl disable firewalld   
systemctl stop firewalld

####关闭selinux
setenforce  0   
sed -i 's#SELINUX=enforcing#SELINUX=disabled#g' /etc/selinux/config

##d) 启动与访问nginx
/app/nginx-1.20.2/sbin/nginx   #启动
[root@hb-sre-001 sbin]# ps -ef|grep nginx
root       9069      1  0 15:38 ?        00:00:00 nginx: master process ./nginx
nginx      9070   9069  0 15:38 ?        00:00:00 nginx: worker process
root       9072   4811  0 15:38 pts/0    00:00:00 grep --color=auto nginx


#测试下访问
浏览器输入10.0.0.100
http://10.0.0.100:80
#伪装成百度
wget https://www.baidu.com/
cp index.html   /app/nginx-1.20.2/html/index.html

</code></pre> 
<h5><a id="tomcat_185"></a>部署二进制版本tomcat为例</h5> 
<pre><code>#00 关闭防火墙和selinux.
####关闭防火墙
systemctl disable firewalld   
systemctl stop firewalld 
####关闭selinux
setenforce  0   
sed -i 's#SELINUX=enforcing#SELINUX=disabled#g' /etc/selinux/config

#01 下载tomcat二进制软件包  
wget --no-check-certificate -P /app/tools/ https://mirrors.tuna.tsinghua.edu.cn/apache/tomcat/tomcat-8/v8.5.93/bin/apache-tomcat-8.5.77.tar.gz

#02 安装依赖(环境)
yum install -y java


#03 解压与启动
##a) 解压
cd /app/tools/
tar xf apache-tomcat-8.5.77.tar.gz
ln -s apache-tomcat-8.5.77   tomcat
##b) 启动
/app/tools/tomcat/bin/startup.sh  
##c)检查 进程
[root@oldboy81-golden-lnb /app/tools]# ps -ef |grep java
</code></pre> 
<p><img src="https://images2.imgbox.com/70/e9/Hqy4n1mZ_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="_215"></a>软件包管理体系总结</h4> 
<ul><li>rpm</li><li>yum</li><li>编译安装</li><li>二进制</li></ul> 
<table><thead><tr><th>软件安装方式</th><th>简介</th><th>详细特点</th><th>优势</th><th>缺点</th><th>应用场景</th></tr></thead><tbody><tr><td>rpm软件包安装</td><td>rpm是linux软件包格式买回来后只需要简单的加工就可以食用. 但是,没有相关依赖,需要自己解决.</td><td>自己下载rpm包,自己安装。缺少依赖自己手动解决依赖.</td><td>只要你有rpm包.通过rpm命令安装.</td><td>缺少依赖.只能手动解决依赖.</td><td>yum源没有，自己下载好了rpm可以用rpm命令安装安装的时候推荐使用yum localinstallrpm命令一般用于查找软件安装没有,软件包内容</td></tr><tr><td>yum命令安装</td><td>依赖自行解决</td><td>yum安装软件,替我们下载rpm包,替我们安装rpm包,缺少依赖yum替我们下载.</td><td>自动检查依赖，自动下载安装</td><td>依赖网络（也可以自搭建yum仓库解决</td><td>必备,大部分软件通过yum安装有的时间yum源中的软件包版本较低如果要新版本尝试查找rpm包，二进制，源码.</td></tr><tr><td>编译安装</td><td>可以自己定义.</td><td>编译: 源代码—&gt;命令(二进制文件) 编译安装三部曲: ./configure(配置,备菜)—&gt;make(编译,炒菜)—&gt;make install (安装,上菜)</td><td>可以自定义功能, 这个软件没有rpm包或yum安装不了.</td><td>步骤繁琐.缺少的依赖需要自己解决.大型软件时间长.</td><td>定制化功能(增减)新版本企业应用：先编译安装，编译安装内容打包rpm包，搭建yum仓库（私有）</td></tr><tr><td>二进制包</td><td>绿色软件（解压即用）</td><td>别人配置好，我们只需要解压，简单配置，即可使用</td><td>方便</td><td>不是所有软件都有</td><td>方便，但不是所有软件都有。tomcat,数据库软件。</td></tr></tbody></table>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/aefccc38a30c655d7b9aa14c4ce9449e/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">HarmonyOS服务卡片开发指导(Stage模型)概述</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/aed9614e76dc6e32265a3a4aeeaeb861/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">uniapp开发微信小程序跳转到另一个小程序中</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 追风少年的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>