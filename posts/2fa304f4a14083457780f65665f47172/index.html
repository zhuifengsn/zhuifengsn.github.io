<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>二分查找--中间值取值原则 - 追风少年的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="二分查找--中间值取值原则" />
<meta property="og:description" content="在数组总长度为奇数时，二分查找的中间值就是数组中间的那个元素。例如，对于长度为5的数组，中间元素的下标为2。
在数组总长度为偶数时，二分查找的中间值有两个，可以取任意一个作为中间值。一种常用的方法是取靠左的那个中间值。例如，对于长度为6的数组，可以取中间元素的下标为2或3作为中间值。
这里需要注意的是，在实际编程中，为了保证代码的简洁性和通用性，我们通常会将中间值向下取整，即取靠左的那个中间值。这样可以保证不管数组长度是奇数还是偶数，都能够正确地找到中间值。
注意一般mid = left &#43; (right-left)/2; 不要用mid = (right - left)/2 中间值的计算需要考虑到整型溢出的问题。如果使用 `mid = (right - left) / 2` 的方式计算中间值，那么在 right 和 left 的值接近极限值的情况下，可能会导致计算出的中间值发生整型溢出，从而得到错误的结果。
为了避免这种情况，我们一般使用 `mid = left &#43; (right - left) / 2` 的方式来计算中间值。这种方式可以保证计算过程中不会出现整型溢出的问题。
具体来说，`right - left` 是要查找区间的长度，而 `(right - left) / 2` 是区间长度的一半。因此，`left &#43; (right - left) / 2` 就是区间的中间位置，这样可以避免整型溢出的问题。
在二分查找中，left 和 right 分别表示查找区间的左右边界。在最开始的时候，left 和 right 分别指向数组的第一个元素和最后一个元素，也就是说，查找区间的长度是 right - left &#43; 1。
以长度为5的数组为例，最开始的时候，left 指向第一个元素，即下标为0的元素，right 指向最后一个元素，即下标为4的元素。此时，查找区间的长度为 4 - 0 &#43; 1 = 5。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://zhuifengsn.github.io/posts/2fa304f4a14083457780f65665f47172/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-04-27T00:56:18+08:00" />
<meta property="article:modified_time" content="2023-04-27T00:56:18+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="追风少年的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">追风少年的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">二分查找--中间值取值原则</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>在数组总长度为奇数时，二分查找的中间值就是数组中间的那个元素。例如，对于长度为5的数组，中间元素的下标为2。</p> 
<p>在数组总长度为偶数时，二分查找的中间值有两个，可以取任意一个作为中间值。一种常用的方法是取靠左的那个中间值。例如，对于长度为6的数组，可以取中间元素的下标为2或3作为中间值。</p> 
<p>这里需要注意的是，在实际编程中，为了保证代码的简洁性和通用性，我们通常会将中间值向下取整，即取靠左的那个中间值。这样可以保证不管数组长度是奇数还是偶数，都能够正确地找到中间值。</p> 
<h2>注意一般mid = left + (right-left)/2;</h2> 
<h2>不要用mid = (right - left)/2</h2> 
<p>中间值的计算需要考虑到整型溢出的问题。如果使用 `mid = (right - left) / 2` 的方式计算中间值，那么在 right 和 left 的值接近极限值的情况下，可能会导致计算出的中间值发生整型溢出，从而得到错误的结果。</p> 
<p>为了避免这种情况，我们一般使用 `mid = left + (right - left) / 2` 的方式来计算中间值。这种方式可以保证计算过程中不会出现整型溢出的问题。</p> 
<p>具体来说，`right - left` 是要查找区间的长度，而 `(right - left) / 2` 是区间长度的一半。因此，`left + (right - left) / 2` 就是区间的中间位置，这样可以避免整型溢出的问题。</p> 
<p>在二分查找中，left 和 right 分别表示查找区间的左右边界。在最开始的时候，left 和 right 分别指向数组的第一个元素和最后一个元素，也就是说，查找区间的长度是 right - left + 1。</p> 
<p>以长度为5的数组为例，最开始的时候，left 指向第一个元素，即下标为0的元素，right 指向最后一个元素，即下标为4的元素。此时，查找区间的长度为 4 - 0 + 1 = 5。</p> 
<p>在二分查找的过程中，查找区间会不断缩小，left 和 right 也会随之改变。每次缩小查找区间时，都是将 left 或 right 移动一个位置，这样就保证了查找区间的长度不变。例如，在查找区间的左半部分时，需要将 right 移动到 mid - 1 的位置，此时查找区间的长度就变成了 mid - 1 - left + 1 = mid - left。</p> 
<p>因此，可以通过 left 和 right 的差值来计算出查找区间的长度，即 right - left + 1。在最开始的时候，right 指向数组的最后一个元素，left 指向数组的第一个元素，所以 right - left + 1 就是数组的长度。</p> 
<h2>整型溢出</h2> 
<p>指的是在计算机中使用的整型数据类型（如int、long等）所能表示的范围之外进行运算时，结果会出现错误的情况。例如，32位有符号整型的范围是 -2147483648 到 2147483647，如果进行加法运算 2147483647 + 1，由于结果超出了该数据类型的范围，会发生整型溢出，结果会变成 -2147483648。</p> 
<p>在二分查找中，如果使用 `mid = (right - left) / 2` 的方式计算中间值，当 right 和 left 的值接近整型数据类型的范围上限时，right - left 的值可能会超过数据类型所能表示的范围，从而导致计算结果错误。</p> 
<p>例如，假设使用 int 类型进行二分查找，且数组长度为 2147483647。在最开始的时候，left = 0，right = 2147483646，此时 right - left 的值为 2147483646，没有超过 int 类型的范围。但是，在进行二分查找时，如果 left 和 right 的值都非常大，例如 left = 2147480000，right = 2147483646，此时 right - left 的值为 3646，超过了 int 类型的范围，从而导致计算结果错误。</p> 
<p>为了避免这种情况，我们可以使用 `mid = left + (right - left) / 2` 的方式来计算中间值，这样可以保证计算过程中不会出现整型溢出的问题。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/7a726da8e6034930e3c55dd845bb7d39/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">gtest学习</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/62339cbec2a2652c8f5a7fb28ee37876/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">简简单单设置个树莓派VNCSERVER开机自启动</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 追风少年的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>