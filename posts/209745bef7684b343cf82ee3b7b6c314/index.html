<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>google mock C&#43;&#43;单元测试框架 - 追风少年的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="google mock C&#43;&#43;单元测试框架" />
<meta property="og:description" content="google mock是用来配合google test对C&#43;&#43;项目做单元测试的。它依赖于googletest（参见我上篇文章《如何用googletest写单元测试》： http://blog.csdn.net/russell_tao/article/details/7333226），下面我来说说linux上怎么用它来做单元测试。
本文包括：1、如何获取、编译google mock；2、如何使用gmock（下面用gmock来代称google mock）配合gtest做单元测试。3、如何运行单元测试；4、gmock的工作原理。
1、如何获取、编译google mock
gmock的当前版本与gtest一样，是1.6.0。可以从这个网址获取：http://code.google.com/p/googlemock/downloads/list。
下载到压缩包解压后，下面我们开始编译出静态库文件（必须得自己编译出），以在我们自己的单元测试工程中使用。
与gtest相同，我们执行完./configure; make后，不能执行make install，理由与上篇相同。
验证这个包有没有问题，依然可以执行如下命令：
[cpp] view plain copy cd make make ./gmock_test 如果你看到类似下文的输出屏幕，证明你的机器运行gmock没有问题。 [cpp] view plain copy [----------] Global test environment tear-down [==========] 13 tests from 3 test cases ran. (2 ms total) [ PASSED ] 13 tests. 这时还没有编译出我们要的libgmock.a呢。继续在gmock解包目录下执行： [cpp] view plain copy g&#43;&#43; -I gtest/include/ -I gtest/ -I include/ -I ./ -c gtest/src/gtest-all.cc g&#43;&#43; -I gtest/include/ -I gtest/ -I include/ -I ." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://zhuifengsn.github.io/posts/209745bef7684b343cf82ee3b7b6c314/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2015-03-31T16:12:09+08:00" />
<meta property="article:modified_time" content="2015-03-31T16:12:09+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="追风少年的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">追风少年的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">google mock C&#43;&#43;单元测试框架</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <table border="1" style="word-wrap:break-word; color:rgb(75,75,75); font-family:'Palatino Linotype','Book Antiqua',Palatino,serif; font-size:14px; line-height:22px; margin:0px; border:0px; border-collapse:collapse; padding:0px; outline:0px"><tbody style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px"><tr style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px"><th style="word-wrap:break-word; margin:0px; padding:0px; border:0px; border-collapse:collapse; outline:0px; font-size:14px"> <p><span style="font-size:12px"></span></p> <p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px"> </p> <p id="" style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(102,102,102); font-size:16px; line-height:26px; font-family:Arial"> google mock是用来配合google test对C++项目做单元测试的。它依赖于googletest（参见我上篇文章《如何用googletest写单元测试》： <a target="_blank" href="http://blog.csdn.net/russell_tao/article/details/7333226" style="word-wrap:break-word; text-decoration:none; color:rgb(202,0,0); padding:0px; margin:0px" rel="noopener noreferrer">http://blog.csdn.net/russell_tao/article/details/7333226</a>），下面我来说说linux上怎么用它来做单元测试。</p> <p style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(102,102,102); font-size:16px; line-height:26px; font-family:Arial"> 本文包括：1、如何获取、编译google mock；2、如何使用gmock（下面用gmock来代称google mock）配合gtest做单元测试。3、如何运行单元测试；4、gmock的工作原理。</p> <p style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(102,102,102); font-size:16px; line-height:26px; font-family:Arial"> <br style="word-wrap:break-word; padding:0px; margin:0px"> </p> <p style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(102,102,102); font-size:16px; line-height:26px; font-family:Arial"> 1、如何获取、编译google mock</p> <p style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(102,102,102); font-size:16px; line-height:26px; font-family:Arial"> gmock的当前版本与gtest一样，是1.6.0。可以从这个网址获取：<a target="_blank" href="http://code.google.com/p/googlemock/downloads/list" rel="nofollow noopener noreferrer" style="word-wrap:break-word; text-decoration:none; color:rgb(202,0,0); padding:0px; margin:0px">http://code.google.com/p/googlemock/downloads/list</a>。</p> <p style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(102,102,102); font-size:16px; line-height:26px; font-family:Arial"> 下载到压缩包解压后，下面我们开始编译出静态库文件（必须得自己编译出），以在我们自己的单元测试工程中使用。</p> <p style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(102,102,102); font-size:16px; line-height:26px; font-family:Arial"> 与gtest相同，我们执行完./configure; make后，不能执行make install，理由与上篇相同。</p> <p style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(102,102,102); font-size:16px; line-height:26px; font-family:Arial"> 验证这个包有没有问题，依然可以执行如下命令：</p> <p style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(102,102,102); font-size:16px; line-height:26px; font-family:Arial"> </p> 
    <div class="dp-highlighter bg_cpp" style="word-wrap:break-word; color:rgb(102,102,102); line-height:26px; padding:1px 0px 0px; font-family:Consolas,'Courier New',Courier,mono,serif; width:1113px; overflow:auto; margin:18px 0px!important"> 
     <div class="bar" style="word-wrap:break-word; padding:0px 0px 0px 45px; margin:0px"> 
      <div class="tools" style="word-wrap:break-word; padding:3px 8px 10px 10px; margin:0px; font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; font-size:9px; line-height:normal; color:silver; background-color:rgb(248,248,248); border-left-width:3px; border-left-style:solid; border-left-color:rgb(108,226,108)"> 
       <span style="word-wrap:break-word; padding:0px; margin:0px">[cpp]</span>  
       <a target="_blank" href="http://blog.csdn.net/russell_tao/article/details/7344739#" class="ViewSource" title="view plain" style="word-wrap:break-word; text-decoration:none; color:rgb(160,160,160); padding:1px; margin:0px 10px 0px 0px; background-color:inherit; border:none; display:inline-block; width:16px; height:16px; text-indent:-2000px" rel="noopener noreferrer">view plain</a> 
       <a target="_blank" href="http://blog.csdn.net/russell_tao/article/details/7344739#" class="CopyToClipboard" title="copy" style="word-wrap:break-word; text-decoration:none; color:rgb(160,160,160); padding:1px; margin:0px 10px 0px 0px; background-color:inherit; border:none; display:inline-block; width:16px; height:16px; text-indent:-2000px" rel="noopener noreferrer">copy</a> 
       <div style="word-wrap:break-word; padding:0px; margin:0px; position:absolute; left:377px; top:677px; width:18px; height:18px; z-index:99"> 
       </div> 
      </div> 
     </div> 
     <ol start="1" class="dp-cpp" style="word-wrap:break-word; margin:0px 0px 1px 45px!important; padding:0px; list-style:none; border:none; color:rgb(92,92,92)"><li class="alt" style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); color:inherit; line-height:18px"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">cd make  </span></li><li style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); background-color:rgb(248,248,248); line-height:18px"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">make  </span></li><li class="alt" style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); color:inherit; line-height:18px"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">./gmock_test  </span></li></ol> 
    </div> <br style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; line-height:26px; padding:0px; margin:0px; font-family:Arial"> <span style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; line-height:26px; font-family:Arial">如果你看到类似下文的输出屏幕，证明你的机器运行gmock没有问题。</span> <p style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(102,102,102); font-size:16px; line-height:26px; font-family:Arial"> </p> <p style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(102,102,102); font-size:16px; line-height:26px; font-family:Arial"> </p> 
    <div class="dp-highlighter bg_cpp" style="word-wrap:break-word; color:rgb(102,102,102); line-height:26px; padding:1px 0px 0px; font-family:Consolas,'Courier New',Courier,mono,serif; width:1113px; overflow:auto; margin:18px 0px!important"> 
     <div class="bar" style="word-wrap:break-word; padding:0px 0px 0px 45px; margin:0px"> 
      <div class="tools" style="word-wrap:break-word; padding:3px 8px 10px 10px; margin:0px; font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; font-size:9px; line-height:normal; color:silver; background-color:rgb(248,248,248); border-left-width:3px; border-left-style:solid; border-left-color:rgb(108,226,108)"> 
       <span style="word-wrap:break-word; padding:0px; margin:0px">[cpp]</span>  
       <a target="_blank" href="http://blog.csdn.net/russell_tao/article/details/7344739#" class="ViewSource" title="view plain" style="word-wrap:break-word; text-decoration:none; color:rgb(160,160,160); padding:1px; margin:0px 10px 0px 0px; background-color:inherit; border:none; display:inline-block; width:16px; height:16px; text-indent:-2000px" rel="noopener noreferrer">view plain</a> 
       <a target="_blank" href="http://blog.csdn.net/russell_tao/article/details/7344739#" class="CopyToClipboard" title="copy" style="word-wrap:break-word; text-decoration:none; color:rgb(160,160,160); padding:1px; margin:0px 10px 0px 0px; background-color:inherit; border:none; display:inline-block; width:16px; height:16px; text-indent:-2000px" rel="noopener noreferrer">copy</a> 
       <div style="word-wrap:break-word; padding:0px; margin:0px; position:absolute; left:377px; top:852px; width:18px; height:18px; z-index:99"> 
       </div> 
      </div> 
     </div> 
     <ol start="1" class="dp-cpp" style="word-wrap:break-word; margin:0px 0px 1px 45px!important; padding:0px; list-style:none; border:none; color:rgb(92,92,92)"><li class="alt" style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); color:inherit; line-height:18px"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">[----------] Global test environment tear-down  </span></li><li style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); background-color:rgb(248,248,248); line-height:18px"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">[==========] 13 tests from 3 test cases ran. (2 ms total)  </span></li><li class="alt" style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); color:inherit; line-height:18px"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">[  PASSED  ] 13 tests.  </span></li></ol> 
    </div> <br style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; line-height:26px; padding:0px; margin:0px; font-family:Arial"> <span style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; line-height:26px; font-family:Arial">这时还没有编译出我们要的libgmock.a呢。继续在gmock解包目录下执行：</span> <p style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(102,102,102); font-size:16px; line-height:26px; font-family:Arial"> </p> <p style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(102,102,102); font-size:16px; line-height:26px; font-family:Arial"> </p> 
    <div class="dp-highlighter bg_cpp" style="word-wrap:break-word; color:rgb(102,102,102); line-height:26px; padding:1px 0px 0px; font-family:Consolas,'Courier New',Courier,mono,serif; width:1113px; overflow:auto; margin:18px 0px!important"> 
     <div class="bar" style="word-wrap:break-word; padding:0px 0px 0px 45px; margin:0px"> 
      <div class="tools" style="word-wrap:break-word; padding:3px 8px 10px 10px; margin:0px; font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; font-size:9px; line-height:normal; color:silver; background-color:rgb(248,248,248); border-left-width:3px; border-left-style:solid; border-left-color:rgb(108,226,108)"> 
       <span style="word-wrap:break-word; padding:0px; margin:0px">[cpp]</span>  
       <a target="_blank" href="http://blog.csdn.net/russell_tao/article/details/7344739#" class="ViewSource" title="view plain" style="word-wrap:break-word; text-decoration:none; color:rgb(160,160,160); padding:1px; margin:0px 10px 0px 0px; background-color:inherit; border:none; display:inline-block; width:16px; height:16px; text-indent:-2000px" rel="noopener noreferrer">view plain</a> 
       <a target="_blank" href="http://blog.csdn.net/russell_tao/article/details/7344739#" class="CopyToClipboard" title="copy" style="word-wrap:break-word; text-decoration:none; color:rgb(160,160,160); padding:1px; margin:0px 10px 0px 0px; background-color:inherit; border:none; display:inline-block; width:16px; height:16px; text-indent:-2000px" rel="noopener noreferrer">copy</a> 
       <div style="word-wrap:break-word; padding:0px; margin:0px; position:absolute; left:377px; top:1027px; width:18px; height:18px; z-index:99"> 
       </div> 
      </div> 
     </div> 
     <ol start="1" class="dp-cpp" style="word-wrap:break-word; margin:0px 0px 1px 45px!important; padding:0px; list-style:none; border:none; color:rgb(92,92,92)"><li class="alt" style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); color:inherit; line-height:18px"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">g++ -I gtest/include/ -I gtest/ -I include/ -I ./ -c gtest/src/gtest-all.cc   </span></li><li style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); background-color:rgb(248,248,248); line-height:18px"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">g++ -I gtest/include/ -I gtest/ -I include/ -I ./ -c src/gmock-all.cc         </span></li><li class="alt" style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); color:inherit; line-height:18px"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">ar -rv libgmock.a gtest-all.o gmock-all.o   </span></li></ol> 
    </div> <br style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; line-height:26px; padding:0px; margin:0px; font-family:Arial"> <span style="word-wrap:break-word; color:rgb(102,102,102); font-size:16px; line-height:26px; font-family:Arial">如此，当前目录下会链接出我们需要的libgmock.a。注意，这个gmock.a静态库里，把gtest需要的gtest-all.cc都编译进来了，所以我们的单元测试工程只需要链接libgmock，不再需要链接上文说的libgtest了。</span> <p style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(102,102,102); font-size:16px; line-height:26px; font-family:Arial"> </p> <p style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(102,102,102); font-size:16px; line-height:26px; font-family:Arial"> <br style="word-wrap:break-word; padding:0px; margin:0px"> </p> <p style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(102,102,102); font-size:16px; line-height:26px; font-family:Arial"> 2、如何使用gmock</p> <p style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(102,102,102); font-size:16px; line-height:26px; font-family:Arial"> 首先，编译我们自己的单元测试工程时，需要在makefile里加入以下编译选项：-I${GTEST_DIR}/include -I${GMOCK_DIR}/include，这两个目录我们自己从上面的包里拷贝出来即可。链接时，需要加上libgmock.a。</p> <p style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(102,102,102); font-size:16px; line-height:26px; font-family:Arial"> <br style="word-wrap:break-word; padding:0px; margin:0px"> </p> <p style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(102,102,102); font-size:16px; line-height:26px; font-family:Arial"> 还是以一个例子来说明怎么在mock对象的情况下写单元测试。</p> <p style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(102,102,102); font-size:16px; line-height:26px; font-family:Arial"> <br style="word-wrap:break-word; padding:0px; margin:0px"> </p> <p style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(102,102,102); font-size:16px; line-height:26px; font-family:Arial"> 我现在有一个生产者消费者网络模型，消费者（例如client）会先发TCP请求到我的SERVER去订阅某个对象。生产者（另一台SERVER）产生关于某个对象的事件后发给我的SERVER后，我的SERVER再把事件发给消费者。</p> <p style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(102,102,102); font-size:16px; line-height:26px; font-family:Arial"> 就是这么简单。</p> <p style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(102,102,102); font-size:16px; line-height:26px; font-family:Arial"> <br style="word-wrap:break-word; padding:0px; margin:0px"> </p> <p style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(102,102,102); font-size:16px; line-height:26px; font-family:Arial"> 我现在想写一个单元测试，主要测试代码逻辑，不想去管网络包的收发这些事情。</p> <p style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(102,102,102); font-size:16px; line-height:26px; font-family:Arial"> 我现在有两个类，一个叫CSubscriber，它封装为一个订阅的消费者，功能主要是操作网络，包括网络收发包，协议解析等。另一个叫CSubEventHandler，它主要做逻辑处理，去操作CSubscriber对象，例如epoll返回读事件后，会构造一个CSubscriber对象，然后CSubEventHandler::handleRead方法就来处理这个CSubscriber对象。</p> <p style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(102,102,102); font-size:16px; line-height:26px; font-family:Arial"> <br style="word-wrap:break-word; padding:0px; margin:0px"> </p> <p style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(102,102,102); font-size:16px; line-height:26px; font-family:Arial"> 我单元测试的目的是，测试CSubEventHandler::handleRead的业务逻辑，我同时也想测试CSubscriber方法里的协议解析逻辑，但是对于CSubscriber封装的读写包部分，我希望可以mock成我想要的网络包。</p> <p style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(102,102,102); font-size:16px; line-height:26px; font-family:Arial"> 怎么做呢？</p> <p style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(102,102,102); font-size:16px; line-height:26px; font-family:Arial"> a)、先mock一个CSubscriber类如下：</p> <p style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(102,102,102); font-size:16px; line-height:26px; font-family:Arial"> </p> 
    <div class="dp-highlighter bg_cpp" style="word-wrap:break-word; color:rgb(102,102,102); line-height:26px; padding:1px 0px 0px; font-family:Consolas,'Courier New',Courier,mono,serif; background-color:rgb(231,229,220); width:1113px; overflow:auto; margin:18px 0px!important"> 
     <div class="bar" style="word-wrap:break-word; padding:0px 0px 0px 45px; margin:0px"> 
      <div class="tools" style="word-wrap:break-word; padding:3px 8px 10px 10px; margin:0px; font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; font-size:9px; line-height:normal; color:silver; background-color:rgb(248,248,248); border-left-width:3px; border-left-style:solid; border-left-color:rgb(108,226,108)"> 
       <span style="word-wrap:break-word; padding:0px; margin:0px">[cpp]</span>  
       <a target="_blank" href="http://blog.csdn.net/russell_tao/article/details/7344739#" class="ViewSource" title="view plain" style="word-wrap:break-word; text-decoration:none; color:rgb(160,160,160); padding:1px; margin:0px 10px 0px 0px; background-color:inherit; border:none; display:inline-block; width:16px; height:16px; text-indent:-2000px" rel="noopener noreferrer">view plain</a> 
       <a target="_blank" href="http://blog.csdn.net/russell_tao/article/details/7344739#" class="CopyToClipboard" title="copy" style="word-wrap:break-word; text-decoration:none; color:rgb(160,160,160); padding:1px; margin:0px 10px 0px 0px; background-color:inherit; border:none; display:inline-block; width:16px; height:16px; text-indent:-2000px" rel="noopener noreferrer">copy</a> 
       <div style="word-wrap:break-word; padding:0px; margin:0px; position:absolute; left:377px; top:1722px; width:18px; height:18px; z-index:99"> 
       </div> 
      </div> 
     </div> 
     <ol start="1" class="dp-cpp" style="word-wrap:break-word; margin:0px 0px 1px 45px!important; padding:0px; list-style:none; border:none; background-color:rgb(255,255,255); color:rgb(92,92,92)"><li class="alt" style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); color:inherit"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit"><span class="keyword" style="word-wrap:break-word; color:rgb(0,102,153); font-weight:bold; padding:0px; margin:0px; border:none; background-color:inherit">class</span><span style="word-wrap:break-word; padding:0px; margin:0px; border:none; background-color:inherit"> MockCSubscriber : </span><span class="keyword" style="word-wrap:break-word; color:rgb(0,102,153); font-weight:bold; padding:0px; margin:0px; border:none; background-color:inherit">public</span><span style="word-wrap:break-word; padding:0px; margin:0px; border:none; background-color:inherit"> CSubscriber  </span></span></li><li style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); background-color:rgb(248,248,248)"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">{  </span></li><li class="alt" style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); color:inherit"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit"><span class="keyword" style="word-wrap:break-word; color:rgb(0,102,153); font-weight:bold; padding:0px; margin:0px; border:none; background-color:inherit">public</span><span style="word-wrap:break-word; padding:0px; margin:0px; border:none; background-color:inherit">:  </span></span></li><li style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); background-color:rgb(248,248,248)"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">    MockCSubscriber(<span class="datatypes" style="word-wrap:break-word; color:rgb(46,139,87); font-weight:bold; padding:0px; margin:0px; border:none; background-color:inherit">int</span><span style="word-wrap:break-word; padding:0px; margin:0px; border:none; background-color:inherit"> fd):CSubscriber(fd){}  </span></span></li><li class="alt" style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); color:inherit"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">    MOCK_METHOD1(readBuf, <span class="datatypes" style="word-wrap:break-word; color:rgb(46,139,87); font-weight:bold; padding:0px; margin:0px; border:none; background-color:inherit">int</span><span style="word-wrap:break-word; padding:0px; margin:0px; border:none; background-color:inherit">(</span><span class="datatypes" style="word-wrap:break-word; color:rgb(46,139,87); font-weight:bold; padding:0px; margin:0px; border:none; background-color:inherit">int</span><span style="word-wrap:break-word; padding:0px; margin:0px; border:none; background-color:inherit"> len));  </span></span></li><li style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); background-color:rgb(248,248,248)"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">    MOCK_METHOD1(writeBuf, <span class="datatypes" style="word-wrap:break-word; color:rgb(46,139,87); font-weight:bold; padding:0px; margin:0px; border:none; background-color:inherit">int</span><span style="word-wrap:break-word; padding:0px; margin:0px; border:none; background-color:inherit">(</span><span class="datatypes" style="word-wrap:break-word; color:rgb(46,139,87); font-weight:bold; padding:0px; margin:0px; border:none; background-color:inherit">int</span><span style="word-wrap:break-word; padding:0px; margin:0px; border:none; background-color:inherit"> len));  </span></span></li><li class="alt" style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); color:inherit"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">    MOCK_METHOD0(closeSock, <span class="keyword" style="word-wrap:break-word; color:rgb(0,102,153); font-weight:bold; padding:0px; margin:0px; border:none; background-color:inherit">void</span><span style="word-wrap:break-word; padding:0px; margin:0px; border:none; background-color:inherit">());  </span></span></li><li style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); background-color:rgb(248,248,248)"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">};  </span></li></ol> 
    </div> <br style="word-wrap:break-word; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px; line-height:26px; padding:0px; margin:0px"> <span style="color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px; line-height:26px">其中，CSubscriber的构造方法必须有一个int型的fd，而readBuf和writeBuf都只接收一个int型的参数，而closeSock方法 没有参数传递。于是我使用了MOCK_METHOD0和MOCK_METHOD1这两个宏来声明想MOCK的方法。这两个宏的使用很简单，解释下：</span> <p style="word-wrap:break-word; margin-top:5px; margin-bottom:5px; padding-top:0px; padding-bottom:0px; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px; line-height:26px"> </p> <p style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(102,102,102); font-size:16px; line-height:26px; font-family:Arial"> MOCK_METHOD#1(#2, #3(#4) )</p> <p style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(102,102,102); font-size:16px; line-height:26px; font-family:Arial"> #2是你要mock的方法名称！#1表示你要mock的方法共有几个参数，#4是这个方法具体的参数，#3表示这个方法的返回值类型。</p> <p style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(102,102,102); font-size:16px; line-height:26px; font-family:Arial"> 很简单不是？！</p> <p style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(102,102,102); font-size:16px; line-height:26px; font-family:Arial"> <br style="word-wrap:break-word; padding:0px; margin:0px"> </p> <p style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(102,102,102); font-size:16px; line-height:26px; font-family:Arial"> b)、如果只关心mock方法的返回值。</p> <p style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(102,102,102); font-size:16px; line-height:26px; font-family:Arial"> 这里用到一个宏ON_CALL。看例子：</p> <p style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(102,102,102); font-size:16px; line-height:26px; font-family:Arial"> </p> 
    <div class="dp-highlighter bg_cpp" style="word-wrap:break-word; color:rgb(102,102,102); line-height:26px; padding:1px 0px 0px; font-family:Consolas,'Courier New',Courier,mono,serif; background-color:rgb(231,229,220); width:1113px; overflow:auto; margin:18px 0px!important"> 
     <div class="bar" style="word-wrap:break-word; padding:0px 0px 0px 45px; margin:0px"> 
      <div class="tools" style="word-wrap:break-word; padding:3px 8px 10px 10px; margin:0px; font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; font-size:9px; line-height:normal; color:silver; background-color:rgb(248,248,248); border-left-width:3px; border-left-style:solid; border-left-color:rgb(108,226,108)"> 
       <span style="word-wrap:break-word; padding:0px; margin:0px">[cpp]</span>  
       <a target="_blank" href="http://blog.csdn.net/russell_tao/article/details/7344739#" class="ViewSource" title="view plain" style="word-wrap:break-word; text-decoration:none; color:rgb(160,160,160); padding:1px; margin:0px 10px 0px 0px; background-color:inherit; border:none; display:inline-block; width:16px; height:16px; text-indent:-2000px" rel="noopener noreferrer">view plain</a> 
       <a target="_blank" href="http://blog.csdn.net/russell_tao/article/details/7344739#" class="CopyToClipboard" title="copy" style="word-wrap:break-word; text-decoration:none; color:rgb(160,160,160); padding:1px; margin:0px 10px 0px 0px; background-color:inherit; border:none; display:inline-block; width:16px; height:16px; text-indent:-2000px" rel="noopener noreferrer">copy</a> 
       <div style="word-wrap:break-word; padding:0px; margin:0px; position:absolute; left:377px; top:2169px; width:18px; height:18px; z-index:99"> 
       </div> 
      </div> 
     </div> 
     <ol start="1" class="dp-cpp" style="word-wrap:break-word; margin:0px 0px 1px 45px!important; padding:0px; list-style:none; border:none; background-color:rgb(255,255,255); color:rgb(92,92,92)"><li class="alt" style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); color:inherit"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">ON_CALL(subObj, readBuf(1000)).WillByDefault(Return(blen));  </span></li></ol> 
    </div> <br style="word-wrap:break-word; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px; line-height:26px; padding:0px; margin:0px"> <span style="color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px; line-height:26px">什么意思呢？再用刚才的解释方法：</span> <p style="word-wrap:break-word; margin-top:5px; margin-bottom:5px; padding-top:0px; padding-bottom:0px; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px; line-height:26px"> </p> <p style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(102,102,102); font-size:16px; line-height:26px; font-family:Arial"> ON_CALL(#1, #2(#3)).WillByDefault(Return(#4));</p> <p style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(102,102,102); font-size:16px; line-height:26px; font-family:Arial"> #1表示mock对象。就像我上面所说，对CSubscriber我定义了一个Mock类，那么就必须生成相应的mock对象，例如：</p> <p style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(102,102,102); font-size:16px; line-height:26px; font-family:Arial"> </p> 
    <div class="dp-highlighter bg_cpp" style="word-wrap:break-word; color:rgb(102,102,102); line-height:26px; padding:1px 0px 0px; font-family:Consolas,'Courier New',Courier,mono,serif; background-color:rgb(231,229,220); width:1113px; overflow:auto; margin:18px 0px!important"> 
     <div class="bar" style="word-wrap:break-word; padding:0px 0px 0px 45px; margin:0px"> 
      <div class="tools" style="word-wrap:break-word; padding:3px 8px 10px 10px; margin:0px; font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; font-size:9px; line-height:normal; color:silver; background-color:rgb(248,248,248); border-left-width:3px; border-left-style:solid; border-left-color:rgb(108,226,108)"> 
       <span style="word-wrap:break-word; padding:0px; margin:0px">[cpp]</span>  
       <a target="_blank" href="http://blog.csdn.net/russell_tao/article/details/7344739#" class="ViewSource" title="view plain" style="word-wrap:break-word; text-decoration:none; color:rgb(160,160,160); padding:1px; margin:0px 10px 0px 0px; background-color:inherit; border:none; display:inline-block; width:16px; height:16px; text-indent:-2000px" rel="noopener noreferrer">view plain</a> 
       <a target="_blank" href="http://blog.csdn.net/russell_tao/article/details/7344739#" class="CopyToClipboard" title="copy" style="word-wrap:break-word; text-decoration:none; color:rgb(160,160,160); padding:1px; margin:0px 10px 0px 0px; background-color:inherit; border:none; display:inline-block; width:16px; height:16px; text-indent:-2000px" rel="noopener noreferrer">copy</a> 
       <div style="word-wrap:break-word; padding:0px; margin:0px; position:absolute; left:377px; top:2360px; width:18px; height:18px; z-index:99"> 
       </div> 
      </div> 
     </div> 
     <ol start="1" class="dp-cpp" style="word-wrap:break-word; margin:0px 0px 1px 45px!important; padding:0px; list-style:none; border:none; background-color:rgb(255,255,255); color:rgb(92,92,92)"><li class="alt" style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); color:inherit"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">MockCSubscriber subObj(5);  </span></li></ol> 
    </div> <br style="word-wrap:break-word; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px; line-height:26px; padding:0px; margin:0px"> <span style="color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px; line-height:26px">#2表示想定义的那个方法名称。上例中我想定义readBuf这个方法的返回值。</span> <p style="word-wrap:break-word; margin-top:5px; margin-bottom:5px; padding-top:0px; padding-bottom:0px; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px; line-height:26px"> </p> <p style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(102,102,102); font-size:16px; line-height:26px; font-family:Arial"> #3表示readBuf方法的参数。这里的1000表示，只有调用CSubscriber::readBuf同时传递参数为1000时，才会用到ON_CALL的定义。</p> <p style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(102,102,102); font-size:16px; line-height:26px; font-family:Arial"> #4表示调用CSubscriber::readBuf同时传递参数为1000时，返回blen这个变量的值。</p> <p style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(102,102,102); font-size:16px; line-height:26px; font-family:Arial"> <br style="word-wrap:break-word; padding:0px; margin:0px"> </p> <p style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(102,102,102); font-size:16px; line-height:26px; font-family:Arial"> c)、如果还希望mock方法有固定的被调用方式</p> <p style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(102,102,102); font-size:16px; line-height:26px; font-family:Arial"> 这里用到宏EXPECT_CALL，看个例子：</p> <p style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(102,102,102); font-size:16px; line-height:26px; font-family:Arial"> </p> 
    <div class="dp-highlighter bg_cpp" style="word-wrap:break-word; color:rgb(102,102,102); line-height:26px; padding:1px 0px 0px; font-family:Consolas,'Courier New',Courier,mono,serif; background-color:rgb(231,229,220); width:1113px; overflow:auto; margin:18px 0px!important"> 
     <div class="bar" style="word-wrap:break-word; padding:0px 0px 0px 45px; margin:0px"> 
      <div class="tools" style="word-wrap:break-word; padding:3px 8px 10px 10px; margin:0px; font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; font-size:9px; line-height:normal; color:silver; background-color:rgb(248,248,248); border-left-width:3px; border-left-style:solid; border-left-color:rgb(108,226,108)"> 
       <span style="word-wrap:break-word; padding:0px; margin:0px">[cpp]</span>  
       <a target="_blank" href="http://blog.csdn.net/russell_tao/article/details/7344739#" class="ViewSource" title="view plain" style="word-wrap:break-word; text-decoration:none; color:rgb(160,160,160); padding:1px; margin:0px 10px 0px 0px; background-color:inherit; border:none; display:inline-block; width:16px; height:16px; text-indent:-2000px" rel="noopener noreferrer">view plain</a> 
       <a target="_blank" href="http://blog.csdn.net/russell_tao/article/details/7344739#" class="CopyToClipboard" title="copy" style="word-wrap:break-word; text-decoration:none; color:rgb(160,160,160); padding:1px; margin:0px 10px 0px 0px; background-color:inherit; border:none; display:inline-block; width:16px; height:16px; text-indent:-2000px" rel="noopener noreferrer">copy</a> 
       <div style="word-wrap:break-word; padding:0px; margin:0px; position:absolute; left:377px; top:2629px; width:18px; height:18px; z-index:99"> 
       </div> 
      </div> 
     </div> 
     <ol start="1" class="dp-cpp" style="word-wrap:break-word; margin:0px 0px 1px 45px!important; padding:0px; list-style:none; border:none; background-color:rgb(255,255,255); color:rgb(92,92,92)"><li class="alt" style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); color:inherit"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">EXPECT_CALL(subObj, readBuf(1000)).Times(1);  </span></li></ol> 
    </div> <br style="word-wrap:break-word; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px; line-height:26px; padding:0px; margin:0px"> <span style="color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px; line-height:26px">很相似吧?最后的Times表示，只希望readBuf在传递参数为1000时，被调用且仅被调用一次。</span> <p style="word-wrap:break-word; margin-top:5px; margin-bottom:5px; padding-top:0px; padding-bottom:0px; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px; line-height:26px"> </p> <p style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(102,102,102); font-size:16px; line-height:26px; font-family:Arial"> <br style="word-wrap:break-word; padding:0px; margin:0px"> </p> <p style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(102,102,102); font-size:16px; line-height:26px; font-family:Arial"> 其实这些宏有很复杂的用法的，例如：</p> <p style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(102,102,102); font-size:16px; line-height:26px; font-family:Arial"> </p> 
    <div class="dp-highlighter bg_cpp" style="word-wrap:break-word; color:rgb(102,102,102); line-height:26px; padding:1px 0px 0px; font-family:Consolas,'Courier New',Courier,mono,serif; background-color:rgb(231,229,220); width:1113px; overflow:auto; margin:18px 0px!important"> 
     <div class="bar" style="word-wrap:break-word; padding:0px 0px 0px 45px; margin:0px"> 
      <div class="tools" style="word-wrap:break-word; padding:3px 8px 10px 10px; margin:0px; font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; font-size:9px; line-height:normal; color:silver; background-color:rgb(248,248,248); border-left-width:3px; border-left-style:solid; border-left-color:rgb(108,226,108)"> 
       <span style="word-wrap:break-word; padding:0px; margin:0px">[cpp]</span>  
       <a target="_blank" href="http://blog.csdn.net/russell_tao/article/details/7344739#" class="ViewSource" title="view plain" style="word-wrap:break-word; text-decoration:none; color:rgb(160,160,160); padding:1px; margin:0px 10px 0px 0px; background-color:inherit; border:none; display:inline-block; width:16px; height:16px; text-indent:-2000px" rel="noopener noreferrer">view plain</a> 
       <a target="_blank" href="http://blog.csdn.net/russell_tao/article/details/7344739#" class="CopyToClipboard" title="copy" style="word-wrap:break-word; text-decoration:none; color:rgb(160,160,160); padding:1px; margin:0px 10px 0px 0px; background-color:inherit; border:none; display:inline-block; width:16px; height:16px; text-indent:-2000px" rel="noopener noreferrer">copy</a> 
       <div style="word-wrap:break-word; padding:0px; margin:0px; position:absolute; left:377px; top:2820px; width:18px; height:18px; z-index:99"> 
       </div> 
      </div> 
     </div> 
     <ol start="1" class="dp-cpp" style="word-wrap:break-word; margin:0px 0px 1px 45px!important; padding:0px; list-style:none; border:none; background-color:rgb(255,255,255); color:rgb(92,92,92)"><li class="alt" style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); color:inherit"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">EXPECT_CALL(subObj, readBuf(1000))  </span></li><li style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); background-color:rgb(248,248,248)"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">    .Times(5)  </span></li><li class="alt" style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); color:inherit"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">    .WillOnce(Return(100))  </span></li><li style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); background-color:rgb(248,248,248)"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">    .WillOnce(Return(150))  </span></li><li class="alt" style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); color:inherit"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">    .WillRepeatedly(Return(200));  </span></li></ol> 
    </div> <br style="word-wrap:break-word; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px; line-height:26px; padding:0px; margin:0px"> <span style="color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px; line-height:26px">表示，readBuf希望被调用五次，第一次返回100，第二次返回150，后三次返回200。如果不满足，会报错。</span> <p style="word-wrap:break-word; margin-top:5px; margin-bottom:5px; padding-top:0px; padding-bottom:0px; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px; line-height:26px"> </p> <p style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(102,102,102); font-size:16px; line-height:26px; font-family:Arial"> <br style="word-wrap:break-word; padding:0px; margin:0px"> </p> <p style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(102,102,102); font-size:16px; line-height:26px; font-family:Arial"> d)、实际的调用测试</p> <p style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(102,102,102); font-size:16px; line-height:26px; font-family:Arial"> 其实调用跟上篇googletest文章里的测试是一致的，我这里只列下上文的完整用例代码（不包括被测试类的实现代码）：</p> <p style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(102,102,102); font-size:16px; line-height:26px; font-family:Arial"> </p> 
    <div class="dp-highlighter bg_cpp" style="word-wrap:break-word; color:rgb(102,102,102); line-height:26px; padding:1px 0px 0px; font-family:Consolas,'Courier New',Courier,mono,serif; background-color:rgb(231,229,220); width:1113px; overflow:auto; margin:18px 0px!important"> 
     <div class="bar" style="word-wrap:break-word; padding:0px 0px 0px 45px; margin:0px"> 
      <div class="tools" style="word-wrap:break-word; padding:3px 8px 10px 10px; margin:0px; font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; font-size:9px; line-height:normal; color:silver; background-color:rgb(248,248,248); border-left-width:3px; border-left-style:solid; border-left-color:rgb(108,226,108)"> 
       <span style="word-wrap:break-word; padding:0px; margin:0px">[cpp]</span>  
       <a target="_blank" href="http://blog.csdn.net/russell_tao/article/details/7344739#" class="ViewSource" title="view plain" style="word-wrap:break-word; text-decoration:none; color:rgb(160,160,160); padding:1px; margin:0px 10px 0px 0px; background-color:inherit; border:none; display:inline-block; width:16px; height:16px; text-indent:-2000px" rel="noopener noreferrer">view plain</a> 
       <a target="_blank" href="http://blog.csdn.net/russell_tao/article/details/7344739#" class="CopyToClipboard" title="copy" style="word-wrap:break-word; text-decoration:none; color:rgb(160,160,160); padding:1px; margin:0px 10px 0px 0px; background-color:inherit; border:none; display:inline-block; width:16px; height:16px; text-indent:-2000px" rel="noopener noreferrer">copy</a> 
       <div style="word-wrap:break-word; padding:0px; margin:0px; position:absolute; left:377px; top:3109px; width:18px; height:18px; z-index:99"> 
       </div> 
      </div> 
     </div> 
     <ol start="1" class="dp-cpp" style="word-wrap:break-word; margin:0px 0px 1px 45px!important; padding:0px; list-style:none; border:none; background-color:rgb(255,255,255); color:rgb(92,92,92)"><li class="alt" style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); color:inherit"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit"><span class="preprocessor" style="word-wrap:break-word; color:gray; font-weight:bold; padding:0px; margin:0px; border:none; background-color:inherit">#include "gtest/gtest.h"</span><span style="word-wrap:break-word; padding:0px; margin:0px; border:none; background-color:inherit">  </span></span></li><li style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); background-color:rgb(248,248,248)"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit"><span class="preprocessor" style="word-wrap:break-word; color:gray; font-weight:bold; padding:0px; margin:0px; border:none; background-color:inherit">#include "gmock/gmock.h"</span><span style="word-wrap:break-word; padding:0px; margin:0px; border:none; background-color:inherit">  </span></span></li><li class="alt" style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); color:inherit"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit"><span class="preprocessor" style="word-wrap:break-word; color:gray; font-weight:bold; padding:0px; margin:0px; border:none; background-color:inherit">#include "CSubscriber.h"</span><span style="word-wrap:break-word; padding:0px; margin:0px; border:none; background-color:inherit">  </span></span></li><li style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); background-color:rgb(248,248,248)"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit"><span class="preprocessor" style="word-wrap:break-word; color:gray; font-weight:bold; padding:0px; margin:0px; border:none; background-color:inherit">#include "CPublisher.h"</span><span style="word-wrap:break-word; padding:0px; margin:0px; border:none; background-color:inherit">  </span></span></li><li class="alt" style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); color:inherit"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit"><span class="preprocessor" style="word-wrap:break-word; color:gray; font-weight:bold; padding:0px; margin:0px; border:none; background-color:inherit">#include "CSubEventHandler.h"</span><span style="word-wrap:break-word; padding:0px; margin:0px; border:none; background-color:inherit">  </span></span></li><li style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); background-color:rgb(248,248,248)"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit"><span class="preprocessor" style="word-wrap:break-word; color:gray; font-weight:bold; padding:0px; margin:0px; border:none; background-color:inherit">#include "CPubEventHandler.h"</span><span style="word-wrap:break-word; padding:0px; margin:0px; border:none; background-color:inherit">  </span></span></li><li class="alt" style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); color:inherit"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">  </span></li><li style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); background-color:rgb(248,248,248)"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit"><span class="keyword" style="word-wrap:break-word; color:rgb(0,102,153); font-weight:bold; padding:0px; margin:0px; border:none; background-color:inherit">using</span><span style="word-wrap:break-word; padding:0px; margin:0px; border:none; background-color:inherit"> ::testing::AtLeast;  </span></span></li><li class="alt" style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); color:inherit"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit"><span class="keyword" style="word-wrap:break-word; color:rgb(0,102,153); font-weight:bold; padding:0px; margin:0px; border:none; background-color:inherit">using</span><span style="word-wrap:break-word; padding:0px; margin:0px; border:none; background-color:inherit"> testing::Return;  </span></span></li><li style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); background-color:rgb(248,248,248)"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">  </span></li><li class="alt" style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); color:inherit"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">  </span></li><li style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); background-color:rgb(248,248,248)"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit"><span class="keyword" style="word-wrap:break-word; color:rgb(0,102,153); font-weight:bold; padding:0px; margin:0px; border:none; background-color:inherit">class</span><span style="word-wrap:break-word; padding:0px; margin:0px; border:none; background-color:inherit"> MockCSubscriber : </span><span class="keyword" style="word-wrap:break-word; color:rgb(0,102,153); font-weight:bold; padding:0px; margin:0px; border:none; background-color:inherit">public</span><span style="word-wrap:break-word; padding:0px; margin:0px; border:none; background-color:inherit"> CSubscriber  </span></span></li><li class="alt" style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); color:inherit"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">{  </span></li><li style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); background-color:rgb(248,248,248)"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit"><span class="keyword" style="word-wrap:break-word; color:rgb(0,102,153); font-weight:bold; padding:0px; margin:0px; border:none; background-color:inherit">public</span><span style="word-wrap:break-word; padding:0px; margin:0px; border:none; background-color:inherit">:  </span></span></li><li class="alt" style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); color:inherit"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">    MockCSubscriber(<span class="datatypes" style="word-wrap:break-word; color:rgb(46,139,87); font-weight:bold; padding:0px; margin:0px; border:none; background-color:inherit">int</span><span style="word-wrap:break-word; padding:0px; margin:0px; border:none; background-color:inherit"> fd):CSubscriber(fd){}  </span></span></li><li style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); background-color:rgb(248,248,248)"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">    MOCK_METHOD1(readBuf, <span class="datatypes" style="word-wrap:break-word; color:rgb(46,139,87); font-weight:bold; padding:0px; margin:0px; border:none; background-color:inherit">int</span><span style="word-wrap:break-word; padding:0px; margin:0px; border:none; background-color:inherit">(</span><span class="datatypes" style="word-wrap:break-word; color:rgb(46,139,87); font-weight:bold; padding:0px; margin:0px; border:none; background-color:inherit">int</span><span style="word-wrap:break-word; padding:0px; margin:0px; border:none; background-color:inherit"> len));  </span></span></li><li class="alt" style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); color:inherit"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">    MOCK_METHOD1(writeBuf, <span class="datatypes" style="word-wrap:break-word; color:rgb(46,139,87); font-weight:bold; padding:0px; margin:0px; border:none; background-color:inherit">int</span><span style="word-wrap:break-word; padding:0px; margin:0px; border:none; background-color:inherit">(</span><span class="datatypes" style="word-wrap:break-word; color:rgb(46,139,87); font-weight:bold; padding:0px; margin:0px; border:none; background-color:inherit">int</span><span style="word-wrap:break-word; padding:0px; margin:0px; border:none; background-color:inherit"> len));  </span></span></li><li style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); background-color:rgb(248,248,248)"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">    MOCK_METHOD0(closeSock, <span class="keyword" style="word-wrap:break-word; color:rgb(0,102,153); font-weight:bold; padding:0px; margin:0px; border:none; background-color:inherit">void</span><span style="word-wrap:break-word; padding:0px; margin:0px; border:none; background-color:inherit">());  </span></span></li><li class="alt" style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); color:inherit"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">};  </span></li><li style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); background-color:rgb(248,248,248)"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">  </span></li><li class="alt" style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); color:inherit"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit"><span class="keyword" style="word-wrap:break-word; color:rgb(0,102,153); font-weight:bold; padding:0px; margin:0px; border:none; background-color:inherit">class</span><span style="word-wrap:break-word; padding:0px; margin:0px; border:none; background-color:inherit"> MockCPublisher : </span><span class="keyword" style="word-wrap:break-word; color:rgb(0,102,153); font-weight:bold; padding:0px; margin:0px; border:none; background-color:inherit">public</span><span style="word-wrap:break-word; padding:0px; margin:0px; border:none; background-color:inherit"> CPublisher  </span></span></li><li style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); background-color:rgb(248,248,248)"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">{  </span></li><li class="alt" style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); color:inherit"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit"><span class="keyword" style="word-wrap:break-word; color:rgb(0,102,153); font-weight:bold; padding:0px; margin:0px; border:none; background-color:inherit">public</span><span style="word-wrap:break-word; padding:0px; margin:0px; border:none; background-color:inherit">:  </span></span></li><li style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); background-color:rgb(248,248,248)"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">    MockCPublisher(<span class="datatypes" style="word-wrap:break-word; color:rgb(46,139,87); font-weight:bold; padding:0px; margin:0px; border:none; background-color:inherit">int</span><span style="word-wrap:break-word; padding:0px; margin:0px; border:none; background-color:inherit"> fd):CPublisher(fd){}  </span></span></li><li class="alt" style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); color:inherit"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">    MOCK_METHOD1(readBuf, <span class="datatypes" style="word-wrap:break-word; color:rgb(46,139,87); font-weight:bold; padding:0px; margin:0px; border:none; background-color:inherit">int</span><span style="word-wrap:break-word; padding:0px; margin:0px; border:none; background-color:inherit">(</span><span class="datatypes" style="word-wrap:break-word; color:rgb(46,139,87); font-weight:bold; padding:0px; margin:0px; border:none; background-color:inherit">int</span><span style="word-wrap:break-word; padding:0px; margin:0px; border:none; background-color:inherit"> len));  </span></span></li><li style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); background-color:rgb(248,248,248)"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">    MOCK_METHOD1(writeBuf, <span class="datatypes" style="word-wrap:break-word; color:rgb(46,139,87); font-weight:bold; padding:0px; margin:0px; border:none; background-color:inherit">int</span><span style="word-wrap:break-word; padding:0px; margin:0px; border:none; background-color:inherit">(</span><span class="datatypes" style="word-wrap:break-word; color:rgb(46,139,87); font-weight:bold; padding:0px; margin:0px; border:none; background-color:inherit">int</span><span style="word-wrap:break-word; padding:0px; margin:0px; border:none; background-color:inherit"> len));  </span></span></li><li class="alt" style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); color:inherit"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">    MOCK_METHOD0(closeSock, <span class="keyword" style="word-wrap:break-word; color:rgb(0,102,153); font-weight:bold; padding:0px; margin:0px; border:none; background-color:inherit">void</span><span style="word-wrap:break-word; padding:0px; margin:0px; border:none; background-color:inherit">());  </span></span></li><li style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); background-color:rgb(248,248,248)"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">};  </span></li><li class="alt" style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); color:inherit"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">  </span></li><li style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); background-color:rgb(248,248,248)"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">  </span></li><li class="alt" style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); color:inherit"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">TEST(subpubHandler, sub1pub1) {  </span></li><li style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); background-color:rgb(248,248,248)"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">    MockCSubscriber subObj(5);  </span></li><li class="alt" style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); color:inherit"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">    MockCPublisher pubObj(5);  </span></li><li style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); background-color:rgb(248,248,248)"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">  </span></li><li class="alt" style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); color:inherit"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">    subObj.m_iRecvBufLen = 1000;  </span></li><li style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); background-color:rgb(248,248,248)"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">    pubObj.m_iRecvBufLen = 1000;  </span></li><li class="alt" style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); color:inherit"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">  </span></li><li style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); background-color:rgb(248,248,248)"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">    <span class="datatypes" style="word-wrap:break-word; color:rgb(46,139,87); font-weight:bold; padding:0px; margin:0px; border:none; background-color:inherit">char</span><span style="word-wrap:break-word; padding:0px; margin:0px; border:none; background-color:inherit">* pSubscribeBuf = </span><span class="string" style="word-wrap:break-word; color:blue; padding:0px; margin:0px; border:none; background-color:inherit">"GET / HTTP/1.1\r\nobject: /tt/aa\r\ntime: 112\r\n\r\n"</span><span style="word-wrap:break-word; padding:0px; margin:0px; border:none; background-color:inherit">;  </span></span></li><li class="alt" style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); color:inherit"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">    <span class="datatypes" style="word-wrap:break-word; color:rgb(46,139,87); font-weight:bold; padding:0px; margin:0px; border:none; background-color:inherit">char</span><span style="word-wrap:break-word; padding:0px; margin:0px; border:none; background-color:inherit">* pMessageBuf = </span><span class="string" style="word-wrap:break-word; color:blue; padding:0px; margin:0px; border:none; background-color:inherit">"GET / HTTP/1.1\r\nobject: /tt/aa\r\ntime: 112\r\nmessage: tttt\r\n\r\n"</span><span style="word-wrap:break-word; padding:0px; margin:0px; border:none; background-color:inherit">;  </span></span></li><li style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); background-color:rgb(248,248,248)"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">    subObj.m_pRecvBuf = pSubscribeBuf;  </span></li><li class="alt" style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); color:inherit"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">    <span class="datatypes" style="word-wrap:break-word; color:rgb(46,139,87); font-weight:bold; padding:0px; margin:0px; border:none; background-color:inherit">int</span><span style="word-wrap:break-word; padding:0px; margin:0px; border:none; background-color:inherit"> blen = strlen(pSubscribeBuf);  </span></span></li><li style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); background-color:rgb(248,248,248)"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">    subObj.m_iRecvPos = blen;  </span></li><li class="alt" style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); color:inherit"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">  </span></li><li style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); background-color:rgb(248,248,248)"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">    pubObj.m_pRecvBuf = pMessageBuf;  </span></li><li class="alt" style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); color:inherit"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">    <span class="datatypes" style="word-wrap:break-word; color:rgb(46,139,87); font-weight:bold; padding:0px; margin:0px; border:none; background-color:inherit">int</span><span style="word-wrap:break-word; padding:0px; margin:0px; border:none; background-color:inherit"> mlen = strlen(pMessageBuf);  </span></span></li><li style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); background-color:rgb(248,248,248)"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">    pubObj.m_iRecvPos = mlen;  </span></li><li class="alt" style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); color:inherit"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">  </span></li><li style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); background-color:rgb(248,248,248)"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">  </span></li><li class="alt" style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); color:inherit"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">    ON_CALL(subObj, readBuf(1000)).WillByDefault(Return(blen));  </span></li><li style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); background-color:rgb(248,248,248)"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">    ON_CALL(subObj, writeBuf(CEventHandler::InternalError.size())).WillByDefault(Return(0));  </span></li><li class="alt" style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); color:inherit"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">  </span></li><li style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); background-color:rgb(248,248,248)"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">    CSubEventHandler subHandler(NULL);  </span></li><li class="alt" style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); color:inherit"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">    CPubEventHandler pubHandler(NULL);  </span></li><li style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); background-color:rgb(248,248,248)"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">  </span></li><li class="alt" style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); color:inherit"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">    CHashTable ht1(100);  </span></li><li style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); background-color:rgb(248,248,248)"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">    CHashTable ht2(100);  </span></li><li class="alt" style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); color:inherit"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">    subHandler.initial(100, &amp;ht1, &amp;ht2);  </span></li><li style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); background-color:rgb(248,248,248)"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">    pubHandler.initial(100, &amp;ht1, &amp;ht2);  </span></li><li class="alt" style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); color:inherit"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">  </span></li><li style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); background-color:rgb(248,248,248)"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">    EXPECT_CALL(subObj, readBuf(1000)).Times(1);  </span></li><li class="alt" style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); color:inherit"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">    <span class="comment" style="word-wrap:break-word; color:rgb(0,130,0); padding:0px; margin:0px; border:none; background-color:inherit">//EXPECT_CALL(subObj, closeSock()).Times(1);</span><span style="word-wrap:break-word; padding:0px; margin:0px; border:none; background-color:inherit">  </span></span></li><li style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); background-color:rgb(248,248,248)"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">    EXPECT_CALL(subObj, writeBuf(4)).Times(1);  </span></li><li class="alt" style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); color:inherit"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">  </span></li><li style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); background-color:rgb(248,248,248)"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">    EXPECT_TRUE(subHandler.handleRead(&amp;subObj));  </span></li><li class="alt" style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); color:inherit"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">  </span></li><li style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); background-color:rgb(248,248,248)"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">    ON_CALL(pubObj, readBuf(1000)).WillByDefault(Return(mlen));  </span></li><li class="alt" style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); color:inherit"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">    ON_CALL(pubObj, writeBuf(4)).WillByDefault(Return(0));  </span></li><li style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); background-color:rgb(248,248,248)"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">  </span></li><li class="alt" style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); color:inherit"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">    EXPECT_CALL(pubObj, readBuf(1000)).Times(1);  </span></li><li style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); background-color:rgb(248,248,248)"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">    EXPECT_CALL(pubObj, closeSock()).Times(1);  </span></li><li class="alt" style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); color:inherit"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">    EXPECT_CALL(pubObj, writeBuf(CEventHandler::Success.size())).Times(1);  </span></li><li style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); background-color:rgb(248,248,248)"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">  </span></li><li class="alt" style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); color:inherit"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">    EXPECT_TRUE(pubHandler.handleRead(&amp;pubObj));  </span></li><li style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); background-color:rgb(248,248,248)"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">}  </span></li></ol> 
    </div> <br style="word-wrap:break-word; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px; line-height:26px; padding:0px; margin:0px"> <span style="color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px; line-height:26px">CSubscriber的头文件：</span> <p style="word-wrap:break-word; margin-top:5px; margin-bottom:5px; padding-top:0px; padding-bottom:0px; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px; line-height:26px"> </p> <p style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(102,102,102); font-size:16px; line-height:26px; font-family:Arial"> </p> 
    <div class="dp-highlighter bg_cpp" style="word-wrap:break-word; color:rgb(102,102,102); line-height:26px; padding:1px 0px 0px; font-family:Consolas,'Courier New',Courier,mono,serif; background-color:rgb(231,229,220); width:1113px; overflow:auto; margin:18px 0px!important"> 
     <div class="bar" style="word-wrap:break-word; padding:0px 0px 0px 45px; margin:0px"> 
      <div class="tools" style="word-wrap:break-word; padding:3px 8px 10px 10px; margin:0px; font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; font-size:9px; line-height:normal; color:silver; background-color:rgb(248,248,248); border-left-width:3px; border-left-style:solid; border-left-color:rgb(108,226,108)"> 
       <span style="word-wrap:break-word; padding:0px; margin:0px">[cpp]</span>  
       <a target="_blank" href="http://blog.csdn.net/russell_tao/article/details/7344739#" class="ViewSource" title="view plain" style="word-wrap:break-word; text-decoration:none; color:rgb(160,160,160); padding:1px; margin:0px 10px 0px 0px; background-color:inherit; border:none; display:inline-block; width:16px; height:16px; text-indent:-2000px" rel="noopener noreferrer">view plain</a> 
       <a target="_blank" href="http://blog.csdn.net/russell_tao/article/details/7344739#" class="CopyToClipboard" title="copy" style="word-wrap:break-word; text-decoration:none; color:rgb(160,160,160); padding:1px; margin:0px 10px 0px 0px; background-color:inherit; border:none; display:inline-block; width:16px; height:16px; text-indent:-2000px" rel="noopener noreferrer">copy</a> 
       <div style="word-wrap:break-word; padding:0px; margin:0px; position:absolute; left:377px; top:4562px; width:18px; height:18px; z-index:99"> 
       </div> 
      </div> 
     </div> 
     <ol start="1" class="dp-cpp" style="word-wrap:break-word; margin:0px 0px 1px 45px!important; padding:0px; list-style:none; border:none; background-color:rgb(255,255,255); color:rgb(92,92,92)"><li class="alt" style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); color:inherit"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit"><span class="keyword" style="word-wrap:break-word; color:rgb(0,102,153); font-weight:bold; padding:0px; margin:0px; border:none; background-color:inherit">class</span><span style="word-wrap:break-word; padding:0px; margin:0px; border:none; background-color:inherit"> CSubscriber : </span><span class="keyword" style="word-wrap:break-word; color:rgb(0,102,153); font-weight:bold; padding:0px; margin:0px; border:none; background-color:inherit">public</span><span style="word-wrap:break-word; padding:0px; margin:0px; border:none; background-color:inherit"> CBaseConnection, </span><span class="keyword" style="word-wrap:break-word; color:rgb(0,102,153); font-weight:bold; padding:0px; margin:0px; border:none; background-color:inherit">public</span><span style="word-wrap:break-word; padding:0px; margin:0px; border:none; background-color:inherit"> CHashElement  </span></span></li><li style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); background-color:rgb(248,248,248)"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">{  </span></li><li class="alt" style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); color:inherit"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit"><span class="keyword" style="word-wrap:break-word; color:rgb(0,102,153); font-weight:bold; padding:0px; margin:0px; border:none; background-color:inherit">public</span><span style="word-wrap:break-word; padding:0px; margin:0px; border:none; background-color:inherit">:  </span></span></li><li style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); background-color:rgb(248,248,248)"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">    CSubscriber(<span class="datatypes" style="word-wrap:break-word; color:rgb(46,139,87); font-weight:bold; padding:0px; margin:0px; border:none; background-color:inherit">int</span><span style="word-wrap:break-word; padding:0px; margin:0px; border:none; background-color:inherit"> fd);  </span></span></li><li class="alt" style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); color:inherit"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">      </span></li><li style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); background-color:rgb(248,248,248)"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">    <span class="keyword" style="word-wrap:break-word; color:rgb(0,102,153); font-weight:bold; padding:0px; margin:0px; border:none; background-color:inherit">virtual</span><span style="word-wrap:break-word; padding:0px; margin:0px; border:none; background-color:inherit"> ~CSubscriber();  </span></span></li><li class="alt" style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); color:inherit"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">  </span></li><li style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); background-color:rgb(248,248,248)"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">    <span class="datatypes" style="word-wrap:break-word; color:rgb(46,139,87); font-weight:bold; padding:0px; margin:0px; border:none; background-color:inherit">bool</span><span style="word-wrap:break-word; padding:0px; margin:0px; border:none; background-color:inherit"> initial();  </span></span></li><li class="alt" style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); color:inherit"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">  </span></li><li style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); background-color:rgb(248,248,248)"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">    <span class="datatypes" style="word-wrap:break-word; color:rgb(46,139,87); font-weight:bold; padding:0px; margin:0px; border:none; background-color:inherit">bool</span><span style="word-wrap:break-word; padding:0px; margin:0px; border:none; background-color:inherit"> reset();  </span></span></li><li class="alt" style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); color:inherit"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">  </span></li><li style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); background-color:rgb(248,248,248)"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">    <span class="comment" style="word-wrap:break-word; color:rgb(0,130,0); padding:0px; margin:0px; border:none; background-color:inherit">//function return:</span><span style="word-wrap:break-word; padding:0px; margin:0px; border:none; background-color:inherit">  </span></span></li><li class="alt" style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); color:inherit"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">    <span class="comment" style="word-wrap:break-word; color:rgb(0,130,0); padding:0px; margin:0px; border:none; background-color:inherit">//0: means complete read, all elements parsed OK</span><span style="word-wrap:break-word; padding:0px; margin:0px; border:none; background-color:inherit">  </span></span></li><li style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); background-color:rgb(248,248,248)"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">    <span class="comment" style="word-wrap:break-word; color:rgb(0,130,0); padding:0px; margin:0px; border:none; background-color:inherit">//1: means it need recv more buf, not it's not complete</span><span style="word-wrap:break-word; padding:0px; margin:0px; border:none; background-color:inherit">  </span></span></li><li class="alt" style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); color:inherit"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">    <span class="comment" style="word-wrap:break-word; color:rgb(0,130,0); padding:0px; margin:0px; border:none; background-color:inherit">//-1: means the packet is not valid.</span><span style="word-wrap:break-word; padding:0px; margin:0px; border:none; background-color:inherit">  </span></span></li><li style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); background-color:rgb(248,248,248)"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">    <span class="comment" style="word-wrap:break-word; color:rgb(0,130,0); padding:0px; margin:0px; border:none; background-color:inherit">//-2: means connection wrong.</span><span style="word-wrap:break-word; padding:0px; margin:0px; border:none; background-color:inherit">  </span></span></li><li class="alt" style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); color:inherit"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">    <span class="datatypes" style="word-wrap:break-word; color:rgb(46,139,87); font-weight:bold; padding:0px; margin:0px; border:none; background-color:inherit">int</span><span style="word-wrap:break-word; padding:0px; margin:0px; border:none; background-color:inherit"> readPacket();  </span></span></li><li style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); background-color:rgb(248,248,248)"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">  </span></li><li class="alt" style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); color:inherit"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">    <span class="comment" style="word-wrap:break-word; color:rgb(0,130,0); padding:0px; margin:0px; border:none; background-color:inherit">//max send buf length</span><span style="word-wrap:break-word; padding:0px; margin:0px; border:none; background-color:inherit">  </span></span></li><li style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); background-color:rgb(248,248,248)"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">    <span class="keyword" style="word-wrap:break-word; color:rgb(0,102,153); font-weight:bold; padding:0px; margin:0px; border:none; background-color:inherit">static</span><span style="word-wrap:break-word; padding:0px; margin:0px; border:none; background-color:inherit"> </span><span class="datatypes" style="word-wrap:break-word; color:rgb(46,139,87); font-weight:bold; padding:0px; margin:0px; border:none; background-color:inherit">int</span><span style="word-wrap:break-word; padding:0px; margin:0px; border:none; background-color:inherit"> m_iSendBufLen;  </span></span></li><li class="alt" style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); color:inherit"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">  </span></li><li style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); background-color:rgb(248,248,248)"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">    <span class="comment" style="word-wrap:break-word; color:rgb(0,130,0); padding:0px; margin:0px; border:none; background-color:inherit">//max recv buf length</span><span style="word-wrap:break-word; padding:0px; margin:0px; border:none; background-color:inherit">  </span></span></li><li class="alt" style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); color:inherit"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">    <span class="keyword" style="word-wrap:break-word; color:rgb(0,102,153); font-weight:bold; padding:0px; margin:0px; border:none; background-color:inherit">static</span><span style="word-wrap:break-word; padding:0px; margin:0px; border:none; background-color:inherit"> </span><span class="datatypes" style="word-wrap:break-word; color:rgb(46,139,87); font-weight:bold; padding:0px; margin:0px; border:none; background-color:inherit">int</span><span style="word-wrap:break-word; padding:0px; margin:0px; border:none; background-color:inherit"> m_iRecvBufLen;  </span></span></li><li style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); background-color:rgb(248,248,248)"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">  </span></li><li class="alt" style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); color:inherit"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit"><span class="keyword" style="word-wrap:break-word; color:rgb(0,102,153); font-weight:bold; padding:0px; margin:0px; border:none; background-color:inherit">private</span><span style="word-wrap:break-word; padding:0px; margin:0px; border:none; background-color:inherit">:  </span></span></li><li style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); background-color:rgb(248,248,248)"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">    <span class="comment" style="word-wrap:break-word; color:rgb(0,130,0); padding:0px; margin:0px; border:none; background-color:inherit">/*request format:</span> </span></li><li class="alt" style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); color:inherit"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit"><span class="comment" style="word-wrap:break-word; color:rgb(0,130,0); padding:0px; margin:0px; border:none; background-color:inherit">     * GET /objectname?ts=xxx HTTP/1.x\r\n\r\n*/</span><span style="word-wrap:break-word; padding:0px; margin:0px; border:none; background-color:inherit">  </span></span></li><li style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); background-color:rgb(248,248,248)"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">    <span class="datatypes" style="word-wrap:break-word; color:rgb(46,139,87); font-weight:bold; padding:0px; margin:0px; border:none; background-color:inherit">bool</span><span style="word-wrap:break-word; padding:0px; margin:0px; border:none; background-color:inherit"> parsePacket();  </span></span></li><li class="alt" style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); color:inherit"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">};  </span></li></ol> 
    </div> <br style="word-wrap:break-word; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px; line-height:26px; padding:0px; margin:0px"> <br style="word-wrap:break-word; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px; line-height:26px; padding:0px; margin:0px"> <p style="word-wrap:break-word; margin-top:5px; margin-bottom:5px; padding-top:0px; padding-bottom:0px; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px; line-height:26px"> </p> <p style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(102,102,102); font-size:16px; line-height:26px; font-family:Arial"> e)、main函数的写法</p> <p style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(102,102,102); font-size:16px; line-height:26px; font-family:Arial"> 与gtest相同，唯一的区别是初始化参数，如下：</p> <p id="" style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(102,102,102); font-size:16px; line-height:26px; font-family:Arial"> </p> 
    <div class="dp-highlighter bg_cpp" style="word-wrap:break-word; color:rgb(102,102,102); line-height:26px; padding:1px 0px 0px; font-family:Consolas,'Courier New',Courier,mono,serif; background-color:rgb(231,229,220); width:1113px; overflow:auto; margin:18px 0px!important"> 
     <div class="bar" style="word-wrap:break-word; padding:0px 0px 0px 45px; margin:0px"> 
      <div class="tools" style="word-wrap:break-word; padding:3px 8px 10px 10px; margin:0px; font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; font-size:9px; line-height:normal; color:silver; background-color:rgb(248,248,248); border-left-width:3px; border-left-style:solid; border-left-color:rgb(108,226,108)"> 
       <span style="word-wrap:break-word; padding:0px; margin:0px">[cpp]</span>  
       <a target="_blank" href="http://blog.csdn.net/russell_tao/article/details/7344739#" class="ViewSource" title="view plain" style="word-wrap:break-word; text-decoration:none; color:rgb(160,160,160); padding:1px; margin:0px 10px 0px 0px; background-color:inherit; border:none; display:inline-block; width:16px; height:16px; text-indent:-2000px" rel="noopener noreferrer">view plain</a> 
       <a target="_blank" href="http://blog.csdn.net/russell_tao/article/details/7344739#" class="CopyToClipboard" title="copy" style="word-wrap:break-word; text-decoration:none; color:rgb(160,160,160); padding:1px; margin:0px 10px 0px 0px; background-color:inherit; border:none; display:inline-block; width:16px; height:16px; text-indent:-2000px" rel="noopener noreferrer">copy</a> 
       <div style="word-wrap:break-word; padding:0px; margin:0px; position:absolute; left:377px; top:5257px; width:18px; height:18px; z-index:99"> 
       </div> 
      </div> 
     </div> 
     <ol start="1" class="dp-cpp" style="word-wrap:break-word; margin:0px 0px 1px 45px!important; padding:0px; list-style:none; border:none; background-color:rgb(255,255,255); color:rgb(92,92,92)"><li class="alt" id="aeaoofnhgocdbnbeljkmbjdmhbcokfdb-mousedown" style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); color:inherit"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit"><span class="preprocessor" style="word-wrap:break-word; color:gray; font-weight:bold; padding:0px; margin:0px; border:none; background-color:inherit">#include &lt;gmock/gmock.h&gt;</span><span style="word-wrap:break-word; padding:0px; margin:0px; border:none; background-color:inherit">  </span></span></li><li style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); background-color:rgb(248,248,248)"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">  </span></li><li class="alt" style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); color:inherit"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit"><span class="datatypes" style="word-wrap:break-word; color:rgb(46,139,87); font-weight:bold; padding:0px; margin:0px; border:none; background-color:inherit">int</span><span style="word-wrap:break-word; padding:0px; margin:0px; border:none; background-color:inherit"> main(</span><span class="datatypes" style="word-wrap:break-word; color:rgb(46,139,87); font-weight:bold; padding:0px; margin:0px; border:none; background-color:inherit">int</span><span style="word-wrap:break-word; padding:0px; margin:0px; border:none; background-color:inherit"> argc, </span><span class="datatypes" style="word-wrap:break-word; color:rgb(46,139,87); font-weight:bold; padding:0px; margin:0px; border:none; background-color:inherit">char</span><span style="word-wrap:break-word; padding:0px; margin:0px; border:none; background-color:inherit">** argv) {  </span></span></li><li style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); background-color:rgb(248,248,248)"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">    testing::InitGoogleMock(&amp;argc, argv);  </span></li><li class="alt" style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); color:inherit"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">    <span class="comment" style="word-wrap:break-word; color:rgb(0,130,0); padding:0px; margin:0px; border:none; background-color:inherit">//testing::InitGoogleTest(&amp;argc, argv);</span><span style="word-wrap:break-word; padding:0px; margin:0px; border:none; background-color:inherit">  </span></span></li><li style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); background-color:rgb(248,248,248)"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">  </span></li><li class="alt" style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); color:inherit"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">    <span class="comment" style="word-wrap:break-word; color:rgb(0,130,0); padding:0px; margin:0px; border:none; background-color:inherit">// Runs all tests using Google Test.</span><span style="word-wrap:break-word; padding:0px; margin:0px; border:none; background-color:inherit">  </span></span></li><li style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); background-color:rgb(248,248,248)"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">    <span class="keyword" style="word-wrap:break-word; color:rgb(0,102,153); font-weight:bold; padding:0px; margin:0px; border:none; background-color:inherit">return</span><span style="word-wrap:break-word; padding:0px; margin:0px; border:none; background-color:inherit"> RUN_ALL_TESTS();  </span></span></li><li class="alt" style="word-wrap:break-word; margin:0px!important; padding:0px 3px 0px 10px!important; list-style:decimal-leading-zero outside; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); color:inherit"> <span style="word-wrap:break-word; padding:0px; margin:0px; border:none; color:black; background-color:inherit">}  </span></li></ol> 
    </div> <br style="word-wrap:break-word; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px; line-height:26px; padding:0px; margin:0px"> <span style="color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px; line-height:26px">如此，就可以完整的使用googletest/googlemock做C++工程的单元测试了，确实很简单好用。</span><br> <p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px"> <span style="font-size:32px"><a target="_blank" href="http://code.google.com/p/googlemock/" rel="nofollow noopener noreferrer" style="color:rgb(51,102,153); text-decoration:none">Google Test</a></span></p> <p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px"> <br> </p> <p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px"> 1. 自定义错误输出：</p> <p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px"> </p> <pre class="prettyprint" name="code" style="white-space: pre-wrap; word-wrap: break-word; color: rgb(51, 51, 51); line-height: 26px; background-color: rgb(255, 255, 255); font-size: 13px; padding: 0.5em; overflow: auto; font-family: Monaco, 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono', 'Lucida Console', monospace; max-width: 70em;">&lt;span class="pln"&gt;ASSERT_EQ&lt;/span&gt;&lt;span class="pun" style="color: rgb(102, 102, 0);"&gt;(&lt;/span&gt;&lt;span class="pln"&gt;x&lt;/span&gt;&lt;span class="pun" style="color: rgb(102, 102, 0);"&gt;.&lt;/span&gt;&lt;span class="pln"&gt;size&lt;/span&gt;&lt;span class="pun" style="color: rgb(102, 102, 0);"&gt;(),&lt;/span&gt;&lt;span class="pln"&gt; y&lt;/span&gt;&lt;span class="pun" style="color: rgb(102, 102, 0);"&gt;.&lt;/span&gt;&lt;span class="pln"&gt;size&lt;/span&gt;&lt;span class="pun" style="color: rgb(102, 102, 0);"&gt;())&lt;/span&gt;&lt;span class="pln"&gt; &lt;/span&gt;&lt;span class="pun" style="color: rgb(102, 102, 0);"&gt;&lt;&lt;&lt;/span&gt;&lt;span class="pln"&gt; &lt;/span&gt;&lt;span class="str" style="color: rgb(0, 136, 0);"&gt;"Vectors x and y are of unequal length"&lt;/span&gt;&lt;span class="pun" style="color: rgb(102, 102, 0);"&gt;;&lt;/span&gt;&lt;span class="pln"&gt;

&lt;/span&gt;&lt;span class="kwd" style="color: rgb(0, 0, 136);"&gt;for&lt;/span&gt;&lt;span class="pln"&gt; &lt;/span&gt;&lt;span class="pun" style="color: rgb(102, 102, 0);"&gt;(&lt;/span&gt;&lt;span class="kwd" style="color: rgb(0, 0, 136);"&gt;int&lt;/span&gt;&lt;span class="pln"&gt; i &lt;/span&gt;&lt;span class="pun" style="color: rgb(102, 102, 0);"&gt;=&lt;/span&gt;&lt;span class="pln"&gt; &lt;/span&gt;&lt;span class="lit" style="color: rgb(0, 102, 102);"&gt;0&lt;/span&gt;&lt;span class="pun" style="color: rgb(102, 102, 0);"&gt;;&lt;/span&gt;&lt;span class="pln"&gt; i &lt;/span&gt;&lt;span class="pun" style="color: rgb(102, 102, 0);"&gt;&lt;&lt;/span&gt;&lt;span class="pln"&gt; x&lt;/span&gt;&lt;span class="pun" style="color: rgb(102, 102, 0);"&gt;.&lt;/span&gt;&lt;span class="pln"&gt;size&lt;/span&gt;&lt;span class="pun" style="color: rgb(102, 102, 0);"&gt;();&lt;/span&gt;&lt;span class="pln"&gt; &lt;/span&gt;&lt;span class="pun" style="color: rgb(102, 102, 0);"&gt;++&lt;/span&gt;&lt;span class="pln"&gt;i&lt;/span&gt;&lt;span class="pun" style="color: rgb(102, 102, 0);"&gt;)&lt;/span&gt;&lt;span class="pln"&gt; &lt;/span&gt;&lt;span class="pun" style="color: rgb(102, 102, 0);"&gt;{&lt;/span&gt;&lt;span class="pln"&gt;
  EXPECT_EQ&lt;/span&gt;&lt;span class="pun" style="color: rgb(102, 102, 0);"&gt;(&lt;/span&gt;&lt;span class="pln"&gt;x&lt;/span&gt;&lt;span class="pun" style="color: rgb(102, 102, 0);"&gt;[&lt;/span&gt;&lt;span class="pln"&gt;i&lt;/span&gt;&lt;span class="pun" style="color: rgb(102, 102, 0);"&gt;],&lt;/span&gt;&lt;span class="pln"&gt; y&lt;/span&gt;&lt;span class="pun" style="color: rgb(102, 102, 0);"&gt;[&lt;/span&gt;&lt;span class="pln"&gt;i&lt;/span&gt;&lt;span class="pun" style="color: rgb(102, 102, 0);"&gt;])&lt;/span&gt;&lt;span class="pln"&gt; &lt;/span&gt;&lt;span class="pun" style="color: rgb(102, 102, 0);"&gt;&lt;&lt;&lt;/span&gt;&lt;span class="pln"&gt; &lt;/span&gt;&lt;span class="str" style="color: rgb(0, 136, 0);"&gt;"Vectors x and y differ at index "&lt;/span&gt;&lt;span class="pln"&gt; &lt;/span&gt;&lt;span class="pun" style="color: rgb(102, 102, 0);"&gt;&lt;&lt;&lt;/span&gt;&lt;span class="pln"&gt; i&lt;/span&gt;&lt;span class="pun" style="color: rgb(102, 102, 0);"&gt;;&lt;/span&gt;&lt;span class="pln"&gt;
&lt;/span&gt;&lt;span class="pun" style="color: rgb(102, 102, 0);"&gt;}&lt;/span&gt;</pre><br style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px"> <p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px"> </p> <p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px"> 2. ASSERT_* 与EXPECT_*系列的区别：</p> <p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px"> </p> 
    <table border="1" width="800" cellspacing="1" cellpadding="1" style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px"><tbody><tr><td><tt style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono','Lucida Console',monospace; font-size:13px; max-width:66em">ASSERT_TRUE(</tt><em>condition</em><tt style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono','Lucida Console',monospace; font-size:13px; max-width:66em">)</tt></td><td><tt style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono','Lucida Console',monospace; font-size:13px; max-width:66em">ASSERT_FALSE(</tt><em>condition</em><tt style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono','Lucida Console',monospace; font-size:13px; max-width:66em">)</tt></td><td><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono','Lucida Console',monospace">ASSERT失败导致当前case终止</span></td></tr><tr><td><tt style="font-size:13px; font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono','Lucida Console',monospace; max-width:66em">EXPECT_TRUE(</tt><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono','Lucida Console',monospace; font-size:13px"><em>condition</em></span><tt style="font-size:13px; font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono','Lucida Console',monospace; max-width:66em">)</tt></td><td><tt style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono','Lucida Console',monospace; font-size:13px; max-width:66em">EXPECT_FALSE(</tt><em>condition</em><tt style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono','Lucida Console',monospace; font-size:13px; max-width:66em">)</tt></td><td>EXPECT失败，打印错误，并继续执行当前case</td></tr></tbody></table> <span style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px">在GTest中，二者的称呼为：Fatal assertion， Nonfatal assertion</span> <p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px"> </p> <p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px"> 什么时候用ASSERT，什么时候用EXPECT呢？一般性的原则是，当你希望程序出错后继续运行，以便让代码暴露出更多的潜在错误的时候，使用EXPECT。当你认为某处出错后继续运行没有意义的时候，使用ASSERT。例如，某个对象如果为NULL，后面对它的引用会导致null pointer error，那么最好还是用ASSERT_NE(NULL, obj)。</p> <p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px"> <br> </p> <p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px"> <br> </p> <p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px"> <br> </p> <p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px"> 3. 比较运算符</p> <p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px"> ASSERT_*, EXPECT_*都有：</p> <p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px"> ASSERT_EQ， ASSERT_NE，ASSERT_LT，ASSERT_GT，ASSERT_LE，ASSERT_GE</p> <p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px"> EXPECT_EQ， EXPECT_NE，EXPECT_LT，EXPECT_GT，EXPECT_LE，EXPECT_GE<br> <span style="font-family:arial,sans-serif; font-size:12px"><br> </span></p> <p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px"> <span style="font-family:arial,sans-serif; font-size:12px">另外，GTEST还支持STRING的比较。相关函数有（以ASSERT为例）</span></p> <p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px"> <span style="font-family:arial,sans-serif; font-size:12px">ASSERT_STREQ，ASSERT_STRNE，ASSERT_STRCASEEQ，ASSERT_STRCASENE</span></p> <p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px"> <br> </p> <p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px"> 4. TEST与TEST_F之间的区别</p> <p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px"> TEST_F比TEST强一些的地方在于TEST_F实际上会生成一个新类，该类有SetUp和TearDown函数用于建立和销毁数据结构。</p> <p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px"> 同一个TestCase文件中不能混合使用TEST与TEST_F。<br> </p> <p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px"> </p> <p style="color:rgb(51,51,51); line-height:1.25em; max-width:64em; font-family:arial,sans-serif; font-size:13px"> For each test defined with <tt style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono','Lucida Console',monospace; max-width:66em">TEST_F()</tt>, Google Test will:</p> 
    <ol style="color:rgb(51,51,51); line-height:26px; padding-left:25px; max-width:62em; font-family:arial,sans-serif; font-size:13px"><li style="margin-bottom:0.3em">Create a <em>fresh</em> test fixture at runtime</li><li style="margin-bottom:0.3em">Immediately initialize it via <tt style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono','Lucida Console',monospace; max-width:66em">SetUp()</tt> ,</li><li style="margin-bottom:0.3em">Run the test</li><li style="margin-bottom:0.3em">Clean up by calling <tt style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono','Lucida Console',monospace; max-width:66em">TearDown()</tt></li><li style="margin-bottom:0.3em">Delete the test fixture. Note that different tests in the same test case have different test fixture objects, and Google Test always deletes a test fixture before it creates the next one. Google Test does not reuse the same test fixture for multiple tests. Any changes one test makes to the fixture do not affect other tests.</li></ol> <p style="color:rgb(51,51,51); line-height:1.25em; max-width:64em; font-family:arial,sans-serif; font-size:13px"> </p> <p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px"> <br> </p> <p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px"> <span style="font-size:32px"><a target="_blank" href="http://code.google.com/p/googlemock/" rel="nofollow noopener noreferrer" style="color:rgb(51,102,153); text-decoration:none">Google Mock</a></span></p> <p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px"> GoogleMock是个很强大的东西，测试一个模块的时候，可能涉及到和其他模块交互，可以将模块之间的接口mock起来，模拟交互过程。</p> <p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px"> <br> </p> <p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px"> 1. Makefile里面需要加入 -lgmock才能正常连接</p> <p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px"> </p> 
    <div class="dp-highlighter bg_cpp" style="font-family:Consolas,'Courier New',Courier,mono,serif; background-color:rgb(231,229,220); width:700.90625px; overflow:auto; padding-top:1px; color:rgb(51,51,51); line-height:26px; margin:18px 0px!important"> 
     <div class="bar" style="padding-left:45px"> 
      <div class="tools" style="padding:3px 8px 10px 10px; font-size:9px; line-height:normal; font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; color:silver; background-color:rgb(248,248,248); border-left-width:3px; border-left-style:solid; border-left-color:rgb(108,226,108)"> 
       <strong>[cpp]</strong>  
       <a target="_blank" href="http://blog.csdn.net/maray/article/details/7750617#" class="ViewSource" title="view plain" style="color:rgb(160,160,160); text-decoration:none; background-color:inherit; border:none; padding:1px; margin:0px 10px 0px 0px; display:inline-block; width:16px; height:16px; text-indent:-2000px" rel="noopener noreferrer">view plain</a> 
       <a target="_blank" href="http://blog.csdn.net/maray/article/details/7750617#" class="CopyToClipboard" title="copy" style="color:rgb(160,160,160); text-decoration:none; background-color:inherit; border:none; padding:1px; margin:0px 10px 0px 0px; display:inline-block; width:16px; height:16px; text-indent:-2000px" rel="noopener noreferrer">copy</a> 
       <div style="position:absolute; left:449px; top:2013px; width:18px; height:18px; z-index:99"> 
       </div> 
      </div> 
     </div> 
     <ol start="1" class="dp-cpp" style="padding:0px; border:none; list-style-position:initial; background-color:rgb(255,255,255); color:rgb(92,92,92); margin:0px 0px 1px 45px!important"><li class="alt" style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; color:inherit; line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important"> <span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit"><span style="margin:0px; padding:0px; border:none; background-color:inherit">AM_LDFLAGS=-lpthread -lc -lm -lrt -lgtest -lgmock   </span></span></li></ol> 
    </div> <br style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px"> <br style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px"> <p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px"> </p> <p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px"> 2. 可以手工生成Mock类，也可以使用脚本生成</p> <p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px"> <strong>手工：</strong></p> <p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px"> <strong><br> </strong></p> <p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px"> </p> 
    <div class="dp-highlighter bg_cpp" style="font-family:Consolas,'Courier New',Courier,mono,serif; background-color:rgb(231,229,220); width:700.90625px; overflow:auto; padding-top:1px; color:rgb(51,51,51); line-height:26px; margin:18px 0px!important"> 
     <div class="bar" style="padding-left:45px"> 
      <div class="tools" style="padding:3px 8px 10px 10px; font-size:9px; line-height:normal; font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; color:silver; background-color:rgb(248,248,248); border-left-width:3px; border-left-style:solid; border-left-color:rgb(108,226,108)"> 
       <strong>[cpp]</strong>  
       <a target="_blank" href="http://blog.csdn.net/maray/article/details/7750617#" class="ViewSource" title="view plain" style="color:rgb(160,160,160); text-decoration:none; background-color:inherit; border:none; padding:1px; margin:0px 10px 0px 0px; display:inline-block; width:16px; height:16px; text-indent:-2000px" rel="noopener noreferrer">view plain</a> 
       <a target="_blank" href="http://blog.csdn.net/maray/article/details/7750617#" class="CopyToClipboard" title="copy" style="color:rgb(160,160,160); text-decoration:none; background-color:inherit; border:none; padding:1px; margin:0px 10px 0px 0px; display:inline-block; width:16px; height:16px; text-indent:-2000px" rel="noopener noreferrer">copy</a> 
       <div style="position:absolute; left:449px; top:2272px; width:18px; height:18px; z-index:99"> 
       </div> 
      </div> 
     </div> 
     <ol start="1" class="dp-cpp" style="padding:0px; border:none; list-style-position:initial; background-color:rgb(255,255,255); color:rgb(92,92,92); margin:0px 0px 1px 45px!important"><li class="alt" style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; color:inherit; line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important"> <span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit"><span class="keyword" style="margin:0px; padding:0px; border:none; color:rgb(0,102,153); background-color:inherit; font-weight:bold">class</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> ObProject: </span><span class="keyword" style="margin:0px; padding:0px; border:none; color:rgb(0,102,153); background-color:inherit; font-weight:bold">public</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> ObSingleChildPhyOperator  </span></span></li><li style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; background-color:rgb(248,248,248); line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important"> <span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">{     </span></li><li class="alt" style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; color:inherit; line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important"> <span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">   <span class="keyword" style="margin:0px; padding:0px; border:none; color:rgb(0,102,153); background-color:inherit; font-weight:bold">public</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">:  </span></span></li><li style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; background-color:rgb(248,248,248); line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important"> <span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">        ObProject();  </span></li><li class="alt" style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; color:inherit; line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important"> <span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">        <span class="keyword" style="margin:0px; padding:0px; border:none; color:rgb(0,102,153); background-color:inherit; font-weight:bold">virtual</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> ~ObProject();  </span></span></li><li style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; background-color:rgb(248,248,248); line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important"> <span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">        <span class="keyword" style="margin:0px; padding:0px; border:none; color:rgb(0,102,153); background-color:inherit; font-weight:bold">void</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> reset(){};  </span></span></li><li class="alt" style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; color:inherit; line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important"> <span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">  </span></li><li style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; background-color:rgb(248,248,248); line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important"> <span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">  </span></li><li class="alt" style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; color:inherit; line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important"> <span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">        <span class="datatypes" style="margin:0px; padding:0px; border:none; color:rgb(46,139,87); background-color:inherit; font-weight:bold">int</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> add_output_column(</span><span class="keyword" style="margin:0px; padding:0px; border:none; color:rgb(0,102,153); background-color:inherit; font-weight:bold">const</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> ObSqlExpression&amp; expr);  </span></span></li><li style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; background-color:rgb(248,248,248); line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important"> <span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">        <span class="keyword" style="margin:0px; padding:0px; border:none; color:rgb(0,102,153); background-color:inherit; font-weight:bold">virtual</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> </span><span class="datatypes" style="margin:0px; padding:0px; border:none; color:rgb(46,139,87); background-color:inherit; font-weight:bold">int</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> open();  </span></span></li><li class="alt" style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; color:inherit; line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important"> <span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">        <span class="keyword" style="margin:0px; padding:0px; border:none; color:rgb(0,102,153); background-color:inherit; font-weight:bold">virtual</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> </span><span class="datatypes" style="margin:0px; padding:0px; border:none; color:rgb(46,139,87); background-color:inherit; font-weight:bold">int</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> close();  </span></span></li><li style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; background-color:rgb(248,248,248); line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important"> <span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">        <span class="keyword" style="margin:0px; padding:0px; border:none; color:rgb(0,102,153); background-color:inherit; font-weight:bold">virtual</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> </span><span class="datatypes" style="margin:0px; padding:0px; border:none; color:rgb(46,139,87); background-color:inherit; font-weight:bold">int</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> get_next_row(</span><span class="keyword" style="margin:0px; padding:0px; border:none; color:rgb(0,102,153); background-color:inherit; font-weight:bold">const</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> common::ObRow *&amp;row);  </span></span></li><li class="alt" style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; color:inherit; line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important"> <span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">        <span class="keyword" style="margin:0px; padding:0px; border:none; color:rgb(0,102,153); background-color:inherit; font-weight:bold">virtual</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> int64_t to_string(</span><span class="datatypes" style="margin:0px; padding:0px; border:none; color:rgb(46,139,87); background-color:inherit; font-weight:bold">char</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">* buf, </span><span class="keyword" style="margin:0px; padding:0px; border:none; color:rgb(0,102,153); background-color:inherit; font-weight:bold">const</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> int64_t buf_len) </span><span class="keyword" style="margin:0px; padding:0px; border:none; color:rgb(0,102,153); background-color:inherit; font-weight:bold">const</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">;  </span></span></li><li style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; background-color:rgb(248,248,248); line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important"> <span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">        ....  </span></li><li class="alt" style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; color:inherit; line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important"> <span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit"> };  </span></li><li style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; background-color:rgb(248,248,248); line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important"> <span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">  </span></li><li class="alt" style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; color:inherit; line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important"> <span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit"><span class="keyword" style="margin:0px; padding:0px; border:none; color:rgb(0,102,153); background-color:inherit; font-weight:bold">class</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> MockObProject : </span><span class="keyword" style="margin:0px; padding:0px; border:none; color:rgb(0,102,153); background-color:inherit; font-weight:bold">public</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> ObProject  </span></span></li><li style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; background-color:rgb(248,248,248); line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important"> <span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">  </span></li><li class="alt" style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; color:inherit; line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important"> <span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">{  </span></li><li style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; background-color:rgb(248,248,248); line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important"> <span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">  <span class="keyword" style="margin:0px; padding:0px; border:none; color:rgb(0,102,153); background-color:inherit; font-weight:bold">public</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">:  </span></span></li><li class="alt" style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; color:inherit; line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important"> <span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">  MOCK_METHOD0(open, <span class="datatypes" style="margin:0px; padding:0px; border:none; color:rgb(46,139,87); background-color:inherit; font-weight:bold">int</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">());  </span></span></li><li style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; background-color:rgb(248,248,248); line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important"> <span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">  MOCK_METHOD0(close, <span class="datatypes" style="margin:0px; padding:0px; border:none; color:rgb(46,139,87); background-color:inherit; font-weight:bold">int</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">());  </span></span></li><li class="alt" style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; color:inherit; line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important"> <span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">  MOCK_METHOD1(add_output_column, <span class="datatypes" style="margin:0px; padding:0px; border:none; color:rgb(46,139,87); background-color:inherit; font-weight:bold">int</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">(</span><span class="keyword" style="margin:0px; padding:0px; border:none; color:rgb(0,102,153); background-color:inherit; font-weight:bold">const</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> ObSqlExpression &amp;expr));  </span></span></li><li style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; background-color:rgb(248,248,248); line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important"> <span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">};  </span></li></ol> 
    </div> <br style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px"> <span style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px">脚本：</span><span style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px"></span> <p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px"> </p> <p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px"> 需要mock<span style="font-family:monospace"><span style="white-space:pre"> ob_ms_tablet_location_proxy.h中的ObMergerLocationCacheProxy类，方法如下：</span></span></p> <p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px"> </p> 
    <div class="dp-highlighter bg_plain" style="font-family:Consolas,'Courier New',Courier,mono,serif; background-color:rgb(231,229,220); width:700.90625px; overflow:auto; padding-top:1px; color:rgb(51,51,51); line-height:26px; margin:18px 0px!important"> 
     <div class="bar" style="padding-left:45px"> 
      <div class="tools" style="padding:3px 8px 10px 10px; font-size:9px; line-height:normal; font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; color:silver; background-color:rgb(248,248,248); border-left-width:3px; border-left-style:solid; border-left-color:rgb(108,226,108)"> 
       <strong>[plain]</strong>  
       <a target="_blank" href="http://blog.csdn.net/maray/article/details/7750617#" class="ViewSource" title="view plain" style="color:rgb(160,160,160); text-decoration:none; background-color:inherit; border:none; padding:1px; margin:0px 10px 0px 0px; display:inline-block; width:16px; height:16px; text-indent:-2000px" rel="noopener noreferrer">view plain</a> 
       <a target="_blank" href="http://blog.csdn.net/maray/article/details/7750617#" class="CopyToClipboard" title="copy" style="color:rgb(160,160,160); text-decoration:none; background-color:inherit; border:none; padding:1px; margin:0px 10px 0px 0px; display:inline-block; width:16px; height:16px; text-indent:-2000px" rel="noopener noreferrer">copy</a> 
       <div style="position:absolute; left:456px; top:2866px; width:18px; height:18px; z-index:99"> 
       </div> 
      </div> 
     </div> 
     <ol start="1" style="padding:0px; border:none; list-style-position:initial; background-color:rgb(255,255,255); color:rgb(92,92,92); margin:0px 0px 1px 45px!important"><li class="alt" style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; color:inherit; line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important"> <span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit"><span style="margin:0px; padding:0px; border:none; background-color:inherit">gmock_installed_dir/scripts/generator/gmock_gen.py ob_ms_tablet_location_proxy.h ObMergerLocationCacheProxy  </span></span></li></ol> 
    </div> <br style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px"> <span style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px">3. 一个类中，只有virtual的member funciton能被mock（试验得到的结论），调用被mock的member function，function行为变成mocked behavior，调用类中没有被mock的member function，function行为与原类相同，不被mock改变。</span> <p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px"> </p> <p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px"> ps，写了一个简单类，不是virtual居然也能被mock，奇怪。。。。在一个复杂类中，必须是virtual的才能被mock。 这些是实验得到的结论。</p> <p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px"> 从理论上分析，应该必须是virtual才可以。<strong><span style="color:rgb(255,0,0)">所以，确定哪些函数要被mock，然后在头文件中将其virtual化。</span></strong>不然可别说我没有预先告诉你哦；)</p> <p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px"> <br> </p> <p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px"> 4. 一个被Mock的函数，如果没有在EXPECT_CALL中指定expected behavior，系统将会为其指派默认行为（什么都不做，返回0），并且在屏幕上打印WARNING：</p> <p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px"> GMOCK WARNING:<br> Uninteresting mock function call - returning default value.<br>     Function call: get_next_row(@0x7fff51a6b888 0x30c51529e0)<br>           Returns: 0<br> Stack trace:</p> <br> <p><span style="font-size:12px">Content</span></p> </th></tr><tr style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px"><td style="word-wrap:break-word; margin:0px; padding:0px; font-family:Verdana,Helvetica,Arial; font-size:14px; line-height:21px; border:0px; border-collapse:collapse; outline:0px"> 
    <ul style="word-wrap:break-word; margin:0.5em 0px 1.5em 1.5em; padding:0px 0px 0px 20px; list-style:none; border:0px; outline:0px"><li style="word-wrap:break-word; margin:0px; padding:0px; list-style:inherit; border:0px; outline:0px"> <a target="_blank" href="http://qa.alibaba.com/Google-Mock-%E5%85%A5%E9%97%A8#Matcher%EF%BC%88%E5%8C%B9%E9%85%8D%E5%99%A8%EF%BC%89" rel="nofollow noopener noreferrer" style="word-wrap:break-word; text-decoration:none; color:rgb(34,122,209); margin:0px; padding:0px; border:0px; outline:0px">Matcher（匹配器）</a></li><li style="word-wrap:break-word; margin:0px; padding:0px; list-style:inherit; border:0px; outline:0px"> <a target="_blank" href="http://qa.alibaba.com/Google-Mock-%E5%85%A5%E9%97%A8#%E5%9F%BA%E6%95%B0%EF%BC%88Cardinalities%EF%BC%89" rel="nofollow noopener noreferrer" style="word-wrap:break-word; text-decoration:none; color:rgb(34,122,209); margin:0px; padding:0px; border:0px; outline:0px">基数（Cardinalities）</a></li><li style="word-wrap:break-word; margin:0px; padding:0px; list-style:inherit; border:0px; outline:0px"> <a target="_blank" href="http://qa.alibaba.com/Google-Mock-%E5%85%A5%E9%97%A8#%E8%A1%8C%E4%B8%BA%EF%BC%88Actions%EF%BC%89" rel="nofollow noopener noreferrer" style="word-wrap:break-word; text-decoration:none; color:rgb(34,122,209); margin:0px; padding:0px; border:0px; outline:0px">行为（Actions）</a></li><li style="word-wrap:break-word; margin:0px; padding:0px; list-style:inherit; border:0px; outline:0px"> <a target="_blank" href="http://qa.alibaba.com/Google-Mock-%E5%85%A5%E9%97%A8#%E5%BA%8F%E5%88%97%EF%BC%88Sequences%EF%BC%89" rel="nofollow noopener noreferrer" style="word-wrap:break-word; text-decoration:none; color:rgb(34,122,209); margin:0px; padding:0px; border:0px; outline:0px">序列（Sequences）</a></li><li style="word-wrap:break-word; margin:0px; padding:0px; list-style:inherit; border:0px; outline:0px"> <a target="_blank" href="http://qa.alibaba.com/Google-Mock-%E5%85%A5%E9%97%A8#Google-Mock-%E5%85%A5%E9%97%A8" rel="nofollow noopener noreferrer" style="word-wrap:break-word; text-decoration:none; color:rgb(34,122,209); margin:0px; padding:0px; border:0px; outline:0px">Google Mock 入门</a></li><li style="word-wrap:break-word; margin:0px; padding:0px; list-style:inherit; border:0px; outline:0px"> <a target="_blank" href="http://qa.alibaba.com/Google-Mock-%E5%85%A5%E9%97%A8#%E6%A6%82%E8%BF%B0" rel="nofollow noopener noreferrer" style="word-wrap:break-word; text-decoration:none; color:rgb(34,122,209); margin:0px; padding:0px; border:0px; outline:0px">概述</a></li><li style="word-wrap:break-word; margin:0px; padding:0px; list-style:inherit; border:0px; outline:0px"> <a target="_blank" href="http://qa.alibaba.com/Google-Mock-%E5%85%A5%E9%97%A8#Google-Mock%E4%BD%BF%E7%94%A8" rel="nofollow noopener noreferrer" style="word-wrap:break-word; text-decoration:none; color:rgb(34,122,209); margin:0px; padding:0px; border:0px; outline:0px">Google Mock使用</a></li><li style="word-wrap:break-word; margin:0px; padding:0px; list-style:inherit; border:0px; outline:0px"> <a target="_blank" href="http://qa.alibaba.com/Google-Mock-%E5%85%A5%E9%97%A8#Mock%E5%AE%9E%E8%B7%B5" rel="nofollow noopener noreferrer" style="word-wrap:break-word; text-decoration:none; color:rgb(34,122,209); margin:0px; padding:0px; border:0px; outline:0px">Mock实践</a></li><li style="word-wrap:break-word; margin:0px; padding:0px; list-style:inherit; border:0px; outline:0px"> <a target="_blank" href="http://qa.alibaba.com/Google-Mock-%E5%85%A5%E9%97%A8#Google-Mock-Cookbook" rel="nofollow noopener noreferrer" style="word-wrap:break-word; text-decoration:none; color:rgb(34,122,209); margin:0px; padding:0px; border:0px; outline:0px">Google Mock Cookbook</a></li><li style="word-wrap:break-word; margin:0px; padding:0px; list-style:inherit; border:0px; outline:0px"> <a target="_blank" href="http://qa.alibaba.com/Google-Mock-%E5%85%A5%E9%97%A8#%E4%BB%80%E4%B9%88%E6%98%AFMock" rel="nofollow noopener noreferrer" style="word-wrap:break-word; text-decoration:none; color:rgb(34,122,209); margin:0px; padding:0px; border:0px; outline:0px">什么是Mock?</a></li><li style="word-wrap:break-word; margin:0px; padding:0px; list-style:inherit; border:0px; outline:0px"> <a target="_blank" href="http://qa.alibaba.com/Google-Mock-%E5%85%A5%E9%97%A8#Google-Mock%E6%A6%82%E8%BF%B0" rel="nofollow noopener noreferrer" style="word-wrap:break-word; text-decoration:none; color:rgb(34,122,209); margin:0px; padding:0px; border:0px; outline:0px">Google Mock概述</a></li><li style="word-wrap:break-word; margin:0px; padding:0px; list-style:inherit; border:0px; outline:0px"> <a target="_blank" href="http://qa.alibaba.com/Google-Mock-%E5%85%A5%E9%97%A8#%E5%8F%82%E8%80%83%E6%96%87%E6%A1%A3" rel="nofollow noopener noreferrer" style="word-wrap:break-word; text-decoration:none; color:rgb(34,122,209); margin:0px; padding:0px; border:0px; outline:0px">参考文档</a></li><li style="word-wrap:break-word; margin:0px; padding:0px; list-style:inherit; border:0px; outline:0px"> <a target="_blank" href="http://qa.alibaba.com/Google-Mock-%E5%85%A5%E9%97%A8#%E6%9C%80%E7%AE%80%E5%8D%95%E7%9A%84%E4%BE%8B%E5%AD%90" rel="nofollow noopener noreferrer" style="word-wrap:break-word; text-decoration:none; color:rgb(34,122,209); margin:0px; padding:0px; border:0px; outline:0px">最简单的例子</a></li><li style="word-wrap:break-word; margin:0px; padding:0px; list-style:inherit; border:0px; outline:0px"> <a target="_blank" href="http://qa.alibaba.com/Google-Mock-%E5%85%A5%E9%97%A8#%E5%85%B8%E5%9E%8B%E7%9A%84%E6%B5%81%E7%A8%8B" rel="nofollow noopener noreferrer" style="word-wrap:break-word; text-decoration:none; color:rgb(34,122,209); margin:0px; padding:0px; border:0px; outline:0px">典型的流程</a></li><li style="word-wrap:break-word; margin:0px; padding:0px; list-style:inherit; border:0px; outline:0px"> <a target="_blank" href="http://qa.alibaba.com/Google-Mock-%E5%85%A5%E9%97%A8#%E8%87%AA%E5%AE%9A%E4%B9%89%E6%96%B9%E6%B3%95%E6%88%90%E5%91%98%E5%87%BD%E6%95%B0%E7%9A%84%E6%9C%9F%E6%9C%9B%E8%A1%8C%E4%B8%BA" rel="nofollow noopener noreferrer" style="word-wrap:break-word; text-decoration:none; color:rgb(34,122,209); margin:0px; padding:0px; border:0px; outline:0px">自定义方法/成员函数的期望行为</a></li><li style="word-wrap:break-word; margin:0px; padding:0px; list-style:inherit; border:0px; outline:0px"> <a target="_blank" href="http://qa.alibaba.com/Google-Mock-%E5%85%A5%E9%97%A8#%E6%88%91%E6%94%B9%E8%BF%87%E7%9A%84%E4%BE%8B%E5%AD%90" rel="nofollow noopener noreferrer" style="word-wrap:break-word; text-decoration:none; color:rgb(34,122,209); margin:0px; padding:0px; border:0px; outline:0px">我改过的例子</a></li><li style="word-wrap:break-word; margin:0px; padding:0px; list-style:inherit; border:0px; outline:0px"> <a target="_blank" href="http://qa.alibaba.com/Google-Mock-%E5%85%A5%E9%97%A8#%E7%8E%B0%E5%AE%9E%E4%B8%AD%E7%9A%84%E4%BE%8B%E5%AD%90" rel="nofollow noopener noreferrer" style="word-wrap:break-word; text-decoration:none; color:rgb(34,122,209); margin:0px; padding:0px; border:0px; outline:0px">现实中的例子</a></li><li style="word-wrap:break-word; margin:0px; padding:0px; list-style:inherit; border:0px; outline:0px"> <a target="_blank" href="http://qa.alibaba.com/Google-Mock-%E5%85%A5%E9%97%A8#Mock-protected%E3%80%81private%E6%96%B9%E6%B3%95" rel="nofollow noopener noreferrer" style="word-wrap:break-word; text-decoration:none; color:rgb(34,122,209); margin:0px; padding:0px; border:0px; outline:0px">Mock protected、private方法</a></li><li style="word-wrap:break-word; margin:0px; padding:0px; list-style:inherit; border:0px; outline:0px"> <a target="_blank" href="http://qa.alibaba.com/Google-Mock-%E5%85%A5%E9%97%A8#Mock-%E6%A8%A1%E7%89%88%E7%B1%BB%EF%BC%88Template-Class%EF%BC%89" rel="nofollow noopener noreferrer" style="word-wrap:break-word; text-decoration:none; color:rgb(34,122,209); margin:0px; padding:0px; border:0px; outline:0px">Mock 模版类（Template Class）</a></li><li style="word-wrap:break-word; margin:0px; padding:0px; list-style:inherit; border:0px; outline:0px"> <a target="_blank" href="http://qa.alibaba.com/Google-Mock-%E5%85%A5%E9%97%A8#Nice-Mocks-%E5%92%8C-Strict-Mocks" rel="nofollow noopener noreferrer" style="word-wrap:break-word; text-decoration:none; color:rgb(34,122,209); margin:0px; padding:0px; border:0px; outline:0px">Nice Mocks 和 Strict Mocks</a></li></ul> </td></tr></tbody></table> 
<span style="color:rgb(75,75,75); font-family:'Palatino Linotype','Book Antiqua',Palatino,serif; font-size:14px; line-height:22px">Google Mock 入门概述什么是Mock?</span> 
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; color:rgb(75,75,75); font-size:14px; line-height:22px; border:0px; outline:0px; text-align:justify; font-family:Varela,arial,serif"> Mock，更确切地说应该是Mock Object。它究竟是什么？它有什么作用？在这里，我也只能先说说我的理解。 比如当我们在单元测试、模块的接口测试时，当这个模块需要依赖另外一个/几个类，而这时这些个类还没有开发好（那名开发同学比较懒，呵呵），这时我们就可以定义了Mock对象来模拟那些类的行为。<br style="word-wrap:break-word"> 说得更直白一些，就是自己实现一个假的依赖类，对这个类的方法你想要什么行为就可以有什么行为，你想让这个方法返回什么结果就可以返回怎么样的结果。<br style="word-wrap:break-word"> 但这时很多同学往往会提出一个问题："那既然是我自己实现一个假的依赖类"，那和那些市面上的Mock框架有什么关系啊？<br style="word-wrap:break-word"> 这个其实是这样的，这些个Mock框架可以帮助你比较方便、比较轻松地实现这些个假的依赖类。毕竟，如果你实现这么一个假的依赖类的时间花费过场的话，那我还不如等待那位懒惰的同学吧。</p> 
<span style="color:rgb(75,75,75); font-family:'Palatino Linotype','Book Antiqua',Palatino,serif; font-size:14px; line-height:22px">Google Mock概述</span> 
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; color:rgb(75,75,75); font-size:14px; line-height:22px; border:0px; outline:0px; text-align:justify; font-family:Varela,arial,serif"> <a target="_blank" href="http://code.google.com/p/googlemock/" rel="nofollow noopener noreferrer" style="word-wrap:break-word; text-decoration:none; color:rgb(34,122,209); margin:0px; padding:0px; border:0px; outline:0px">Google Mock</a>（简称<span style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px">gmock</span>）是Google在2008年推出的一套针对C++的Mock框架，它灵感取自于<a target="_blank" href="http://www.jmock.org/" rel="nofollow noopener noreferrer" style="word-wrap:break-word; text-decoration:none; color:rgb(34,122,209); margin:0px; padding:0px; border:0px; outline:0px">jMock</a>、<a target="_blank" href="http://www.easymock.org/" rel="nofollow noopener noreferrer" style="word-wrap:break-word; text-decoration:none; color:rgb(34,122,209); margin:0px; padding:0px; border:0px; outline:0px">EasyMock</a>、<a target="_blank" href="http://code.google.com/p/hamcrest/" rel="nofollow noopener noreferrer" style="word-wrap:break-word; text-decoration:none; color:rgb(34,122,209); margin:0px; padding:0px; border:0px; outline:0px">harcreat</a>。它提供了以下这些特性：</p> 
<ul style="word-wrap:break-word; margin:0.5em 0px 1.5em 1.5em; padding:0px 0px 0px 20px; list-style:none; color:rgb(75,75,75); font-family:'Palatino Linotype','Book Antiqua',Palatino,serif; font-size:14px; line-height:22px; border:0px; outline:0px"><li style="word-wrap:break-word; margin:0px; padding:0px; list-style:inherit; border:0px; outline:0px"> 轻松地创建mock类</li><li style="word-wrap:break-word; margin:0px; padding:0px; list-style:inherit; border:0px; outline:0px"> 支持丰富的匹配器（Matcher）和行为（Action）</li><li style="word-wrap:break-word; margin:0px; padding:0px; list-style:inherit; border:0px; outline:0px"> 支持有序、无序、部分有序的期望行为的定义</li><li style="word-wrap:break-word; margin:0px; padding:0px; list-style:inherit; border:0px; outline:0px"> 多平台的支持</li></ul> 
<span style="color:rgb(75,75,75); font-family:'Palatino Linotype','Book Antiqua',Palatino,serif; font-size:14px; line-height:22px">参考文档</span> 
<ul style="word-wrap:break-word; margin:0.5em 0px 1.5em 1.5em; padding:0px 0px 0px 20px; list-style:none; color:rgb(75,75,75); font-family:'Palatino Linotype','Book Antiqua',Palatino,serif; font-size:14px; line-height:22px; border:0px; outline:0px"><li style="word-wrap:break-word; margin:0px; padding:0px; list-style:inherit; border:0px; outline:0px"> <a target="_blank" href="http://code.google.com/p/googlemock/wiki/CookBook" rel="nofollow noopener noreferrer" style="word-wrap:break-word; text-decoration:none; color:rgb(34,122,209); margin:0px; padding:0px; border:0px; outline:0px">新人手册</a></li><li style="word-wrap:break-word; margin:0px; padding:0px; list-style:inherit; border:0px; outline:0px"> <a target="_blank" href="http://code.google.com/p/googlemock/wiki/CheatSheet" rel="nofollow noopener noreferrer" style="word-wrap:break-word; text-decoration:none; color:rgb(34,122,209); margin:0px; padding:0px; border:0px; outline:0px">Cheat Sheet</a></li><li style="word-wrap:break-word; margin:0px; padding:0px; list-style:inherit; border:0px; outline:0px"> <a target="_blank" href="http://www.cppprog.com/2009/0410/103.html" rel="nofollow noopener noreferrer" style="word-wrap:break-word; text-decoration:none; color:rgb(34,122,209); margin:0px; padding:0px; border:0px; outline:0px">Cheat Sheet中文翻译</a></li><li style="word-wrap:break-word; margin:0px; padding:0px; list-style:inherit; border:0px; outline:0px"> <a target="_blank" href="http://code.google.com/p/googlemock/wiki/CookBook" rel="nofollow noopener noreferrer" style="word-wrap:break-word; text-decoration:none; color:rgb(34,122,209); margin:0px; padding:0px; border:0px; outline:0px">Cookbook</a></li></ul> 
<span style="color:rgb(75,75,75); font-family:'Palatino Linotype','Book Antiqua',Palatino,serif; font-size:14px; line-height:22px">Google Mock使用最简单的例子</span> 
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; color:rgb(75,75,75); font-size:14px; line-height:22px; border:0px; outline:0px; text-align:justify; font-family:Varela,arial,serif"> 我比较喜欢举例来说明这些个、那些个玩意，因此我们先来看看Google Mock就简单的用法和作用。</p> 
<ul style="word-wrap:break-word; margin:0.5em 0px 1.5em 1.5em; padding:0px 0px 0px 20px; list-style:none; color:rgb(75,75,75); font-family:'Palatino Linotype','Book Antiqua',Palatino,serif; font-size:14px; line-height:22px; border:0px; outline:0px"><li style="word-wrap:break-word; margin:0px; padding:0px; list-style:inherit; border:0px; outline:0px"> 首先，那个懒惰的同学已经定义好了这么一个接口（万幸，他至少把接口定义好了）：</li></ul> 
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; color:rgb(75,75,75); font-size:14px; line-height:22px; border:0px; outline:0px; text-align:justify; font-family:Varela,arial,serif"> <span style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px">FooInterface.h</span></p> 
<ol class="linenums" style="word-wrap:break-word; margin:0px 0px 0px 1.5em; padding:0px 0px 0px 20px; list-style:none; color:rgb(75,75,75); font-family:'Palatino Linotype','Book Antiqua',Palatino,serif; font-size:14px; line-height:22px; border:0px; outline:0px"><li class="L0" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">#ifndef</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> FOOINTERFACE_H_</span><br style="word-wrap:break-word"> </li><li class="L1" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">#define</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> FOOINTERFACE_H_</span><br style="word-wrap:break-word"> </li><li class="L2" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L3" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">#include</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="str" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,136,0)">&lt;string&gt;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L4" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L5" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">namespace</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> seamless </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">{<!-- --></span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L6" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L7" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">class</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">FooInterface</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">{<!-- --></span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L8" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">public</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">:</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L9" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        </span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">virtual</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">~</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">FooInterface</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">()</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">{}</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L0" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L1" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">public</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">:</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L2" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        </span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">virtual</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> std</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">::</span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">string</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> getArbitraryString</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">()</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">=</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="lit" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,102,102)">0</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L3" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">};</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L4" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L5" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">}</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">  </span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">// namespace seamless</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L6" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L7" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">#endif</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">// FOOINTERFACE_H_</span></li></ol> 
<div class="tipMacro" style="word-wrap:break-word; color:rgb(75,75,75); font-family:'Palatino Linotype','Book Antiqua',Palatino,serif; font-size:14px; line-height:22px; margin:5px 20px; padding:10px; border:1px solid rgb(0,0,255); outline:0px; background-color:rgb(135,206,250)">
  这里需要注意几点： 
 <p style="word-wrap:break-word; margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; border:0px; outline:0px; text-align:justify; font-family:Varela,arial,serif"> </p> 
 <ul style="word-wrap:break-word; margin:0.5em 0px 1.5em 1.5em; padding:0px 0px 0px 20px; list-style:none; border:0px; outline:0px"><li style="word-wrap:break-word; margin:0px; padding:0px; list-style:inherit; border:0px; outline:0px"> FooInterface的析构函数~FooInterface()必须是virtual的</li><li style="word-wrap:break-word; margin:0px; padding:0px; list-style:inherit; border:0px; outline:0px"> 在第13行，我们得把getArbitraryString定义为纯虚函数。其实getArbitraryString()也不一定得是纯虚函数，这点我们后面会提到.</li></ul> 
</div> 
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; color:rgb(75,75,75); font-size:14px; line-height:22px; border:0px; outline:0px; text-align:justify; font-family:Varela,arial,serif"> 现在我们用Google Mock来定义Mock类 <span style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px">FooMock.h</span></p> 
<ol class="linenums" style="word-wrap:break-word; margin:0px 0px 0px 1.5em; padding:0px 0px 0px 20px; list-style:none; color:rgb(75,75,75); font-family:'Palatino Linotype','Book Antiqua',Palatino,serif; font-size:14px; line-height:22px; border:0px; outline:0px"><li class="L0" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">#ifndef</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> MOCKFOO_H_</span><br style="word-wrap:break-word"> </li><li class="L1" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">#define</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> MOCKFOO_H_</span><br style="word-wrap:break-word"> </li><li class="L2" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L3" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">#include</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="str" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,136,0)">&lt;gmock/gmock.h&gt;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L4" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">#include</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="str" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,136,0)">&lt;string&gt;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L5" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">#include</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="str" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,136,0)">"FooInterface.h"</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L6" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L7" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">namespace</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> seamless </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">{<!-- --></span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L8" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L9" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">class</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">MockFoo</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">:</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">public</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">FooInterface</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">{<!-- --></span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L0" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">public</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">:</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L1" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        MOCK_METHOD0</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">getArbitraryString</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">,</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> std</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">::</span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">string</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">());</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L2" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">};</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L3" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L4" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">}</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">  </span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">// namespace seamless</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L5" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L6" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">#endif</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">// MOCKFOO_H_</span></li></ol> 
<div class="tipMacro" style="word-wrap:break-word; color:rgb(75,75,75); font-family:'Palatino Linotype','Book Antiqua',Palatino,serif; font-size:14px; line-height:22px; margin:5px 20px; padding:10px; border:1px solid rgb(0,0,255); outline:0px; background-color:rgb(135,206,250)">
  我们稍微来解释一下这个Mock类的定义： 
 <p style="word-wrap:break-word; margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; border:0px; outline:0px; text-align:justify; font-family:Varela,arial,serif"> </p> 
 <ul style="word-wrap:break-word; margin:0.5em 0px 1.5em 1.5em; padding:0px 0px 0px 20px; list-style:none; border:0px; outline:0px"><li style="word-wrap:break-word; margin:0px; padding:0px; list-style:inherit; border:0px; outline:0px"> 第10行我们的MockFoo类继承懒同学的FooInterface</li><li style="word-wrap:break-word; margin:0px; padding:0px; list-style:inherit; border:0px; outline:0px"> 第22行我们定义使用gmock中的一个宏（Macro）MOCK_METHOD0来定义MockFoo中的<span style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px">getArbitraryString</span>。Google Mock是需要你根据不同的形参个数来使用不同的Mock Method，我这里getArbitraryString没有函数，就是MOCK_METHOD0了，同理，如果是一个形参，就是MOCK_METHOD1了，以此往下。</li></ul> 
</div> 
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; color:rgb(75,75,75); font-size:14px; line-height:22px; border:0px; outline:0px; text-align:justify; font-family:Varela,arial,serif"> <span style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px">FooMain.cc</span></p> 
<ol class="linenums" style="word-wrap:break-word; margin:0px 0px 0px 1.5em; padding:0px 0px 0px 20px; list-style:none; color:rgb(75,75,75); font-family:'Palatino Linotype','Book Antiqua',Palatino,serif; font-size:14px; line-height:22px; border:0px; outline:0px"><li class="L0" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">#include</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="str" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,136,0)">&lt;cstdlib&gt;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L1" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">#include</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="str" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,136,0)">&lt;gmock/gmock.h&gt;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L2" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">#include</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="str" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,136,0)">&lt;gtest/gtest.h&gt;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L3" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">#include</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="str" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,136,0)">&lt;iostream&gt;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L4" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">#include</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="str" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,136,0)">&lt;string&gt;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L5" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L6" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">#include</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="str" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,136,0)">"MockFoo.h"</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L7" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L8" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">using</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">namespace</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> seamless</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L9" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">using</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">namespace</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> std</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L0" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L1" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">using</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">::</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">testing</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">::</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">Return</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L2" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L3" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">int</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> main</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">int</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> argc</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">,</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">char</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">**</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> argv</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">)</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">{<!-- --></span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L4" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">::</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">testing</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">::</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">InitGoogleMock</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(&amp;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">argc</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">,</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> argv</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">);</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L5" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L6" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        </span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">string</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> value </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">=</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="str" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,136,0)">"Hello World!"</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L7" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        </span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">MockFoo</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> mockFoo</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L8" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        EXPECT_CALL</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">mockFoo</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">,</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> getArbitraryString</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">()).</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">Times</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="lit" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,102,102)">1</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">).</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L9" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">                </span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">WillOnce</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">Return</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">value</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">));</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L0" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        </span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">string</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> returnValue </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">=</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> mockFoo</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">.</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">getArbitraryString</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">();</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L1" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        cout </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">&lt;&lt;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="str" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,136,0)">"Returned Value: "</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">&lt;&lt;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> returnValue </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">&lt;&lt;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> endl</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L2" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L3" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        </span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">return</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> EXIT_SUCCESS</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L4" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">}</span></li></ol> 
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; color:rgb(75,75,75); font-size:14px; line-height:22px; border:0px; outline:0px; text-align:justify; font-family:Varela,arial,serif"> 最后我们运行编译，得到的结果如下：</p> 
<div class="cmdlineMacro" style="word-wrap:break-word; font-family:'Palatino Linotype','Book Antiqua',Palatino,serif; font-size:14px; line-height:22px; margin:5px 20px; padding:10px; border:1px solid rgb(25,25,112); outline:0px; background-color:rgb(0,0,0); color:rgb(255,255,255)">
  Returned Value: Hello World! 
</div> 
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; color:rgb(75,75,75); font-size:14px; line-height:22px; border:0px; outline:0px; text-align:justify; font-family:Varela,arial,serif"> </p> 
<div class="tipMacro" style="word-wrap:break-word; color:rgb(75,75,75); font-family:'Palatino Linotype','Book Antiqua',Palatino,serif; font-size:14px; line-height:22px; margin:5px 20px; padding:10px; border:1px solid rgb(0,0,255); outline:0px; background-color:rgb(135,206,250)">
  在这里： 
 <p style="word-wrap:break-word; margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; border:0px; outline:0px; text-align:justify; font-family:Varela,arial,serif"> </p> 
 <ul style="word-wrap:break-word; margin:0.5em 0px 1.5em 1.5em; padding:0px 0px 0px 20px; list-style:none; border:0px; outline:0px"><li style="word-wrap:break-word; margin:0px; padding:0px; list-style:inherit; border:0px; outline:0px"> 第15行，初始化一个Google Mock</li><li style="word-wrap:break-word; margin:0px; padding:0px; list-style:inherit; border:0px; outline:0px"> 第18行，声明一个MockFoo的对象：mockFoo</li><li style="word-wrap:break-word; margin:0px; padding:0px; list-style:inherit; border:0px; outline:0px"> 第19行，是为MockFoo的getArbitraryString()方法定义一个期望行为，其中Times(1)的意思是运行一次，WillOnce(Return(value))的意思是第一次运行时把value作为getArbitraryString()方法的返回值。</li></ul> 
</div> 
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; color:rgb(75,75,75); font-size:14px; line-height:22px; border:0px; outline:0px; text-align:justify; font-family:Varela,arial,serif"> 这就是我们最简单的使用Google Mock的例子了，使用起来的确比较简便吧。</p> 
<span style="color:rgb(75,75,75); font-family:'Palatino Linotype','Book Antiqua',Palatino,serif; font-size:14px; line-height:22px">典型的流程</span> 
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; color:rgb(75,75,75); font-size:14px; line-height:22px; border:0px; outline:0px; text-align:justify; font-family:Varela,arial,serif"> 通过上述的例子，已经可以看出使用Mock类的一般流程如下：</p> 
<ul style="word-wrap:break-word; margin:0.5em 0px 1.5em 1.5em; padding:0px 0px 0px 20px; list-style:none; color:rgb(75,75,75); font-family:'Palatino Linotype','Book Antiqua',Palatino,serif; font-size:14px; line-height:22px; border:0px; outline:0px"><li style="word-wrap:break-word; margin:0px; padding:0px; list-style:inherit; border:0px; outline:0px"> 引入你要用到的Google Mock名称. 除宏或其它特别提到的之外所有Google Mock名称都位于*<span style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:red">testing</span>*命名空间之下.</li><li style="word-wrap:break-word; margin:0px; padding:0px; list-style:inherit; border:0px; outline:0px"> 建立模拟对象(Mock Objects).</li><li style="word-wrap:break-word; margin:0px; padding:0px; list-style:inherit; border:0px; outline:0px"> 可选的,设置模拟对象的默认动作.</li><li style="word-wrap:break-word; margin:0px; padding:0px; list-style:inherit; border:0px; outline:0px"> 在模拟对象上设置你的预期(它们怎样被调用,应该怎样回应?).</li></ul> 
<span style="color:rgb(75,75,75); font-family:'Palatino Linotype','Book Antiqua',Palatino,serif; font-size:14px; line-height:22px">自定义方法/成员函数的期望行为</span> 
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; color:rgb(75,75,75); font-size:14px; line-height:22px; border:0px; outline:0px; text-align:justify; font-family:Varela,arial,serif"> 从上述的例子中可以看出，当我们针对懒同学的接口定义好了Mock类后，在<span style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px">单元测试</span>/<span style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px">主程序</span>中使用这个Mock类中的方法时最关键的就是对期望行为的定义。<br style="word-wrap:break-word"> 对方法期望行为的定义的语法格式如下：</p> 
<ol class="linenums" style="word-wrap:break-word; margin:0px 0px 0px 1.5em; padding:0px 0px 0px 20px; list-style:none; color:rgb(75,75,75); font-family:'Palatino Linotype','Book Antiqua',Palatino,serif; font-size:14px; line-height:22px; border:0px; outline:0px"><li class="L0" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">EXPECT_CALL</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">mock_object</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">,</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> method</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">matcher1</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">,</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> matcher2</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">,</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">...))</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L1" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">    </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">.</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">With</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">multi_argument_matcher</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">)</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L2" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">    </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">.</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">Times</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">cardinality</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">)</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L3" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">    </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">.</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">InSequence</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">sequences</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">)</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L4" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">    </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">.</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">After</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">expectations</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">)</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L5" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">    </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">.</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">WillOnce</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">action</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">)</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L6" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">    </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">.</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">WillRepeatedly</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">action</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">)</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L7" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">    </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">.</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">RetiresOnSaturation</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">();</span></li></ol> 
<div class="tipMacro" style="word-wrap:break-word; color:rgb(75,75,75); font-family:'Palatino Linotype','Book Antiqua',Palatino,serif; font-size:14px; line-height:22px; margin:5px 20px; padding:10px; border:1px solid rgb(0,0,255); outline:0px; background-color:rgb(135,206,250)">
  解释一下这些参数（虽然很多我也没弄明白）： 
 <p style="word-wrap:break-word; margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; border:0px; outline:0px; text-align:justify; font-family:Varela,arial,serif"> </p> 
 <ul style="word-wrap:break-word; margin:0.5em 0px 1.5em 1.5em; padding:0px 0px 0px 20px; list-style:none; border:0px; outline:0px"><li style="word-wrap:break-word; margin:0px; padding:0px; list-style:inherit; border:0px; outline:0px"> 第1行的<span style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:red">mock_object</span>就是你的Mock类的对象</li><li style="word-wrap:break-word; margin:0px; padding:0px; list-style:inherit; border:0px; outline:0px"> 第1行的<span style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:red">method(matcher1, matcher2, …)</span>中的<span style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:green">method</span>就是你Mock类中的某个方法名，比如上述的getArbitraryString;而<span style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:green">matcher（匹配器）</span>的意思是定义方法参数的类型，我们待会详细介绍。</li><li style="word-wrap:break-word; margin:0px; padding:0px; list-style:inherit; border:0px; outline:0px"> 第3行的<span style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:red">Times(cardinality)</span>的意思是之前定义的<span style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:green">method</span>运行几次。至于cardinality的定义，我也会在后面详细介绍。</li><li style="word-wrap:break-word; margin:0px; padding:0px; list-style:inherit; border:0px; outline:0px"> 第4行的<span style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:red">InSequence(sequences)</span>的意思是定义这个方法被执行顺序（优先级），我会再后面举例说明。</li><li style="word-wrap:break-word; margin:0px; padding:0px; list-style:inherit; border:0px; outline:0px"> 第6行<span style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:red">WillOnce(action)</span>是定义一次调用时所产生的行为，比如定义该方法返回怎么样的值等等。</li><li style="word-wrap:break-word; margin:0px; padding:0px; list-style:inherit; border:0px; outline:0px"> 第7行<span style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:red">WillRepeatedly(action)</span>的意思是缺省/重复行为。</li></ul> 
</div> 
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; color:rgb(75,75,75); font-size:14px; line-height:22px; border:0px; outline:0px; text-align:justify; font-family:Varela,arial,serif"> 我稍微先举个例子来说明一下，后面有针对更为详细的说明：</p> 
<ol class="linenums" style="word-wrap:break-word; margin:0px 0px 0px 1.5em; padding:0px 0px 0px 20px; list-style:none; color:rgb(75,75,75); font-family:'Palatino Linotype','Book Antiqua',Palatino,serif; font-size:14px; line-height:22px; border:0px; outline:0px"><li class="L0" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">EXPECT_CALL</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">mockTurtle</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">,</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> getX</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">()).</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">Times</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">testing</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">::</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">AtLeast</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="lit" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,102,102)">5</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">)).</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L1" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">                </span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">WillOnce</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">testing</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">::</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">Return</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="lit" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,102,102)">100</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">)).</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">WillOnce</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">testing</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">::</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">Return</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="lit" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,102,102)">150</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">)).</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L2" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">                </span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">WillRepeatedly</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">testing</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">::</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">Return</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="lit" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,102,102)">200</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">))</span></li></ol> 
<div class="tipMacro" style="word-wrap:break-word; color:rgb(75,75,75); font-family:'Palatino Linotype','Book Antiqua',Palatino,serif; font-size:14px; line-height:22px; margin:5px 20px; padding:10px; border:1px solid rgb(0,0,255); outline:0px; background-color:rgb(135,206,250)">
  这个期望行为的定义的意思是： 
 <p style="word-wrap:break-word; margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; border:0px; outline:0px; text-align:justify; font-family:Varela,arial,serif"> </p> 
 <ul style="word-wrap:break-word; margin:0.5em 0px 1.5em 1.5em; padding:0px 0px 0px 20px; list-style:none; border:0px; outline:0px"><li style="word-wrap:break-word; margin:0px; padding:0px; list-style:inherit; border:0px; outline:0px"> 调用mockTurtle的getX()方法</li><li style="word-wrap:break-word; margin:0px; padding:0px; list-style:inherit; border:0px; outline:0px"> 这个方法会至少调用5次</li><li style="word-wrap:break-word; margin:0px; padding:0px; list-style:inherit; border:0px; outline:0px"> 第一次被调用时返回100</li><li style="word-wrap:break-word; margin:0px; padding:0px; list-style:inherit; border:0px; outline:0px"> 第2次被调用时返回150</li><li style="word-wrap:break-word; margin:0px; padding:0px; list-style:inherit; border:0px; outline:0px"> 从第3次被调用开始每次都返回200</li></ul> 
</div> 
<span style="color:rgb(75,75,75); font-family:'Palatino Linotype','Book Antiqua',Palatino,serif; font-size:14px; line-height:22px">Matcher（匹配器）</span> 
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; color:rgb(75,75,75); font-size:14px; line-height:22px; border:0px; outline:0px; text-align:justify; font-family:Varela,arial,serif"> Matcher用于定义Mock类中的方法的形参的值（当然，如果你的方法不需要形参时，可以保持match为空。），它有以下几种类型：（更详细的介绍可以参见<a target="_blank" href="http://code.google.com/p/googlemock/wiki/CheatSheet#Matchers" rel="nofollow noopener noreferrer" style="word-wrap:break-word; text-decoration:none; color:rgb(34,122,209); margin:0px; padding:0px; border:0px; outline:0px">Google Mock Wiki上的Matcher介绍</a>）<br style="word-wrap:break-word"> <span style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px">通配符</span></p> 
<div class="context" style="word-wrap:break-word; color:rgb(75,75,75); font-family:'Palatino Linotype','Book Antiqua',Palatino,serif; font-size:14px; line-height:22px; margin:0px; padding:0px; border:0px; outline:0px"> 
 <table cellpadding="0" cellspacing="0" style="word-wrap:break-word; margin:1em 0px; border:0px; border-collapse:collapse; padding:0px; outline:0px; font-family:Arial,Helvetica,sans-serif; font-size:15px; width:667px"><tbody style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; font-size:14px"><tr style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px"><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> _</td><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> 可以代表任意类型</td></tr><tr style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px"><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> A() or An()</td><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> 可以是type类型的任意值</td></tr></tbody></table> 
</div> 
<div class="warningMacro" style="word-wrap:break-word; color:rgb(75,75,75); font-family:'Palatino Linotype','Book Antiqua',Palatino,serif; font-size:14px; line-height:22px; margin:5px 20px; padding:10px; border:1px solid rgb(255,0,0); outline:0px; background-color:rgb(255,99,71)">
  这里的 
 <span style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px">_</span>和*A*包括下面的那个匹配符都在Google Mock的* 
 <span style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:red">::testing</span>*这个命名空间下，大家要用时需要先引入那个命名空间 
</div> 
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; color:rgb(75,75,75); font-size:14px; line-height:22px; border:0px; outline:0px; text-align:justify; font-family:Varela,arial,serif"> <span style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px">一般比较</span></p> 
<div class="context" style="word-wrap:break-word; color:rgb(75,75,75); font-family:'Palatino Linotype','Book Antiqua',Palatino,serif; font-size:14px; line-height:22px; margin:0px; padding:0px; border:0px; outline:0px"> 
 <table cellpadding="0" cellspacing="0" style="word-wrap:break-word; margin:1em 0px; border:0px; border-collapse:collapse; padding:0px; outline:0px; font-family:Arial,Helvetica,sans-serif; font-size:15px; width:667px"><tbody style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; font-size:14px"><tr style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px"><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> Eq(value) 或者 value</td><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> argument == value，method中的形参必须是value</td></tr><tr style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px"><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> Ge(value)</td><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> argument &gt;= value，method中的形参必须大于等于value</td></tr><tr style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px"><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> Gt(value)</td><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> argument &gt; value</td></tr><tr style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px"><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> Le(value)</td><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> argument &lt;= value</td></tr><tr style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px"><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> Lt(value)</td><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> argument &lt; value</td></tr><tr style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px"><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> Ne(value)</td><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> argument != value</td></tr><tr style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px"><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> IsNull()</td><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> method的形参必须是NULL指针</td></tr><tr style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px"><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> NotNull()</td><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> argument is a non-null pointer</td></tr><tr style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px"><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> Ref(variable)</td><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> 形参是variable的引用</td></tr><tr style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px"><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> TypedEq(value)</td><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> 形参的类型必须是type类型，而且值必须是value</td></tr></tbody></table> 
</div> 
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; color:rgb(75,75,75); font-size:14px; line-height:22px; border:0px; outline:0px; text-align:justify; font-family:Varela,arial,serif"> <span style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px">浮点数的比较</span></p> 
<div class="context" style="word-wrap:break-word; color:rgb(75,75,75); font-family:'Palatino Linotype','Book Antiqua',Palatino,serif; font-size:14px; line-height:22px; margin:0px; padding:0px; border:0px; outline:0px"> 
 <table cellpadding="0" cellspacing="0" style="word-wrap:break-word; margin:1em 0px; border:0px; border-collapse:collapse; padding:0px; outline:0px; font-family:Arial,Helvetica,sans-serif; font-size:15px; width:667px"><tbody style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; font-size:14px"><tr style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px"><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> DoubleEq(a_double)</td><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> 形参是一个double类型，比如值近似于a_double，两个NaN是不相等的</td></tr><tr style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px"><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> FloatEq(a_float)</td><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> 同上，只不过类型是float</td></tr><tr style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px"><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> NanSensitiveDoubleEq(a_double)</td><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> 形参是一个double类型，比如值近似于a_double，两个NaN是相等的，这个是用户所希望的方式</td></tr><tr style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px"><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> NanSensitiveFloatEq(a_float)</td><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> 同上，只不过形参是float</td></tr></tbody></table> 
</div> 
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; color:rgb(75,75,75); font-size:14px; line-height:22px; border:0px; outline:0px; text-align:justify; font-family:Varela,arial,serif"> <span style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px">字符串匹配</span><br style="word-wrap:break-word"> 这里的字符串即可以是C风格的字符串，也可以是C++风格的。</p> 
<div class="context" style="word-wrap:break-word; color:rgb(75,75,75); font-family:'Palatino Linotype','Book Antiqua',Palatino,serif; font-size:14px; line-height:22px; margin:0px; padding:0px; border:0px; outline:0px"> 
 <table cellpadding="0" cellspacing="0" style="word-wrap:break-word; margin:1em 0px; border:0px; border-collapse:collapse; padding:0px; outline:0px; font-family:Arial,Helvetica,sans-serif; font-size:15px; width:667px"><tbody style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; font-size:14px"><tr style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px"><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> ContainsRegex(string)</td><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> 形参匹配给定的正则表达式</td></tr><tr style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px"><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> EndsWith(suffix)</td><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> 形参以suffix截尾</td></tr><tr style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px"><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> HasSubstr(string)</td><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> 形参有string这个子串</td></tr><tr style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px"><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> MatchesRegex(string)</td><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> 从第一个字符到最后一个字符都完全匹配给定的正则表达式.</td></tr><tr style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px"><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> StartsWith(prefix)</td><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> 形参以prefix开始</td></tr><tr style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px"><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> StrCaseEq(string)</td><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> 参数等于string，并且忽略大小写</td></tr><tr style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px"><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> StrCaseNe(string)</td><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> 参数不是string，并且忽略大小写</td></tr><tr style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px"><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> StrEq(string)</td><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> 参数等于string</td></tr><tr style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px"><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> StrNe(string)</td><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> 参数不等于string</td></tr></tbody></table> 
</div> 
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; color:rgb(75,75,75); font-size:14px; line-height:22px; border:0px; outline:0px; text-align:justify; font-family:Varela,arial,serif"> <span style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px">容器的匹配</span><br style="word-wrap:break-word"> 很多STL的容器的比较都支持<span style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px">==</span>这样的操作，对于这样的容器可以使用上述的<span style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px">Eq(container)</span>来比较。但如果你想写得更为灵活，可以使用下面的这些容器匹配方法：</p> 
<div class="context" style="word-wrap:break-word; color:rgb(75,75,75); font-family:'Palatino Linotype','Book Antiqua',Palatino,serif; font-size:14px; line-height:22px; margin:0px; padding:0px; border:0px; outline:0px"> 
 <table cellpadding="0" cellspacing="0" style="word-wrap:break-word; margin:1em 0px; border:0px; border-collapse:collapse; padding:0px; outline:0px; font-family:Arial,Helvetica,sans-serif; font-size:15px; width:667px"><tbody style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; font-size:14px"><tr style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px"><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> Contains(e)</td><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> 在method的形参中，只要有其中一个元素等于e</td></tr><tr style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px"><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> Each(e)</td><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> 参数各个元素都等于e</td></tr><tr style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px"><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> ElementsAre(e0, e1, …, en)</td><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> 形参有n+1的元素，并且挨个匹配</td></tr><tr style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px"><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> ElementsAreArray(array) 或者ElementsAreArray(array, count)</td><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> 和ElementsAre()类似，除了预期值/匹配器来源于一个C风格数组</td></tr><tr style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px"><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> ContainerEq(container)</td><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> 类型Eq(container)，就是输出结果有点不一样，这里输出结果会带上哪些个元素不被包含在另一个容器中</td></tr><tr style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px"><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> Pointwise(m, container)</td><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)">  </td></tr></tbody></table> 
</div> 
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; color:rgb(75,75,75); font-size:14px; line-height:22px; border:0px; outline:0px; text-align:justify; font-family:Varela,arial,serif"> 上述的一些匹配器都比较简单，我就随便打包举几最简单的例子演示一下吧： 我稍微修改一下之前的<span style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px">Foo.h</span>和<span style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px">MockFoo.h</span>， <span style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px">MockFoo.h</span> 增加了2个方法</p> 
<ol class="linenums" style="word-wrap:break-word; margin:0px 0px 0px 1.5em; padding:0px 0px 0px 20px; list-style:none; color:rgb(75,75,75); font-family:'Palatino Linotype','Book Antiqua',Palatino,serif; font-size:14px; line-height:22px; border:0px; outline:0px"><li class="L0" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">#ifndef</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> MOCKFOO_H_</span><br style="word-wrap:break-word"> </li><li class="L1" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">#define</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> MOCKFOO_H_</span><br style="word-wrap:break-word"> </li><li class="L2" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L3" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">#include</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="str" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,136,0)">&lt;gmock/gmock.h&gt;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L4" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">#include</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="str" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,136,0)">&lt;string&gt;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L5" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">#include</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="str" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,136,0)">&lt;vector&gt;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L6" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">#include</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="str" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,136,0)">"FooInterface.h"</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L7" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L8" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">namespace</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> seamless </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">{<!-- --></span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L9" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L0" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">class</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">MockFoo</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">:</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">public</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">FooInterface</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">{<!-- --></span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L1" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">public</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">:</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L2" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        MOCK_METHOD0</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">getArbitraryString</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">,</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> std</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">::</span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">string</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">());</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L3" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        MOCK_METHOD1</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">setValue</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">,</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">void</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">std</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">::</span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">string</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">&amp;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> value</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">));</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L4" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        MOCK_METHOD2</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">setDoubleValues</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">,</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">void</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">int</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> x</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">,</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">int</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> y</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">));</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L5" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">};</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L6" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L7" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">}</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">  </span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">// namespace seamless</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L8" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L9" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">#endif</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">// MOCKFOO_H_</span></li></ol> 
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; color:rgb(75,75,75); font-size:14px; line-height:22px; border:0px; outline:0px; text-align:justify; font-family:Varela,arial,serif"> <span style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px">FooMain.h</span></p> 
<ol class="linenums" style="word-wrap:break-word; margin:0px 0px 0px 1.5em; padding:0px 0px 0px 20px; list-style:none; color:rgb(75,75,75); font-family:'Palatino Linotype','Book Antiqua',Palatino,serif; font-size:14px; line-height:22px; border:0px; outline:0px"><li class="L0" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">#include</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="str" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,136,0)">&lt;cstdlib&gt;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L1" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">#include</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="str" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,136,0)">&lt;gmock/gmock.h&gt;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L2" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">#include</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="str" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,136,0)">&lt;iostream&gt;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L3" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">#include</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="str" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,136,0)">&lt;string&gt;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L4" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L5" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">#include</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="str" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,136,0)">"MockFoo.h"</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L6" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L7" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">using</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">namespace</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> seamless</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L8" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">using</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">namespace</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> std</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L9" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L0" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">using</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">::</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">testing</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">::</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">Assign</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L1" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">using</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">::</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">testing</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">::</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">Eq</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L2" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">using</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">::</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">testing</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">::</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">Ge</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L3" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">using</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">::</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">testing</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">::</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">Return</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L4" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L5" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">int</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> main</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">int</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> argc</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">,</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">char</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">**</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> argv</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">)</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">{<!-- --></span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L6" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">::</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">testing</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">::</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">InitGoogleMock</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(&amp;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">argc</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">,</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> argv</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">);</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L7" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L8" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        </span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">string</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> value </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">=</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="str" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,136,0)">"Hello World!"</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L9" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        </span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">MockFoo</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> mockFoo</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L0" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L1" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        EXPECT_CALL</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">mockFoo</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">,</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> setValue</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">testing</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">::</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">_</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">));</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L2" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        mockFoo</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">.</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">setValue</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">value</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">);</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L3" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L4" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        </span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">// 这里我故意犯错</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L5" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        EXPECT_CALL</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">mockFoo</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">,</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> setDoubleValues</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">Eq</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="lit" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,102,102)">1</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">),</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">Ge</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="lit" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,102,102)">1</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">)));</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L6" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        mockFoo</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">.</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">setDoubleValues</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="lit" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,102,102)">1</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">,</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="lit" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,102,102)">0</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">);</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L7" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L8" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        </span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">return</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> EXIT_SUCCESS</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L9" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">}</span></li></ol> 
<div class="tipMacro" style="word-wrap:break-word; color:rgb(75,75,75); font-family:'Palatino Linotype','Book Antiqua',Palatino,serif; font-size:14px; line-height:22px; margin:5px 20px; padding:10px; border:1px solid rgb(0,0,255); outline:0px; background-color:rgb(135,206,250)"> 
 <ul style="word-wrap:break-word; margin:0.5em 0px 1.5em 1.5em; padding:0px 0px 0px 20px; list-style:none; border:0px; outline:0px"><li style="word-wrap:break-word; margin:0px; padding:0px; list-style:inherit; border:0px; outline:0px"> 第22行，让setValue的形参可以传入任意参数</li><li style="word-wrap:break-word; margin:0px; padding:0px; list-style:inherit; border:0px; outline:0px"> 另外，我在第26~27行故意犯了个错（为了说明上述这些匹配器的作用），我之前明明让setDoubleValues第二个参数得大于等于1,但我实际传入时却传入一个0。这时程序运行时就报错了：</li></ul> 
 <div class="cmdlineMacro" style="word-wrap:break-word; margin:5px 20px; padding:10px; border:1px solid rgb(25,25,112); outline:0px; background-color:rgb(0,0,0); color:rgb(255,255,255)">
   unknown file: Failure 
  <p style="word-wrap:break-word; margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; border:0px; outline:0px; text-align:justify; font-family:Varela,arial,serif"> </p> 
  <p style="word-wrap:break-word; margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; border:0px; outline:0px; text-align:justify; font-family:Varela,arial,serif"> Unexpected mock function call – returning directly.<br style="word-wrap:break-word"> Function call: setDoubleValues(1, 0)<br style="word-wrap:break-word"> Google Mock tried the following 1 expectation, but it didn't match:</p> 
  <p style="word-wrap:break-word; margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; border:0px; outline:0px; text-align:justify; font-family:Varela,arial,serif"> FooMain.cc:35: EXPECT_CALL(mockFoo, setDoubleValues(Eq(1), Ge(1)))…<br style="word-wrap:break-word"> Expected arg #1: is &gt;= 1<br style="word-wrap:break-word"> Actual: 0<br style="word-wrap:break-word"> Expected: to be called once<br style="word-wrap:break-word"> Actual: never called – unsatisfied and active<br style="word-wrap:break-word"> FooMain.cc:35: Failure<br style="word-wrap:break-word"> Actual function call count doesn't match EXPECT_CALL(mockFoo, setDoubleValues(Eq(1), Ge(1)))…<br style="word-wrap:break-word"> Expected: to be called once<br style="word-wrap:break-word"> Actual: never called – unsatisfied and active</p> 
 </div> 
</div> 
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; color:rgb(75,75,75); font-size:14px; line-height:22px; border:0px; outline:0px; text-align:justify; font-family:Varela,arial,serif"> 上述的那些匹配器都比较简单，下面我们来看看那些比较复杂的匹配吧。<br style="word-wrap:break-word"> <span style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px">成员匹配器</span></p> 
<div class="context" style="word-wrap:break-word; color:rgb(75,75,75); font-family:'Palatino Linotype','Book Antiqua',Palatino,serif; font-size:14px; line-height:22px; margin:0px; padding:0px; border:0px; outline:0px"> 
 <table cellpadding="0" cellspacing="0" style="word-wrap:break-word; margin:1em 0px; border:0px; border-collapse:collapse; padding:0px; outline:0px; font-family:Arial,Helvetica,sans-serif; font-size:15px; width:667px"><tbody style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; font-size:14px"><tr style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px"><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> Field(&amp;class::field, m)</td><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> argument.field (或 argument-&gt;field, 当argument是一个指针时)与匹配器m匹配, 这里的argument是一个class类的实例.</td></tr><tr style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px"><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> Key(e)</td><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> 形参（argument）比较是一个类似map这样的容器，然后argument.first的值等于e</td></tr><tr style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px"><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> Pair(m1, m2)</td><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> 形参（argument）必须是一个pair，并且argument.first等于m1，argument.second等于m2.</td></tr><tr style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px"><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> Property(&amp;class::property, m)</td><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> argument.property()(或argument-&gt;property(),当argument是一个指针时)与匹配器m匹配, 这里的argument是一个class类的实例.</td></tr></tbody></table> 
</div> 
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; color:rgb(75,75,75); font-size:14px; line-height:22px; border:0px; outline:0px; text-align:justify; font-family:Varela,arial,serif"> 还是举例说明一下：</p> 
<ol class="linenums" style="word-wrap:break-word; margin:0px 0px 0px 1.5em; padding:0px 0px 0px 20px; list-style:none; color:rgb(75,75,75); font-family:'Palatino Linotype','Book Antiqua',Palatino,serif; font-size:14px; line-height:22px; border:0px; outline:0px"><li class="L0" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">TEST</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">TestField</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">,</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">Simple</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">)</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">{<!-- --></span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L1" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        </span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">MockFoo</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> mockFoo</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L2" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        </span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">Bar</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> bar</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L3" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        EXPECT_CALL</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">mockFoo</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">,</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">get</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">Field</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(&amp;</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">Bar</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">::</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">num</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">,</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">Ge</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="lit" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,102,102)">0</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">)))).</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">Times</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="lit" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,102,102)">1</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">);</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L4" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        mockFoo</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">.</span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">get</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">bar</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">);</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L5" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">}</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L6" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L7" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">int</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> main</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">int</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> argc</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">,</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">char</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">**</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> argv</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">)</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">{<!-- --></span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L8" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">::</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">testing</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">::</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">InitGoogleMock</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(&amp;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">argc</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">,</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> argv</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">);</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L9" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        </span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">return</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> RUN_ALL_TESTS</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">();</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L0" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">}</span></li></ol> 
<div class="tipMacro" style="word-wrap:break-word; color:rgb(75,75,75); font-family:'Palatino Linotype','Book Antiqua',Palatino,serif; font-size:14px; line-height:22px; margin:5px 20px; padding:10px; border:1px solid rgb(0,0,255); outline:0px; background-color:rgb(135,206,250)">
  这里我们使用 
 <a target="_blank" href="http://code.google.com/p/googletest/" rel="nofollow noopener noreferrer" style="word-wrap:break-word; text-decoration:none; color:rgb(34,122,209); margin:0px; padding:0px; border:0px; outline:0px">Google Test</a>来写个测试用例，这样看得比较清楚。 
 <p style="word-wrap:break-word; margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; border:0px; outline:0px; text-align:justify; font-family:Varela,arial,serif"> </p> 
 <ul style="word-wrap:break-word; margin:0.5em 0px 1.5em 1.5em; padding:0px 0px 0px 20px; list-style:none; border:0px; outline:0px"><li style="word-wrap:break-word; margin:0px; padding:0px; list-style:inherit; border:0px; outline:0px"> 第5行，我们定义了一个<span style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px">Field(&amp;Bar::num, Ge(0))</span>，以说明Bar的成员变量num必须大于等于0。</li></ul> 
</div> 
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; color:rgb(75,75,75); font-size:14px; line-height:22px; border:0px; outline:0px; text-align:justify; font-family:Varela,arial,serif"> 上面这个是正确的例子，我们为了说明<span style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px">Field</span>的作用，传入一个bar.num = -1试试。</p> 
<ol class="linenums" style="word-wrap:break-word; margin:0px 0px 0px 1.5em; padding:0px 0px 0px 20px; list-style:none; color:rgb(75,75,75); font-family:'Palatino Linotype','Book Antiqua',Palatino,serif; font-size:14px; line-height:22px; border:0px; outline:0px"><li class="L0" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">TEST</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">TestField</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">,</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">Simple</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">)</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">{<!-- --></span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L1" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        </span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">MockFoo</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> mockFoo</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L2" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        </span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">Bar</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> bar</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L3" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        bar</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">.</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">num </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">=</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">-</span><span class="lit" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,102,102)">1</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L4" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        EXPECT_CALL</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">mockFoo</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">,</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">get</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">Field</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(&amp;</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">Bar</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">::</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">num</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">,</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">Ge</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="lit" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,102,102)">0</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">)))).</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">Times</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="lit" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,102,102)">1</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">);</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L5" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        mockFoo</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">.</span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">get</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">bar</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">);</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L6" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">}</span></li></ol> 
<div class="tipMacro" style="word-wrap:break-word; color:rgb(75,75,75); font-family:'Palatino Linotype','Book Antiqua',Palatino,serif; font-size:14px; line-height:22px; margin:5px 20px; padding:10px; border:1px solid rgb(0,0,255); outline:0px; background-color:rgb(135,206,250)">
  运行是出错了： 
 <p style="word-wrap:break-word; margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; border:0px; outline:0px; text-align:justify; font-family:Varela,arial,serif"> </p> 
 <div class="cmdlineMacro" style="word-wrap:break-word; margin:5px 20px; padding:10px; border:1px solid rgb(25,25,112); outline:0px; background-color:rgb(0,0,0); color:rgb(255,255,255)">
   [==========] Running 1 test from 1 test case. 
  <br style="word-wrap:break-word"> [----------] Global test environment set-up. 
  <br style="word-wrap:break-word"> [----------] 1 test from TestField 
  <br style="word-wrap:break-word"> [ RUN ] TestField.Simple 
  <br style="word-wrap:break-word"> unknown file: Failure 
  <p style="word-wrap:break-word; margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; border:0px; outline:0px; text-align:justify; font-family:Varela,arial,serif"> </p> 
  <p style="word-wrap:break-word; margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; border:0px; outline:0px; text-align:justify; font-family:Varela,arial,serif"> Unexpected mock function call – returning directly.<br style="word-wrap:break-word"> Function call: get(@0xbff335bc 4-byte object )<br style="word-wrap:break-word"> Google Mock tried the following 1 expectation, but it didn't match:</p> 
  <p style="word-wrap:break-word; margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; border:0px; outline:0px; text-align:justify; font-family:Varela,arial,serif"> FooMain.cc:34: EXPECT_CALL(mockFoo, get(Field(&amp;Bar::num, Ge(0))))…<br style="word-wrap:break-word"> Expected arg #0: is an object whose given field is &gt;= 0<br style="word-wrap:break-word"> Actual: 4-byte object , whose given field is -1<br style="word-wrap:break-word"> Expected: to be called once<br style="word-wrap:break-word"> Actual: never called – unsatisfied and active<br style="word-wrap:break-word"> FooMain.cc:34: Failure<br style="word-wrap:break-word"> Actual function call count doesn't match EXPECT_CALL(mockFoo, get(Field(&amp;Bar::num, Ge(0))))…<br style="word-wrap:break-word"> Expected: to be called once<br style="word-wrap:break-word"> Actual: never called – unsatisfied and active<br style="word-wrap:break-word"> [ FAILED ] TestField.Simple (0 ms)<br style="word-wrap:break-word"> [----------] 1 test from TestField (0 ms total)</p> 
  <p style="word-wrap:break-word; margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; border:0px; outline:0px; text-align:justify; font-family:Varela,arial,serif"> [----------] Global test environment tear-down<br style="word-wrap:break-word"> [==========] 1 test from 1 test case ran. (0 ms total)<br style="word-wrap:break-word"> [ PASSED ] 0 tests.<br style="word-wrap:break-word"> [ FAILED ] 1 test, listed below:<br style="word-wrap:break-word"> [ FAILED ] TestField.Simple</p> 
  <p style="word-wrap:break-word; margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; border:0px; outline:0px; text-align:justify; font-family:Varela,arial,serif"> 1 FAILED TEST</p> 
 </div> 
</div> 
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; color:rgb(75,75,75); font-size:14px; line-height:22px; border:0px; outline:0px; text-align:justify; font-family:Varela,arial,serif"> <span style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px">匹配函数或函数对象的返回值</span></p> 
<div class="context" style="word-wrap:break-word; color:rgb(75,75,75); font-family:'Palatino Linotype','Book Antiqua',Palatino,serif; font-size:14px; line-height:22px; margin:0px; padding:0px; border:0px; outline:0px"> 
 <table cellpadding="0" cellspacing="0" style="word-wrap:break-word; margin:1em 0px; border:0px; border-collapse:collapse; padding:0px; outline:0px; font-family:Arial,Helvetica,sans-serif; font-size:15px; width:667px"><tbody style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; font-size:14px"><tr style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px"><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> ResultOf(f, m)</td><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> f(argument) 与匹配器m匹配, 这里的f是一个函数或函数对象.</td></tr></tbody></table> 
</div> 
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; color:rgb(75,75,75); font-size:14px; line-height:22px; border:0px; outline:0px; text-align:justify; font-family:Varela,arial,serif"> <span style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px">指针匹配器</span></p> 
<div class="context" style="word-wrap:break-word; color:rgb(75,75,75); font-family:'Palatino Linotype','Book Antiqua',Palatino,serif; font-size:14px; line-height:22px; margin:0px; padding:0px; border:0px; outline:0px"> 
 <table cellpadding="0" cellspacing="0" style="word-wrap:break-word; margin:1em 0px; border:0px; border-collapse:collapse; padding:0px; outline:0px; font-family:Arial,Helvetica,sans-serif; font-size:15px; width:667px"><tbody style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; font-size:14px"><tr style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px"><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> Pointee(m)</td><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> argument (不论是智能指针还是原始指针) 指向的值与匹配器m匹配.</td></tr></tbody></table> 
</div> 
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; color:rgb(75,75,75); font-size:14px; line-height:22px; border:0px; outline:0px; text-align:justify; font-family:Varela,arial,serif"> <span style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px">复合匹配器</span></p> 
<div class="context" style="word-wrap:break-word; color:rgb(75,75,75); font-family:'Palatino Linotype','Book Antiqua',Palatino,serif; font-size:14px; line-height:22px; margin:0px; padding:0px; border:0px; outline:0px"> 
 <table cellpadding="0" cellspacing="0" style="word-wrap:break-word; margin:1em 0px; border:0px; border-collapse:collapse; padding:0px; outline:0px; font-family:Arial,Helvetica,sans-serif; font-size:15px; width:667px"><tbody style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; font-size:14px"><tr style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px"><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> AllOf(m1, m2, …, mn)</td><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> argument 匹配所有的匹配器m1到mn</td></tr><tr style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px"><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> AnyOf(m1, m2, …, mn)</td><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> argument 至少匹配m1到mn中的一个</td></tr><tr style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px"><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> Not(m)</td><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> argument 不与匹配器m匹配</td></tr></tbody></table> 
</div> 
<ol class="linenums" style="word-wrap:break-word; margin:0px 0px 0px 1.5em; padding:0px 0px 0px 20px; list-style:none; color:rgb(75,75,75); font-family:'Palatino Linotype','Book Antiqua',Palatino,serif; font-size:14px; line-height:22px; border:0px; outline:0px"><li class="L0" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">EXPECT_CALL</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">foo</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">,</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">DoThis</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">AllOf</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">Gt</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="lit" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,102,102)">5</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">),</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">Ne</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="lit" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,102,102)">10</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">))));</span></li></ol> 
<div class="tipMacro" style="word-wrap:break-word; color:rgb(75,75,75); font-family:'Palatino Linotype','Book Antiqua',Palatino,serif; font-size:14px; line-height:22px; margin:5px 20px; padding:10px; border:1px solid rgb(0,0,255); outline:0px; background-color:rgb(135,206,250)"> 
 <ul style="word-wrap:break-word; margin:0.5em 0px 1.5em 1.5em; padding:0px 0px 0px 20px; list-style:none; border:0px; outline:0px"><li style="word-wrap:break-word; margin:0px; padding:0px; list-style:inherit; border:0px; outline:0px"> 传入的参数必须 &gt;5 并且 &lt;= 10</li></ul> 
</div> 
<ol class="linenums" style="word-wrap:break-word; margin:0px 0px 0px 1.5em; padding:0px 0px 0px 20px; list-style:none; color:rgb(75,75,75); font-family:'Palatino Linotype','Book Antiqua',Palatino,serif; font-size:14px; line-height:22px; border:0px; outline:0px"><li class="L0" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">EXPECT_CALL</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">foo</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">,</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">DoThat</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">Not</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">HasSubstr</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="str" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,136,0)">"blah"</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">)),</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> NULL</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">));</span></li></ol> 
<div class="tipMacro" style="word-wrap:break-word; color:rgb(75,75,75); font-family:'Palatino Linotype','Book Antiqua',Palatino,serif; font-size:14px; line-height:22px; margin:5px 20px; padding:10px; border:1px solid rgb(0,0,255); outline:0px; background-color:rgb(135,206,250)"> 
 <ul style="word-wrap:break-word; margin:0.5em 0px 1.5em 1.5em; padding:0px 0px 0px 20px; list-style:none; border:0px; outline:0px"><li style="word-wrap:break-word; margin:0px; padding:0px; list-style:inherit; border:0px; outline:0px"> 第一个参数不包含“blah”这个子串</li></ul> 
</div> 
<span style="color:rgb(75,75,75); font-family:'Palatino Linotype','Book Antiqua',Palatino,serif; font-size:14px; line-height:22px">基数（Cardinalities）</span> 
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; color:rgb(75,75,75); font-size:14px; line-height:22px; border:0px; outline:0px; text-align:justify; font-family:Varela,arial,serif"> 基数用于Times()中来指定模拟函数将被调用多少次|</p> 
<div class="context" style="word-wrap:break-word; color:rgb(75,75,75); font-family:'Palatino Linotype','Book Antiqua',Palatino,serif; font-size:14px; line-height:22px; margin:0px; padding:0px; border:0px; outline:0px"> 
 <table cellpadding="0" cellspacing="0" style="word-wrap:break-word; margin:1em 0px; border:0px; border-collapse:collapse; padding:0px; outline:0px; font-family:Arial,Helvetica,sans-serif; font-size:15px; width:667px"><tbody style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; font-size:14px"><tr style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px"><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> AnyNumber()</td><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> 函数可以被调用任意次.</td></tr><tr style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px"><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> AtLeast(n)</td><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> 预计至少调用n次.</td></tr><tr style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px"><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> AtMost(n)</td><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> 预计至多调用n次.</td></tr><tr style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px"><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> Between(m, n)</td><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> 预计调用次数在m和n(包括n)之间.</td></tr><tr style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px"><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> Exactly(n) 或 n</td><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> 预计精确调用n次. 特别是, 当n为0时,函数应该永远不被调用.</td></tr></tbody></table> 
</div> 
<span style="color:rgb(75,75,75); font-family:'Palatino Linotype','Book Antiqua',Palatino,serif; font-size:14px; line-height:22px">行为（Actions）</span> 
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; color:rgb(75,75,75); font-size:14px; line-height:22px; border:0px; outline:0px; text-align:justify; font-family:Varela,arial,serif"> <span style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px">Actions</span>（行为）用于指定Mock类的方法所期望模拟的行为：比如返回什么样的值、对引用、指针赋上怎么样个值，等等。 <span style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px">值的返回</span></p> 
<div class="context" style="word-wrap:break-word; color:rgb(75,75,75); font-family:'Palatino Linotype','Book Antiqua',Palatino,serif; font-size:14px; line-height:22px; margin:0px; padding:0px; border:0px; outline:0px"> 
 <table cellpadding="0" cellspacing="0" style="word-wrap:break-word; margin:1em 0px; border:0px; border-collapse:collapse; padding:0px; outline:0px; font-family:Arial,Helvetica,sans-serif; font-size:15px; width:667px"><tbody style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; font-size:14px"><tr style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px"><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> Return()</td><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> 让Mock方法返回一个void结果</td></tr><tr style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px"><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> Return(value)</td><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> 返回值value</td></tr><tr style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px"><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> ReturnNull()</td><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> 返回一个NULL指针</td></tr><tr style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px"><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> ReturnRef(variable)</td><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> 返回variable的引用.</td></tr><tr style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px"><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> ReturnPointee(ptr)</td><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> 返回一个指向ptr的指针</td></tr></tbody></table> 
</div> 
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; color:rgb(75,75,75); font-size:14px; line-height:22px; border:0px; outline:0px; text-align:justify; font-family:Varela,arial,serif"> <span style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px">另一面的作用（Side Effects）</span></p> 
<div class="context" style="word-wrap:break-word; color:rgb(75,75,75); font-family:'Palatino Linotype','Book Antiqua',Palatino,serif; font-size:14px; line-height:22px; margin:0px; padding:0px; border:0px; outline:0px"> 
 <table cellpadding="0" cellspacing="0" style="word-wrap:break-word; margin:1em 0px; border:0px; border-collapse:collapse; padding:0px; outline:0px; font-family:Arial,Helvetica,sans-serif; font-size:15px; width:667px"><tbody style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; font-size:14px"><tr style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px"><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> Assign(&amp;variable, value)</td><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> 将value分配给variable</td></tr></tbody></table> 
</div> 
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; color:rgb(75,75,75); font-size:14px; line-height:22px; border:0px; outline:0px; text-align:justify; font-family:Varela,arial,serif"> <span style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px">使用函数或者函数对象（Functor）作为行为</span></p> 
<div class="context" style="word-wrap:break-word; color:rgb(75,75,75); font-family:'Palatino Linotype','Book Antiqua',Palatino,serif; font-size:14px; line-height:22px; margin:0px; padding:0px; border:0px; outline:0px"> 
 <table cellpadding="0" cellspacing="0" style="word-wrap:break-word; margin:1em 0px; border:0px; border-collapse:collapse; padding:0px; outline:0px; font-family:Arial,Helvetica,sans-serif; font-size:15px; width:667px"><tbody style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; font-size:14px"><tr style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px"><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> Invoke(f)</td><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> 使用模拟函数的参数调用f, 这里的f可以是全局/静态函数或函数对象.</td></tr><tr style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px"><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> Invoke(object_pointer, &amp;class::method)</td><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> 使用模拟函数的参数调用object_pointer对象的mothod方法.</td></tr></tbody></table> 
</div> 
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; color:rgb(75,75,75); font-size:14px; line-height:22px; border:0px; outline:0px; text-align:justify; font-family:Varela,arial,serif"> <span style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px">复合动作</span></p> 
<div class="context" style="word-wrap:break-word; color:rgb(75,75,75); font-family:'Palatino Linotype','Book Antiqua',Palatino,serif; font-size:14px; line-height:22px; margin:0px; padding:0px; border:0px; outline:0px"> 
 <table cellpadding="0" cellspacing="0" style="word-wrap:break-word; margin:1em 0px; border:0px; border-collapse:collapse; padding:0px; outline:0px; font-family:Arial,Helvetica,sans-serif; font-size:15px; width:667px"><tbody style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; font-size:14px"><tr style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px"><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> DoAll(a1, a2, …, an)</td><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> 每次发动时执行a1到an的所有动作.</td></tr><tr style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px"><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> IgnoreResult(a)</td><td style="word-wrap:break-word; margin:0px; padding:0.5em; border:1px; border-collapse:collapse; outline:0px; background-color:rgb(229,241,244)"> 执行动作a并忽略它的返回值. a不能返回void.</td></tr></tbody></table> 
</div> 
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; color:rgb(75,75,75); font-size:14px; line-height:22px; border:0px; outline:0px; text-align:justify; font-family:Varela,arial,serif"> 这里我举个例子来解释一下<span style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px">DoAll()</span>的作用，我个人认为这个DoAll()还是挺实用的。例如有一个Mock方法：</p> 
<ol class="linenums" style="word-wrap:break-word; margin:0px 0px 0px 1.5em; padding:0px 0px 0px 20px; list-style:none; color:rgb(75,75,75); font-family:'Palatino Linotype','Book Antiqua',Palatino,serif; font-size:14px; line-height:22px; border:0px; outline:0px"><li class="L0" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">virtual</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">int</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> getParamter</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">std</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">::</span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">string</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">*</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> name</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">,</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">  std</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">::</span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">string</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">*</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> value</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">)</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">=</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="lit" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,102,102)">0</span></li></ol> 
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; color:rgb(75,75,75); font-size:14px; line-height:22px; border:0px; outline:0px; text-align:justify; font-family:Varela,arial,serif"> 对于这个方法，我这回需要操作的结果是将name指向value的地址，并且得到方法的返回值。<br style="word-wrap:break-word"> 类似这样的需求，我们就可以这样定义期望过程：</p> 
<ol class="linenums" style="word-wrap:break-word; margin:0px 0px 0px 1.5em; padding:0px 0px 0px 20px; list-style:none; color:rgb(75,75,75); font-family:'Palatino Linotype','Book Antiqua',Palatino,serif; font-size:14px; line-height:22px; border:0px; outline:0px"><li class="L0" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">TEST</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">SimpleTest</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">,</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> F1</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">)</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">{<!-- --></span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L1" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">    std</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">::</span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">string</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">*</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> a </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">=</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">new</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> std</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">::</span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">string</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="str" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,136,0)">"yes"</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">);</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L2" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">    std</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">::</span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">string</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">*</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> b </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">=</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">new</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> std</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">::</span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">string</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="str" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,136,0)">"hello"</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">);</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L3" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">    </span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">MockIParameter</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> mockIParameter</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L4" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">    EXPECT_CALL</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">mockIParameter</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">,</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> getParamter</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">testing</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">::</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">_</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">,</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> testing</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">::</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">_</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">)).</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">Times</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="lit" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,102,102)">1</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">).\</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L5" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        </span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">WillOnce</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">testing</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">::</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">DoAll</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">testing</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">::</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">Assign</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(&amp;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">a</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">,</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> b</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">),</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> testing</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">::</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">Return</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="lit" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,102,102)">1</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">)));</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L6" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">    mockIParameter</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">.</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">getParamter</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">a</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">,</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> b</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">);</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L7" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">}</span></li></ol> 
<div class="tipMacro" style="word-wrap:break-word; color:rgb(75,75,75); font-family:'Palatino Linotype','Book Antiqua',Palatino,serif; font-size:14px; line-height:22px; margin:5px 20px; padding:10px; border:1px solid rgb(0,0,255); outline:0px; background-color:rgb(135,206,250)">
  这时就用上了我们的DoAll()了，它将Assign()和Return()结合起来了。 
</div> 
<span style="color:rgb(75,75,75); font-family:'Palatino Linotype','Book Antiqua',Palatino,serif; font-size:14px; line-height:22px">序列（Sequences）</span> 
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; color:rgb(75,75,75); font-size:14px; line-height:22px; border:0px; outline:0px; text-align:justify; font-family:Varela,arial,serif"> 默认时，对于定义要的期望行为是<span style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px">无序（Unordered）</span>的，即当我定义好了如下的期望行为：</p> 
<ol class="linenums" style="word-wrap:break-word; margin:0px 0px 0px 1.5em; padding:0px 0px 0px 20px; list-style:none; color:rgb(75,75,75); font-family:'Palatino Linotype','Book Antiqua',Palatino,serif; font-size:14px; line-height:22px; border:0px; outline:0px"><li class="L0" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        </span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">MockFoo</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> mockFoo</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L1" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        EXPECT_CALL</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">mockFoo</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">,</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> getSize</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">()).</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">WillOnce</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">Return</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="lit" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,102,102)">1</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">));</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L2" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        EXPECT_CALL</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">mockFoo</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">,</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> getValue</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">()).</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">WillOnce</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">Return</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">string</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="str" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,136,0)">"Hello World"</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">)));</span></li></ol> 
<div class="tipMacro" style="word-wrap:break-word; color:rgb(75,75,75); font-family:'Palatino Linotype','Book Antiqua',Palatino,serif; font-size:14px; line-height:22px; margin:5px 20px; padding:10px; border:1px solid rgb(0,0,255); outline:0px; background-color:rgb(135,206,250)">
  对于这样的期望行为的定义，我何时调用 
 <span style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px">mockFoo.getValue()</span>或者何时 
 <span style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px">mockFoo.getSize()</span>都可以的。 
</div> 
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; color:rgb(75,75,75); font-size:14px; line-height:22px; border:0px; outline:0px; text-align:justify; font-family:Varela,arial,serif"> 但有时候我们需要定义<span style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px">有序的（Ordered）</span>的调用方式，即<span style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px">序列 (Sequences)</span> 指定预期的顺序. 在同一序列里的所有预期调用必须按它们指定的顺序发生; 反之则可以是任意顺序.</p> 
<ol class="linenums" style="word-wrap:break-word; margin:0px 0px 0px 1.5em; padding:0px 0px 0px 20px; list-style:none; color:rgb(75,75,75); font-family:'Palatino Linotype','Book Antiqua',Palatino,serif; font-size:14px; line-height:22px; border:0px; outline:0px"><li class="L0" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">using</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">::</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">testing</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">::</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">Return</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L1" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">using</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">::</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">testing</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">::</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">Sequence</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L2" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L3" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">int</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> main</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">int</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> argc</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">,</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">char</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">**</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">argv</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">)</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">{<!-- --></span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L4" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">::</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">testing</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">::</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">InitGoogleMock</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(&amp;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">argc</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">,</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> argv</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">);</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L5" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L6" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        </span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">Sequence</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> s1</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">,</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> s2</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L7" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        </span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">MockFoo</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> mockFoo</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L8" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        EXPECT_CALL</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">mockFoo</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">,</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> getSize</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">()).</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">InSequence</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">s1</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">,</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> s2</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">).</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">WillOnce</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">Return</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="lit" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,102,102)">1</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">));</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L9" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        EXPECT_CALL</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">mockFoo</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">,</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> getValue</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">()).</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">InSequence</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">s1</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">).</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">WillOnce</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">Return</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L0" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">                </span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">string</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="str" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,136,0)">"Hello World!"</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">)));</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L1" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        cout </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">&lt;&lt;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="str" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,136,0)">"First:\t"</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">&lt;&lt;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> mockFoo</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">.</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">getSize</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">()</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">&lt;&lt;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> endl</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L2" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        cout </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">&lt;&lt;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="str" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,136,0)">"Second:\t"</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">&lt;&lt;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> mockFoo</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">.</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">getValue</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">()</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">&lt;&lt;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> endl</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L3" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L4" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        </span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">return</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> EXIT_SUCCESS</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L5" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">}</span></li></ol> 
<div class="tipMacro" style="word-wrap:break-word; color:rgb(75,75,75); font-family:'Palatino Linotype','Book Antiqua',Palatino,serif; font-size:14px; line-height:22px; margin:5px 20px; padding:10px; border:1px solid rgb(0,0,255); outline:0px; background-color:rgb(135,206,250)"> 
 <ul style="word-wrap:break-word; margin:0.5em 0px 1.5em 1.5em; padding:0px 0px 0px 20px; list-style:none; border:0px; outline:0px"><li style="word-wrap:break-word; margin:0px; padding:0px; list-style:inherit; border:0px; outline:0px"> 首先在第8行建立两个序列：s1、s2。</li><li style="word-wrap:break-word; margin:0px; padding:0px; list-style:inherit; border:0px; outline:0px"> 然后在第11行中，<span style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px">EXPECT_CALL(mockFoo, getSize()).InSequence(s1, s2)</span>说明<span style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px">getSize()</span>的行为优先于s1、s2.</li><li style="word-wrap:break-word; margin:0px; padding:0px; list-style:inherit; border:0px; outline:0px"> 而第12行时，<span style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px">EXPECT_CALL(mockFoo, getValue()).InSequence(s1)</span>说明<span style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px">getValue()</span>的行为在序列s1中。</li></ul> 
 <p style="word-wrap:break-word; margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; border:0px; outline:0px; text-align:justify; font-family:Varela,arial,serif"> 得到的结果如下：</p> 
 <div class="cmdlineMacro" style="word-wrap:break-word; margin:5px 20px; padding:10px; border:1px solid rgb(25,25,112); outline:0px; background-color:rgb(0,0,0); color:rgb(255,255,255)">
   First: 1 
  <br style="word-wrap:break-word"> Second: Hello World! 
 </div> 
</div> 
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; color:rgb(75,75,75); font-size:14px; line-height:22px; border:0px; outline:0px; text-align:justify; font-family:Varela,arial,serif"> 当我尝试一下把<span style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px">mockFoo.getSize()</span>和<span style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px">mockFoo.getValue()</span>的调用对调时试试：</p> 
<ol class="linenums" style="word-wrap:break-word; margin:0px 0px 0px 1.5em; padding:0px 0px 0px 20px; list-style:none; color:rgb(75,75,75); font-family:'Palatino Linotype','Book Antiqua',Palatino,serif; font-size:14px; line-height:22px; border:0px; outline:0px"><li class="L0" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        cout </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">&lt;&lt;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="str" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,136,0)">"Second:\t"</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">&lt;&lt;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> mockFoo</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">.</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">getValue</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">()</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">&lt;&lt;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> endl</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L1" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        cout </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">&lt;&lt;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="str" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,136,0)">"First:\t"</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">&lt;&lt;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> mockFoo</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">.</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">getSize</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">()</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">&lt;&lt;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> endl</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">;</span></li></ol> 
<div class="tipMacro" style="word-wrap:break-word; color:rgb(75,75,75); font-family:'Palatino Linotype','Book Antiqua',Palatino,serif; font-size:14px; line-height:22px; margin:5px 20px; padding:10px; border:1px solid rgb(0,0,255); outline:0px; background-color:rgb(135,206,250)">
  得到如下的错误信息： 
 <p style="word-wrap:break-word; margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; border:0px; outline:0px; text-align:justify; font-family:Varela,arial,serif"> </p> 
 <div class="cmdlineMacro" style="word-wrap:break-word; margin:5px 20px; padding:10px; border:1px solid rgb(25,25,112); outline:0px; background-color:rgb(0,0,0); color:rgb(255,255,255)">
   unknown file: Failure 
  <p style="word-wrap:break-word; margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; border:0px; outline:0px; text-align:justify; font-family:Varela,arial,serif"> </p> 
  <p style="word-wrap:break-word; margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; border:0px; outline:0px; text-align:justify; font-family:Varela,arial,serif"> Unexpected mock function call – returning default value.<br style="word-wrap:break-word"> Function call: getValue()<br style="word-wrap:break-word"> Returns: ""<br style="word-wrap:break-word"> Google Mock tried the following 1 expectation, but it didn't match:</p> 
  <p style="word-wrap:break-word; margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; border:0px; outline:0px; text-align:justify; font-family:Varela,arial,serif"> FooMain.cc:29: EXPECT_CALL(mockFoo, getValue())…<br style="word-wrap:break-word"> Expected: all pre-requisites are satisfied<br style="word-wrap:break-word"> Actual: the following immediate pre-requisites are not satisfied:<br style="word-wrap:break-word"> FooMain.cc:28: pre-requisite #0<br style="word-wrap:break-word"> (end of pre-requisites)<br style="word-wrap:break-word"> Expected: to be called once<br style="word-wrap:break-word"> Actual: never called – unsatisfied and active<br style="word-wrap:break-word"> Second:<br style="word-wrap:break-word"> First: 1<br style="word-wrap:break-word"> FooMain.cc:29: Failure<br style="word-wrap:break-word"> Actual function call count doesn't match EXPECT_CALL(mockFoo, getValue())…<br style="word-wrap:break-word"> Expected: to be called once<br style="word-wrap:break-word"> Actual: never called – unsatisfied and active</p> 
 </div> 
</div> 
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; color:rgb(75,75,75); font-size:14px; line-height:22px; border:0px; outline:0px; text-align:justify; font-family:Varela,arial,serif"> 另外，我们还有一个偷懒的方法，就是不要这么傻乎乎地定义这些个<span style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px">Sequence s1, s2</span>的序列，而根据我定义<span style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px">期望行为（EXPECT_CALL）</span>的顺序而自动地识别调用顺序，这种方式可能更为地通用。</p> 
<ol class="linenums" style="word-wrap:break-word; margin:0px 0px 0px 1.5em; padding:0px 0px 0px 20px; list-style:none; color:rgb(75,75,75); font-family:'Palatino Linotype','Book Antiqua',Palatino,serif; font-size:14px; line-height:22px; border:0px; outline:0px"><li class="L0" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">using</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">::</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">testing</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">::</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">InSequence</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L1" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">using</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">::</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">testing</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">::</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">Return</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L2" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L3" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">int</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> main</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">int</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> argc</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">,</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">char</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">**</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">argv</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">)</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">{<!-- --></span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L4" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">::</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">testing</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">::</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">InitGoogleMock</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(&amp;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">argc</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">,</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> argv</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">);</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L5" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L6" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        </span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">InSequence</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> dummy</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L7" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        </span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">MockFoo</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> mockFoo</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L8" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        EXPECT_CALL</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">mockFoo</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">,</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> getSize</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">()).</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">WillOnce</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">Return</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="lit" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,102,102)">1</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">));</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L9" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        EXPECT_CALL</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">mockFoo</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">,</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> getValue</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">()).</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">WillOnce</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">Return</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">string</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="str" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,136,0)">"Hello World"</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">)));</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L0" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L1" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        cout </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">&lt;&lt;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="str" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,136,0)">"First:\t"</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">&lt;&lt;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> mockFoo</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">.</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">getSize</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">()</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">&lt;&lt;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> endl</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L2" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        cout </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">&lt;&lt;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="str" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,136,0)">"Second:\t"</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">&lt;&lt;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> mockFoo</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">.</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">getValue</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">()</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">&lt;&lt;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> endl</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L3" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L4" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        </span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">return</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> EXIT_SUCCESS</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L5" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">}</span></li></ol> 
<span style="color:rgb(75,75,75); font-family:'Palatino Linotype','Book Antiqua',Palatino,serif; font-size:14px; line-height:22px">Mock实践</span> 
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; color:rgb(75,75,75); font-size:14px; line-height:22px; border:0px; outline:0px; text-align:justify; font-family:Varela,arial,serif"> 下面我从我在工作中参与的项目中选取了一个实际的例子来实践Mock。<br style="word-wrap:break-word"> 这个例子的背景是用于搜索引擎的：</p> 
<ul style="word-wrap:break-word; margin:0.5em 0px 1.5em 1.5em; padding:0px 0px 0px 20px; list-style:none; color:rgb(75,75,75); font-family:'Palatino Linotype','Book Antiqua',Palatino,serif; font-size:14px; line-height:22px; border:0px; outline:0px"><li style="word-wrap:break-word; margin:0px; padding:0px; list-style:inherit; border:0px; outline:0px"> <span style="word-wrap:break-word; line-height:21px; margin:0px; padding:0px; border:0px; outline:0px">引擎接收一个查询的Query，比如<a target="_blank" class="smarterwiki-linkify" href="http://127.0.0.1/search?q=mp3&amp;retail" rel="nofollow noopener noreferrer" style="word-wrap:break-word; text-decoration:none; color:rgb(34,122,209); margin:0px; padding:0px; border:0px; outline:0px">http://127.0.0.1/search?q=mp3&amp;retail</a></span><span style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px">wholesale=0&amp;is</span>use_alipay=1</li><li style="word-wrap:break-word; margin:0px; padding:0px; list-style:inherit; border:0px; outline:0px"> 引擎接收到这个Query后，将解析这个Query，将Query的Segment（如q=mp3、retail_wholesale=0放到一个数据结构中）</li><li style="word-wrap:break-word; margin:0px; padding:0px; list-style:inherit; border:0px; outline:0px"> 引擎会调用另外内部模块具体根据这些Segment来处理相应的业务逻辑。</li></ul> 
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; color:rgb(75,75,75); font-size:14px; line-height:22px; border:0px; outline:0px; text-align:justify; font-family:Varela,arial,serif"> 由于Google Mock不能Mock模版方法，因此我稍微更改了一下原本的接口，以便演示：</p> 
<span style="color:rgb(75,75,75); font-family:'Palatino Linotype','Book Antiqua',Palatino,serif; font-size:14px; line-height:22px">我改过的例子</span> 
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; color:rgb(75,75,75); font-size:14px; line-height:22px; border:0px; outline:0px; text-align:justify; font-family:Varela,arial,serif"> 我们先来看看引擎定义好的接口们：<br style="word-wrap:break-word"> <span style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px">VariantField.h</span> 一个联合体，用于保存Query中的Segment的值</p> 
<ol class="linenums" style="word-wrap:break-word; margin:0px 0px 0px 1.5em; padding:0px 0px 0px 20px; list-style:none; color:rgb(75,75,75); font-family:'Palatino Linotype','Book Antiqua',Palatino,serif; font-size:14px; line-height:22px; border:0px; outline:0px"><li class="L0" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">#ifndef</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> VARIANTFIELD_H_</span><br style="word-wrap:break-word"> </li><li class="L1" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">#define</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> VARIANTFIELD_H_</span><br style="word-wrap:break-word"> </li><li class="L2" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L3" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">#include</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">&lt;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">boost</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">/</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">cstdint</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">.</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">hpp</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">&gt;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L4" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L5" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">namespace</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> seamless </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">{<!-- --></span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L6" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L7" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">union</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">VariantField</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L8" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">{<!-- --></span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L9" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">    </span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">const</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">char</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">*</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> strVal</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L0" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">    int32_t intVal</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L1" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">};</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L2" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L3" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">}</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">  </span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">// namespace mlr_isearch_api</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L4" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L5" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">#endif</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">// VARIANTFIELD_H_</span></li></ol> 
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; color:rgb(75,75,75); font-size:14px; line-height:22px; border:0px; outline:0px; text-align:justify; font-family:Varela,arial,serif"> <span style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px">IParameterInterface.h</span> 提供一个接口，用于得到Query中的各个Segment的值</p> 
<ol class="linenums" style="word-wrap:break-word; margin:0px 0px 0px 1.5em; padding:0px 0px 0px 20px; list-style:none; color:rgb(75,75,75); font-family:'Palatino Linotype','Book Antiqua',Palatino,serif; font-size:14px; line-height:22px; border:0px; outline:0px"><li class="L0" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">#ifndef</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> IPARAMETERINTERFACE_H_</span><br style="word-wrap:break-word"> </li><li class="L1" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">#define</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> IPARAMETERINTERFACE_H_</span><br style="word-wrap:break-word"> </li><li class="L2" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L3" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">#include</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">&lt;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">boost</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">/</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">cstdint</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">.</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">hpp</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">&gt;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L4" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L5" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">#include</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="str" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,136,0)">"VariantField.h"</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L6" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L7" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">namespace</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> seamless </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">{<!-- --></span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L8" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L9" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">class</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">IParameterInterface</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">{<!-- --></span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L0" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">public</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">:</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L1" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        </span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">virtual</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">~</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">IParameterInterface</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">()</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">{};</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L2" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L3" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">public</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">:</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L4" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        </span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">virtual</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> int32_t getParameter</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">const</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">char</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">*</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> name</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">,</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">  </span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">VariantField</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">*&amp;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> value</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">)</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">=</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="lit" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,102,102)">0</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L5" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">};</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L6" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L7" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">}</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">  </span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">// namespace</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L8" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L9" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">#endif</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">// IPARAMETERINTERFACE_H_</span></li></ol> 
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; color:rgb(75,75,75); font-size:14px; line-height:22px; border:0px; outline:0px; text-align:justify; font-family:Varela,arial,serif"> <span style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px">IAPIProviderInterface.h</span> 一个统一的外部接口</p> 
<ol class="linenums" style="word-wrap:break-word; margin:0px 0px 0px 1.5em; padding:0px 0px 0px 20px; list-style:none; color:rgb(75,75,75); font-family:'Palatino Linotype','Book Antiqua',Palatino,serif; font-size:14px; line-height:22px; border:0px; outline:0px"><li class="L0" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">#ifndef</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> IAPIPROVIDERINTERFACE_H_</span><br style="word-wrap:break-word"> </li><li class="L1" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">#define</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> IAPIPROVIDERINTERFACE_H_</span><br style="word-wrap:break-word"> </li><li class="L2" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L3" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">#include</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">&lt;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">boost</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">/</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">cstdint</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">.</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">hpp</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">&gt;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L4" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L5" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">#include</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="str" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,136,0)">"IParameterInterface.h"</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L6" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">#include</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="str" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,136,0)">"VariantField.h"</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L7" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L8" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">namespace</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> seamless </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">{<!-- --></span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L9" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L0" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">class</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">IAPIProviderInterface</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">{<!-- --></span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L1" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">public</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">:</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L2" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        </span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">IAPIProviderInterface</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">()</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">{}</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L3" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        </span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">virtual</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">~</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">IAPIProviderInterface</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">()</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">{}</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L4" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L5" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">public</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">:</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L6" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        </span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">virtual</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">IParameterInterface</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">*</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> getParameterInterface</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">()</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">=</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="lit" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,102,102)">0</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L7" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">};</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L8" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L9" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">}</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L0" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L1" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">#endif</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">// IAPIPROVIDERINTERFACE_H_</span></li></ol> 
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; color:rgb(75,75,75); font-size:14px; line-height:22px; border:0px; outline:0px; text-align:justify; font-family:Varela,arial,serif"> 引擎定义好的接口就以上三个，下面是引擎中的一个模块用于根据Query中的Segment接合业务处理的。<span style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px">Rank.h</span> 头文件</p> 
<ol class="linenums" style="word-wrap:break-word; margin:0px 0px 0px 1.5em; padding:0px 0px 0px 20px; list-style:none; color:rgb(75,75,75); font-family:'Palatino Linotype','Book Antiqua',Palatino,serif; font-size:14px; line-height:22px; border:0px; outline:0px"><li class="L0" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">#ifndef</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> RANK_H_</span><br style="word-wrap:break-word"> </li><li class="L1" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">#define</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> RANK_H_</span><br style="word-wrap:break-word"> </li><li class="L2" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L3" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">#include</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="str" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,136,0)">"IAPIProviderInterface.h"</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L4" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L5" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">namespace</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> seamless </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">{<!-- --></span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L6" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L7" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">class</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">Rank</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">{<!-- --></span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L8" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">public</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">:</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L9" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        </span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">virtual</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">~</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">Rank</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">()</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">{}</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L0" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L1" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">public</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">:</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L2" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        </span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">void</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> processQuery</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">IAPIProviderInterface</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">*</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> iAPIProvider</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">);</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L3" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">};</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L4" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L5" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">}</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">  </span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">// namespace seamless</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L6" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L7" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">#endif</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">// RANK_H_</span></li></ol> 
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; color:rgb(75,75,75); font-size:14px; line-height:22px; border:0px; outline:0px; text-align:justify; font-family:Varela,arial,serif"> <span style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px">Rank.cc</span> 实现</p> 
<ol class="linenums" style="word-wrap:break-word; margin:0px 0px 0px 1.5em; padding:0px 0px 0px 20px; list-style:none; color:rgb(75,75,75); font-family:'Palatino Linotype','Book Antiqua',Palatino,serif; font-size:14px; line-height:22px; border:0px; outline:0px"><li class="L0" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">#include</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="str" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,136,0)">&lt;cstdlib&gt;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L1" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">#include</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="str" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,136,0)">&lt;cstring&gt;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L2" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">#include</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="str" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,136,0)">&lt;iostream&gt;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L3" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">#include</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="str" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,136,0)">&lt;string&gt;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L4" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">#include</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="str" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,136,0)">"IAPIProviderInterface.h"</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L5" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">#include</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="str" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,136,0)">"IParameterInterface.h"</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L6" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">#include</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="str" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,136,0)">"VariantField.h"</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L7" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L8" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">#include</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="str" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,136,0)">"Rank.h"</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L9" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L0" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">using</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">namespace</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> seamless</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L1" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">using</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">namespace</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> std</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L2" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L3" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">namespace</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> seamless </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">{<!-- --></span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L4" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L5" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">void</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">Rank</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">::</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">processQuery</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">IAPIProviderInterface</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">*</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> iAPIProvider</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">)</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">{<!-- --></span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L6" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        </span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">IParameterInterface</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">*</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> iParameter </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">=</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> iAPIProvider</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">-&gt;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">getParameterInterface</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">();</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L7" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        </span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">if</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(!</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">iParameter</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">)</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">{<!-- --></span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L8" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">                cerr </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">&lt;&lt;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="str" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,136,0)">"iParameter is NULL"</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">&lt;&lt;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> endl</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L9" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">                </span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">return</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L0" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">}</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L1" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L2" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        int32_t isRetailWholesale </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">=</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="lit" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,102,102)">0</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L3" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        int32_t isUseAlipay </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">=</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="lit" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,102,102)">0</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L4" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L5" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        </span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">VariantField</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">*</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> value </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">=</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">new</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">VariantField</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L6" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L7" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        iParameter</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">-&gt;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">getParameter</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="str" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,136,0)">"retail_wholesale"</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">,</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> value</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">);</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L8" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        isRetailWholesale </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">=</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">strcmp</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">value</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">-&gt;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">strVal</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">,</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="str" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,136,0)">"0"</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">))</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">?</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="lit" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,102,102)">1</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">:</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="lit" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,102,102)">0</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L9" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L0" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        iParameter</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">-&gt;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">getParameter</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="str" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,136,0)">"is_use_alipay"</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">,</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> value</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">);</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L1" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        isUseAlipay </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">=</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">strcmp</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">value</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">-&gt;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">strVal</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">,</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="str" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,136,0)">"0"</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">))</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">?</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="lit" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,102,102)">1</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">:</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="lit" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,102,102)">0</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L2" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L3" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        cout </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">&lt;&lt;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="str" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,136,0)">"isRetailWholesale:\t"</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">&lt;&lt;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> isRetailWholesale </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">&lt;&lt;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> endl</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L4" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        cout </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">&lt;&lt;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="str" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,136,0)">"isUseAlipay:\t"</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">&lt;&lt;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> isUseAlipay </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">&lt;&lt;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> endl</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L5" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L6" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        </span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">delete</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> value</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L7" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        </span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">delete</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> iParameter</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L8" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">}</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L9" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L0" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">}</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">  </span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">// namespace seamless</span></li></ol> 
<div class="tipMacro" style="word-wrap:break-word; color:rgb(75,75,75); font-family:'Palatino Linotype','Book Antiqua',Palatino,serif; font-size:14px; line-height:22px; margin:5px 20px; padding:10px; border:1px solid rgb(0,0,255); outline:0px; background-color:rgb(135,206,250)"> 
 <ul style="word-wrap:break-word; margin:0.5em 0px 1.5em 1.5em; padding:0px 0px 0px 20px; list-style:none; border:0px; outline:0px"><li style="word-wrap:break-word; margin:0px; padding:0px; list-style:inherit; border:0px; outline:0px"> 从上面的例子中可以看出，引擎会传入一个IAPIProviderInterface对象，这个对象调用getParameterInterface()方法来得到Query中的Segment。</li><li style="word-wrap:break-word; margin:0px; padding:0px; list-style:inherit; border:0px; outline:0px"> 因此，我们需要Mock的对象也比较清楚了，就是要模拟引擎将Query的Segment传给这个模块。其实就是让=模拟<span style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px">iParameter-&gt;getParameter</span>方法：我想让它返回什么样的值就返回什么样的值.</li></ul> 
</div> 
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; color:rgb(75,75,75); font-size:14px; line-height:22px; border:0px; outline:0px; text-align:justify; font-family:Varela,arial,serif"> 下面我们开始Mock了：<br style="word-wrap:break-word"> <span style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px">MockIParameterInterface.h</span> 模拟模拟IParameterInterface类</p> 
<ol class="linenums" style="word-wrap:break-word; margin:0px 0px 0px 1.5em; padding:0px 0px 0px 20px; list-style:none; color:rgb(75,75,75); font-family:'Palatino Linotype','Book Antiqua',Palatino,serif; font-size:14px; line-height:22px; border:0px; outline:0px"><li class="L0" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">#ifndef</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> MOCKIPARAMETERINTERFACE_H_</span><br style="word-wrap:break-word"> </li><li class="L1" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">#define</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> MOCKIPARAMETERINTERFACE_H_</span><br style="word-wrap:break-word"> </li><li class="L2" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L3" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">#include</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">&lt;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">boost</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">/</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">cstdint</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">.</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">hpp</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">&gt;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L4" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">#include</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="str" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,136,0)">&lt;gmock/gmock.h&gt;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L5" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L6" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">#include</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="str" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,136,0)">"IParameterInterface.h"</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L7" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">#include</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="str" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,136,0)">"VariantField.h"</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L8" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L9" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">namespace</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> seamless </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">{<!-- --></span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L0" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L1" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">class</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">MockIParameterInterface</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">:</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">public</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">IParameterInterface</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">{<!-- --></span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L2" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">public</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">:</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L3" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        MOCK_METHOD2</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">getParameter</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">,</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> int32_t</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">const</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">char</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">*</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> name</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">,</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">  </span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">VariantField</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">*&amp;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> value</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">));</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L4" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">};</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L5" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L6" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">}</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">  </span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">// namespace seamless</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L7" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L8" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">#endif</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">// MOCKIPARAMETERINTERFACE_H_</span></li></ol> 
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; color:rgb(75,75,75); font-size:14px; line-height:22px; border:0px; outline:0px; text-align:justify; font-family:Varela,arial,serif"> <span style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px">MockIAPIProviderInterface.h</span> 模拟IAPIProviderInterface类</p> 
<ol class="linenums" style="word-wrap:break-word; margin:0px 0px 0px 1.5em; padding:0px 0px 0px 20px; list-style:none; color:rgb(75,75,75); font-family:'Palatino Linotype','Book Antiqua',Palatino,serif; font-size:14px; line-height:22px; border:0px; outline:0px"><li class="L0" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">#ifndef</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> MOCKIAPIPROVIDERINTERFACE_H_</span><br style="word-wrap:break-word"> </li><li class="L1" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">#define</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> MOCKIAPIPROVIDERINTERFACE_H_</span><br style="word-wrap:break-word"> </li><li class="L2" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L3" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">#include</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="str" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,136,0)">&lt;gmock/gmock.h&gt;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L4" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L5" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">#include</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="str" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,136,0)">"IAPIProviderInterface.h"</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L6" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">#include</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="str" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,136,0)">"IParameterInterface.h"</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L7" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L8" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">namespace</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> seamless </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">{<!-- --></span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L9" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L0" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">class</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">MockIAPIProviderInterface</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">:</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">public</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">IAPIProviderInterface</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">{<!-- --></span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L1" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">public</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">:</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L2" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        MOCK_METHOD0</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">getParameterInterface</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">,</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">IParameterInterface</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">*());</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L3" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">};</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L4" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L5" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">}</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">  </span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">// namespace seamless</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L6" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L7" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">#endif</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">// MOCKIAPIPROVIDERINTERFACE_H_</span></li></ol> 
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; color:rgb(75,75,75); font-size:14px; line-height:22px; border:0px; outline:0px; text-align:justify; font-family:Varela,arial,serif"> <span style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px">tester.cc</span> 一个测试程序，试试我们的Mock成果</p> 
<ol class="linenums" style="word-wrap:break-word; margin:0px 0px 0px 1.5em; padding:0px 0px 0px 20px; list-style:none; color:rgb(75,75,75); font-family:'Palatino Linotype','Book Antiqua',Palatino,serif; font-size:14px; line-height:22px; border:0px; outline:0px"><li class="L0" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">#include</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">&lt;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">boost</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">/</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">cstdint</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">.</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">hpp</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">&gt;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L1" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">#include</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">&lt;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">boost</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">/</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">shared_ptr</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">.</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">hpp</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">&gt;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L2" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">#include</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="str" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,136,0)">&lt;cstdlib&gt;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L3" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">#include</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="str" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,136,0)">&lt;gmock/gmock.h&gt;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L4" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L5" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">#include</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="str" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,136,0)">"MockIAPIProviderInterface.h"</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L6" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">#include</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="str" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,136,0)">"MockIParameterInterface.h"</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L7" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">#include</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="str" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,136,0)">"Rank.h"</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L8" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L9" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">using</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">namespace</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> seamless</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L0" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">using</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">namespace</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> std</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L1" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L2" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">using</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">::</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">testing</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">::</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">_</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L3" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">using</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">::</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">testing</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">::</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">AtLeast</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L4" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">using</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">::</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">testing</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">::</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">DoAll</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L5" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">using</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">::</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">testing</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">::</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">Return</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L6" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">using</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">::</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">testing</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">::</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">SetArgumentPointee</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L7" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L8" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">int</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> main</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">int</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> argc</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">,</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">char</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">**</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> argv</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">)</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">{<!-- --></span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L9" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">::</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">testing</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">::</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">InitGoogleMock</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(&amp;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">argc</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">,</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> argv</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">);</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L0" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L1" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        </span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">MockIAPIProviderInterface</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">*</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> iAPIProvider </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">=</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">new</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">MockIAPIProviderInterface</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L2" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        </span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">MockIParameterInterface</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">*</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> iParameter </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">=</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">new</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">MockIParameterInterface</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L3" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L4" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        EXPECT_CALL</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(*</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">iAPIProvider</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">,</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> getParameterInterface</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">()).</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">Times</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">AtLeast</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="lit" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,102,102)">1</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">)).</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L5" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">                </span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">WillRepeatedly</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">Return</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">iParameter</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">));</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L6" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L7" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        boost</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">::</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">shared_ptr</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">&lt;</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">VariantField</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">&gt;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> retailWholesaleValue</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">new</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">VariantField</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">);</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L8" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        retailWholesaleValue</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">-&gt;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">strVal </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">=</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="str" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,136,0)">"0"</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L9" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L0" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        boost</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">::</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">shared_ptr</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">&lt;</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">VariantField</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">&gt;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> defaultValue</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">new</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">VariantField</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">);</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L1" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        defaultValue</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">-&gt;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">strVal </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">=</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="str" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,136,0)">"9"</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L2" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L3" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        EXPECT_CALL</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(*</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">iParameter</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">,</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> getParameter</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">_</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">,</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> _</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">)).</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">Times</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">AtLeast</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="lit" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,102,102)">1</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">)).</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L4" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">                </span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">WillOnce</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">DoAll</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">SetArgumentPointee</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">&lt;</span><span class="lit" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,102,102)">1</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">&gt;(*</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">retailWholesaleValue</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">),</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">Return</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="lit" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,102,102)">1</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">))).</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L5" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">                </span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">WillRepeatedly</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">DoAll</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">SetArgumentPointee</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">&lt;</span><span class="lit" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,102,102)">1</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">&gt;(*</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">defaultValue</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">),</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">Return</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="lit" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,102,102)">1</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">)));</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L6" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L7" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        </span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">Rank</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> rank</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L8" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        rank</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">.</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">processQuery</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">iAPIProvider</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">);</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L9" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L0" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        </span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">delete</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> iAPIProvider</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L1" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L2" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        </span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">return</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> EXIT_SUCCESS</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L3" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">}</span></li></ol> 
<div class="tipMacro" style="word-wrap:break-word; color:rgb(75,75,75); font-family:'Palatino Linotype','Book Antiqua',Palatino,serif; font-size:14px; line-height:22px; margin:5px 20px; padding:10px; border:1px solid rgb(0,0,255); outline:0px; background-color:rgb(135,206,250)"> 
 <ul style="word-wrap:break-word; margin:0.5em 0px 1.5em 1.5em; padding:0px 0px 0px 20px; list-style:none; border:0px; outline:0px"><li style="word-wrap:break-word; margin:0px; padding:0px; list-style:inherit; border:0px; outline:0px"> 第26行，定义一个执行顺序，因此在之前的Rank.cc中，是先调用iAPIProvider&gt;getParameterInterface，然后再调用iParameter&gt;getParameter，因此我们在下面会先定义MockIAPIProviderInterface.getParameterInterface的期望行为，然后再是其他的。</li><li style="word-wrap:break-word; margin:0px; padding:0px; list-style:inherit; border:0px; outline:0px"> 第27~28行，定义MockIAPIProviderInterface.getParameterInterface的的行为：程序至少被调用一次（Times(AtLeast(1))），每次调用都返回一个iParameter（即MockIParameterInterface*的对象）。</li><li style="word-wrap:break-word; margin:0px; padding:0px; list-style:inherit; border:0px; outline:0px"> <span style="word-wrap:break-word; line-height:21px; margin:0px; padding:0px; border:0px; outline:0px">第30~34行，我自己假设了一些Query的Segment的值。即我想达到的效果是Query类似<a target="_blank" class="smarterwiki-linkify" href="http://127.0.0.1/search?retail" rel="nofollow noopener noreferrer" style="word-wrap:break-word; text-decoration:none; color:rgb(34,122,209); margin:0px; padding:0px; border:0px; outline:0px">http://127.0.0.1/search?retail</a></span><span style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px">wholesale=0&amp;is</span>use_alipay=9。</li><li style="word-wrap:break-word; margin:0px; padding:0px; list-style:inherit; border:0px; outline:0px"> 第36~38行，我们定义MockIParameterInterface.getParameter的期望行为：这个方法至少被调用一次;第一次被调用时返回1并将第一个形参指向retailWholesaleValue;后续几次被调用时返回1，并指向defaultValue。</li><li style="word-wrap:break-word; margin:0px; padding:0px; list-style:inherit; border:0px; outline:0px"> 第51行，运行Rank类下的processQuery方法。</li></ul> 
 <p style="word-wrap:break-word; margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; border:0px; outline:0px; text-align:justify; font-family:Varela,arial,serif"> 看看我们的运行成果：</p> 
 <div class="cmdlineMacro" style="word-wrap:break-word; margin:5px 20px; padding:10px; border:1px solid rgb(25,25,112); outline:0px; background-color:rgb(0,0,0); color:rgb(255,255,255)">
   isRetailWholesale: 0 
  <br style="word-wrap:break-word"> isUseAlipay: 1 
 </div> 
 <p style="word-wrap:break-word; margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; border:0px; outline:0px; text-align:justify; font-family:Varela,arial,serif"> 从这个结果验证出我们传入的Query信息是对的，成功Mock!</p> 
</div> 
<span style="color:rgb(75,75,75); font-family:'Palatino Linotype','Book Antiqua',Palatino,serif; font-size:14px; line-height:22px">现实中的例子</span> 
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; color:rgb(75,75,75); font-size:14px; line-height:22px; border:0px; outline:0px; text-align:justify; font-family:Varela,arial,serif"> 就如我之前所说的，上述的那个例子是我改过的，现实项目中哪有这么理想的结构（特别对于那些从来没有<span style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px">Develop for Debug</span>思想的同学）。<br style="word-wrap:break-word"> 因此我们来看看上述这个例子中实际的代码：其实只有<span style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px">IAPIProviderInterface.h</span>不同，它定义了一个模版函数，用于统一各种类型的接口： <span style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px">IAPIProviderInterface.h</span> 真正的IAPIProviderInterface.h，有一个模版函数</p> 
<ol class="linenums" style="word-wrap:break-word; margin:0px 0px 0px 1.5em; padding:0px 0px 0px 20px; list-style:none; color:rgb(75,75,75); font-family:'Palatino Linotype','Book Antiqua',Palatino,serif; font-size:14px; line-height:22px; border:0px; outline:0px"><li class="L0" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">#ifndef</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> IAPIPROVIDERINTERFACE_H_</span><br style="word-wrap:break-word"> </li><li class="L1" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">#define</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> IAPIPROVIDERINTERFACE_H_</span><br style="word-wrap:break-word"> </li><li class="L2" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L3" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">#include</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">&lt;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">boost</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">/</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">cstdint</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">.</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">hpp</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">&gt;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L4" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">#include</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="str" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,136,0)">&lt;iostream&gt;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L5" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L6" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">#include</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="str" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,136,0)">"IBaseInterface.h"</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L7" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">#include</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="str" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,136,0)">"IParameterInterface.h"</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L8" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">#include</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="str" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,136,0)">"VariantField.h"</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L9" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L0" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">namespace</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> seamless </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">{<!-- --></span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L1" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L2" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">class</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">IAPIProviderInterface</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">:</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">public</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">IBaseInterface</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">{<!-- --></span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L3" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">public</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">:</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L4" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        </span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">IAPIProviderInterface</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">()</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">{}</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L5" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        </span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">virtual</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">~</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">IAPIProviderInterface</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">()</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">{}</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L6" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L7" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">public</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">:</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L8" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        </span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">virtual</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> int32_t queryInterface</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">IBaseInterface</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">*&amp;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> pInterface</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">)</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">=</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="lit" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,102,102)">0</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L9" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L0" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        </span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">template</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">&lt;</span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">typename</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">InterfaceType</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">&gt;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L1" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        </span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">InterfaceType</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">*</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> getInterface</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">()</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">{<!-- --></span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L2" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">                </span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">IBaseInterface</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">*</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> pInterface </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">=</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> NULL</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L3" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">                </span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">if</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">queryInterface</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">pInterface</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">))</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">{<!-- --></span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L4" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">                        std</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">::</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">cerr </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">&lt;&lt;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="str" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,136,0)">"Query Interface failed"</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">&lt;&lt;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> std</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">::</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">endl</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L5" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">                </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">}</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L6" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">                </span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">return</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">static_cast</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">&lt;</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">InterfaceType</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">*</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">&gt;(</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">pInterface</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">);</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L7" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">}</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L8" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">};</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L9" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L0" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">}</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L1" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L2" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">#endif</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">// IAPIPROVIDERINTERFACE_H_</span></li></ol> 
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; color:rgb(75,75,75); font-size:14px; line-height:22px; border:0px; outline:0px; text-align:justify; font-family:Varela,arial,serif"> <span style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px">Rank.cc</span> 既然IAPIProviderInterface.h改了，那Rank.cc中对它的调用其实也不是之前那样的。不过其实也就差一行代码：</p> 
<ol class="linenums" style="word-wrap:break-word; margin:0px 0px 0px 1.5em; padding:0px 0px 0px 20px; list-style:none; color:rgb(75,75,75); font-family:'Palatino Linotype','Book Antiqua',Palatino,serif; font-size:14px; line-height:22px; border:0px; outline:0px"><li class="L0" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">//      IParameterInterface* iParameter = iAPIProvider-&gt;getParameterInterface();</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L1" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        </span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">IParameterInterface</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">*</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> iParameter </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">=</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> iAPIProvider</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">-&gt;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">getInterface</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">&lt;</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">IParameterInterface</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">&gt;();</span></li></ol> 
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; color:rgb(75,75,75); font-size:14px; line-height:22px; border:0px; outline:0px; text-align:justify; font-family:Varela,arial,serif"> 因为目前版本（1.5版本）的Google Mock还不支持模版函数，因此我们无法Mock IAPIProviderInterface中的getInterface，那我们现在怎么办？<br style="word-wrap:break-word"> 如果你想做得比较完美的话我暂时也没想出办法，我现在能够想出的办法也只能这样：<span style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px">IAPIProviderInterface.h</span> 修改其中的getInterface，让它根据模版类型，如果是<span style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px">IParameterInterface</span>或者<span style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px">MockIParameterInterface</span>则就返回一个<span style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px">MockIParameterInterface</span>的对象</p> 
<ol class="linenums" style="word-wrap:break-word; margin:0px 0px 0px 1.5em; padding:0px 0px 0px 20px; list-style:none; color:rgb(75,75,75); font-family:'Palatino Linotype','Book Antiqua',Palatino,serif; font-size:14px; line-height:22px; border:0px; outline:0px"><li class="L0" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">#ifndef</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> IAPIPROVIDERINTERFACE_H_</span><br style="word-wrap:break-word"> </li><li class="L1" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">#define</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> IAPIPROVIDERINTERFACE_H_</span><br style="word-wrap:break-word"> </li><li class="L2" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L3" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">#include</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">&lt;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">boost</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">/</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">cstdint</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">.</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">hpp</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">&gt;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L4" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">#include</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="str" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,136,0)">&lt;iostream&gt;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L5" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L6" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">#include</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="str" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,136,0)">"IBaseInterface.h"</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L7" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">#include</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="str" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,136,0)">"IParameterInterface.h"</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L8" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">#include</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="str" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,136,0)">"VariantField.h"</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L9" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L0" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">// In order to Mock</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L1" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">#include</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">&lt;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">boost</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">/</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">shared_ptr</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">.</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">hpp</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">&gt;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L2" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">#include</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="str" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,136,0)">&lt;gmock/gmock.h&gt;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L3" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">#include</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="str" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,136,0)">"MockIParameterInterface.h"</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L4" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L5" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">namespace</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> seamless </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">{<!-- --></span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L6" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L7" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">class</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">IAPIProviderInterface</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">:</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">public</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">IBaseInterface</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">{<!-- --></span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L8" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">public</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">:</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L9" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        </span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">IAPIProviderInterface</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">()</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">{}</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L0" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        </span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">virtual</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">~</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">IAPIProviderInterface</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">()</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">{}</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L1" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L2" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">public</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">:</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L3" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        </span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">virtual</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> int32_t queryInterface</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">IBaseInterface</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">*&amp;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> pInterface</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">)</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">=</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="lit" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,102,102)">0</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L4" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L5" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        </span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">template</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">&lt;</span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">typename</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">InterfaceType</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">&gt;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L6" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        </span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">InterfaceType</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">*</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> getInterface</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">()</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">{<!-- --></span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L7" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">                </span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">IBaseInterface</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">*</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> pInterface </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">=</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> NULL</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L8" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">                </span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">if</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">queryInterface</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">pInterface</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">)</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">==</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="lit" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,102,102)">0</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">)</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">{<!-- --></span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L9" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">                        std</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">::</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">cerr </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">&lt;&lt;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="str" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,136,0)">"Query Interface failed"</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">&lt;&lt;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> std</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">::</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">endl</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L0" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">                </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">}</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L1" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L2" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">                </span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">// In order to Mock</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L3" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">                </span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">if</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">((</span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">typeid</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">InterfaceType</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">)</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">==</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">typeid</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">IParameterInterface</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">))</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">||</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L4" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">                        </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">typeid</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">InterfaceType</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">)</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">==</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">typeid</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">MockIParameterInterface</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">)))</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">{<!-- --></span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L5" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">                        </span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">using</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">namespace</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">::</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">testing</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L6" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">                        </span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">MockIParameterInterface</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">*</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> iParameter </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">=</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">new</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">MockIParameterInterface</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L7" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">                        boost</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">::</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">shared_ptr</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">&lt;</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">VariantField</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">&gt;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> retailWholesaleValue</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">new</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">VariantField</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">);</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L8" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">                        retailWholesaleValue</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">-&gt;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">strVal </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">=</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="str" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,136,0)">"0"</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L9" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L0" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">                        boost</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">::</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">shared_ptr</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">&lt;</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">VariantField</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">&gt;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> defaultValue</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">new</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">VariantField</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">);</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L1" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">                        defaultValue</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">-&gt;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">strVal </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">=</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="str" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,136,0)">"9"</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L2" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L3" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">                        EXPECT_CALL</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(*</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">iParameter</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">,</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> getParameter</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">_</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">,</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> _</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">)).</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">Times</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">AtLeast</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="lit" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,102,102)">1</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">)).</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L4" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">                                </span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">WillOnce</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">DoAll</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">SetArgumentPointee</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">&lt;</span><span class="lit" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,102,102)">1</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">&gt;(*</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">retailWholesaleValue</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">),</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">Return</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="lit" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,102,102)">1</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">))).</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L5" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">                                </span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">WillRepeatedly</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">DoAll</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">SetArgumentPointee</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">&lt;</span><span class="lit" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,102,102)">1</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">&gt;(*</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">defaultValue</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">),</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">Return</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="lit" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,102,102)">1</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">)));</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L6" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">                        </span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">return</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">static_cast</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">&lt;</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">InterfaceType</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">*</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">&gt;(</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">iParameter</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">);</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L7" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">                </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">}</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L8" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">                </span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">// end of mock</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L9" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L0" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">                </span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">return</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">static_cast</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">&lt;</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">InterfaceType</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">*</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">&gt;(</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">pInterface</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">);</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L1" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">}</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L2" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">};</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L3" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L4" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">}</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L5" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L6" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">#endif</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">// IAPIPROVIDERINTERFACE_H_</span></li></ol> 
<div class="tipMacro" style="word-wrap:break-word; color:rgb(75,75,75); font-family:'Palatino Linotype','Book Antiqua',Palatino,serif; font-size:14px; line-height:22px; margin:5px 20px; padding:10px; border:1px solid rgb(0,0,255); outline:0px; background-color:rgb(135,206,250)"> 
 <ul style="word-wrap:break-word; margin:0.5em 0px 1.5em 1.5em; padding:0px 0px 0px 20px; list-style:none; border:0px; outline:0px"><li style="word-wrap:break-word; margin:0px; padding:0px; list-style:inherit; border:0px; outline:0px"> 第33~49行，判断传入的模版函数的类型，然后定义相应的行为，最后返回一个<span style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px">MockIParameterInterface</span>对象</li></ul> 
</div> 
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; color:rgb(75,75,75); font-size:14px; line-height:22px; border:0px; outline:0px; text-align:justify; font-family:Varela,arial,serif"> <span style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px">tester.cc</span></p> 
<ol class="linenums" style="word-wrap:break-word; margin:0px 0px 0px 1.5em; padding:0px 0px 0px 20px; list-style:none; color:rgb(75,75,75); font-family:'Palatino Linotype','Book Antiqua',Palatino,serif; font-size:14px; line-height:22px; border:0px; outline:0px"><li class="L0" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">int</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> main</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">int</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> argc</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">,</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">char</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">**</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> argv</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">)</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">{<!-- --></span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L1" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">::</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">testing</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">::</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">InitGoogleMock</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(&amp;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">argc</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">,</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> argv</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">);</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L2" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L3" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        </span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">MockIAPIProviderInterface</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">*</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> iAPIProvider </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">=</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">new</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">MockIAPIProviderInterface</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L4" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L5" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        </span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">InSequence</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> dummy</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L6" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        EXPECT_CALL</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(*</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">iAPIProvider</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">,</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> queryInterface</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">_</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">)).</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">Times</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">AtLeast</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="lit" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,102,102)">1</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">)).</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L7" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">                </span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">WillRepeatedly</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">Return</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="lit" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,102,102)">1</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">));</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L8" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L9" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        </span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">Rank</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> rank</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L0" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        rank</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">.</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">processQuery</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">iAPIProvider</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">);</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L1" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L2" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        </span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">delete</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> iAPIProvider</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L3" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L4" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        </span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">return</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> EXIT_SUCCESS</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L5" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">}</span></li></ol> 
<div class="tipMacro" style="word-wrap:break-word; color:rgb(75,75,75); font-family:'Palatino Linotype','Book Antiqua',Palatino,serif; font-size:14px; line-height:22px; margin:5px 20px; padding:10px; border:1px solid rgb(0,0,255); outline:0px; background-color:rgb(135,206,250)"> 
 <ul style="word-wrap:break-word; margin:0.5em 0px 1.5em 1.5em; padding:0px 0px 0px 20px; list-style:none; border:0px; outline:0px"><li style="word-wrap:break-word; margin:0px; padding:0px; list-style:inherit; border:0px; outline:0px"> 这里的调用就相对简单了，只要一个<span style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px">MockIAPIProviderInterface</span>就可以了。</li></ul> 
</div> 
<span style="color:rgb(75,75,75); font-family:'Palatino Linotype','Book Antiqua',Palatino,serif; font-size:14px; line-height:22px">Google Mock Cookbook</span> 
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; color:rgb(75,75,75); font-size:14px; line-height:22px; border:0px; outline:0px; text-align:justify; font-family:Varela,arial,serif"> 这里根据<a target="_blank" href="http://code.google.com/p/googlemock/wiki/CookBook" rel="nofollow noopener noreferrer" style="word-wrap:break-word; text-decoration:none; color:rgb(34,122,209); margin:0px; padding:0px; border:0px; outline:0px">Google Mock Cookbook</a>和我自己试用的一些经验，整理一些试用方面的技巧。</p> 
<span style="color:rgb(75,75,75); font-family:'Palatino Linotype','Book Antiqua',Palatino,serif; font-size:14px; line-height:22px">Mock protected、private方法</span> 
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; color:rgb(75,75,75); font-size:14px; line-height:22px; border:0px; outline:0px; text-align:justify; font-family:Varela,arial,serif"> Google Mock也可以模拟<span style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:red">protected</span>和<span style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:red">private</span>方法，比较神奇啊（其实从这点上也可以看出，Mock类不是简单地继承原本的接口，然后自己把它提供的方法实现;Mock类其实就等于原本的接口）。<br style="word-wrap:break-word"> 对<span style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:red">protected</span>和<span style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:red">private</span>方法的Mock和public基本类似，只不过在Mock类中需要将这些方法设置成<span style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px">public</span>。<br style="word-wrap:break-word"> <span style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px">Foo.h</span> 带private方法的接口</p> 
<ol class="linenums" style="word-wrap:break-word; margin:0px 0px 0px 1.5em; padding:0px 0px 0px 20px; list-style:none; color:rgb(75,75,75); font-family:'Palatino Linotype','Book Antiqua',Palatino,serif; font-size:14px; line-height:22px; border:0px; outline:0px"><li class="L0" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">class</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">Foo</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">{<!-- --></span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L1" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">private</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">:</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L2" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        </span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">virtual</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">void</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> setValue</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">int</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> value</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">)</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">{};</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L3" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L4" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">public</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">:</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L5" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        </span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">int</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> value</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L6" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">};</span></li></ol> 
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; color:rgb(75,75,75); font-size:14px; line-height:22px; border:0px; outline:0px; text-align:justify; font-family:Varela,arial,serif"> <span style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px">MockFoo.h</span></p> 
<ol class="linenums" style="word-wrap:break-word; margin:0px 0px 0px 1.5em; padding:0px 0px 0px 20px; list-style:none; color:rgb(75,75,75); font-family:'Palatino Linotype','Book Antiqua',Palatino,serif; font-size:14px; line-height:22px; border:0px; outline:0px"><li class="L0" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">class</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">MockFoo</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">:</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">public</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">Foo</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">{<!-- --></span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L1" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">public</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">:</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L2" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        MOCK_METHOD1</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">setValue</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">,</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">void</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">int</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> value</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">));</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L3" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">};</span></li></ol> 
<span style="color:rgb(75,75,75); font-family:'Palatino Linotype','Book Antiqua',Palatino,serif; font-size:14px; line-height:22px">Mock 模版类（Template Class）</span> 
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; color:rgb(75,75,75); font-size:14px; line-height:22px; border:0px; outline:0px; text-align:justify; font-family:Varela,arial,serif"> Google Mock可以Mock模版类，只要在宏MOCK<span style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px">*的后面加上</span>T。<br style="word-wrap:break-word"> 还是类似上述那个例子：<br style="word-wrap:break-word"> <span style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px">Foo.h</span> 改成模版类</p> 
<ol class="linenums" style="word-wrap:break-word; margin:0px 0px 0px 1.5em; padding:0px 0px 0px 20px; list-style:none; color:rgb(75,75,75); font-family:'Palatino Linotype','Book Antiqua',Palatino,serif; font-size:14px; line-height:22px; border:0px; outline:0px"><li class="L0" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">template</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">&lt;</span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">typename</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> T</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">&gt;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L1" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">class</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">Foo</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">{<!-- --></span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L2" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">public</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">:</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L3" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        </span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">virtual</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">void</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> setValue</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">int</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> value</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">)</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">{};</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L4" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L5" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">public</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">:</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L6" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        </span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">int</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> value</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L7" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">};</span></li></ol> 
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; color:rgb(75,75,75); font-size:14px; line-height:22px; border:0px; outline:0px; text-align:justify; font-family:Varela,arial,serif"> <span style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px">MockFoo.h</span></p> 
<ol class="linenums" style="word-wrap:break-word; margin:0px 0px 0px 1.5em; padding:0px 0px 0px 20px; list-style:none; color:rgb(75,75,75); font-family:'Palatino Linotype','Book Antiqua',Palatino,serif; font-size:14px; line-height:22px; border:0px; outline:0px"><li class="L0" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">template</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">&lt;</span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">typename</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> T</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">&gt;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L1" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">class</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">Foo</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">{<!-- --></span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L2" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">public</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">:</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L3" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        </span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">virtual</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">void</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> setValue</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">(</span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">int</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> value</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">)</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> </span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">{};</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L4" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L5" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">public</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">:</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L6" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        </span><span class="kwd" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,136)">int</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> value</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L7" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">};</span></li></ol> 
<span style="color:rgb(75,75,75); font-family:'Palatino Linotype','Book Antiqua',Palatino,serif; font-size:14px; line-height:22px">Nice Mocks 和 Strict Mocks</span> 
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; color:rgb(75,75,75); font-size:14px; line-height:22px; border:0px; outline:0px; text-align:justify; font-family:Varela,arial,serif"> 当在调用Mock类的方法时，如果之前没有使用EXPECT_CALL来定义该方法的期望行为时，Google Mock在运行时会给你一些警告信息：</p> 
<div class="cmdlineMacro" style="word-wrap:break-word; font-family:'Palatino Linotype','Book Antiqua',Palatino,serif; font-size:14px; line-height:22px; margin:5px 20px; padding:10px; border:1px solid rgb(25,25,112); outline:0px; background-color:rgb(0,0,0); color:rgb(255,255,255)">
  GMOCK WARNING: 
 <br style="word-wrap:break-word"> Uninteresting mock function call – returning default value. 
 <br style="word-wrap:break-word"> Function call: setValue(1) 
 <br style="word-wrap:break-word"> Returns: 0 
 <br style="word-wrap:break-word"> Stack trace 
</div> 
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; color:rgb(75,75,75); font-size:14px; line-height:22px; border:0px; outline:0px; text-align:justify; font-family:Varela,arial,serif"> 对于这种情况，可以使用<span style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:red">NiceMock</span>来避免:</p> 
<ol class="linenums" style="word-wrap:break-word; margin:0px 0px 0px 1.5em; padding:0px 0px 0px 20px; list-style:none; color:rgb(75,75,75); font-family:'Palatino Linotype','Book Antiqua',Palatino,serif; font-size:14px; line-height:22px; border:0px; outline:0px"><li class="L0" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        </span><span class="com" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(136,0,0)">// MockFoo mockFoo;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"></span><br style="word-wrap:break-word"> </li><li class="L1" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px; background-color:rgb(238,238,238)"> <span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)">        </span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">NiceMock</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">&lt;</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">MockFoo</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">&gt;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> mockFoo</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">;</span></li></ol> 
<div class="tipMacro" style="word-wrap:break-word; color:rgb(75,75,75); font-family:'Palatino Linotype','Book Antiqua',Palatino,serif; font-size:14px; line-height:22px; margin:5px 20px; padding:10px; border:1px solid rgb(0,0,255); outline:0px; background-color:rgb(135,206,250)">
  使用NiceMock来替代之前的MockFoo。 
</div> 
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; color:rgb(75,75,75); font-size:14px; line-height:22px; border:0px; outline:0px; text-align:justify; font-family:Varela,arial,serif"> 当然，另外还有一种办法，就是使用<span style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:red">StrictMock</span>来将这些调用都标为失败：</p> 
<ol class="linenums" style="word-wrap:break-word; margin:0px 0px 0px 1.5em; padding:0px 0px 0px 20px; list-style:none; color:rgb(75,75,75); font-family:'Palatino Linotype','Book Antiqua',Palatino,serif; font-size:14px; line-height:22px; border:0px; outline:0px"><li class="L0" style="word-wrap:break-word; margin:0px; padding:0px; list-style:decimal outside; border:0px; outline:0px"> <span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">StrictMock</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">&lt;</span><span class="typ" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,0,102)">MockFoo</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">&gt;</span><span class="pln" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(0,0,0)"> mockFoo</span><span class="pun" style="word-wrap:break-word; margin:0px; padding:0px; border:0px; outline:0px; color:rgb(102,102,0)">;</span></li></ol> 
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:1.5em; padding-top:0px; padding-bottom:0px; color:rgb(75,75,75); font-size:14px; line-height:22px; border:0px; outline:0px; text-align:justify; font-family:Varela,arial,serif"> 这时得到的结果：</p> 
<div class="cmdlineMacro" style="word-wrap:break-word; font-family:'Palatino Linotype','Book Antiqua',Palatino,serif; font-size:14px; line-height:22px; margin:5px 20px; padding:10px; border:1px solid rgb(25,25,112); outline:0px; background-color:rgb(0,0,0); color:rgb(255,255,255)">
  unknown file: Failure 
 <br style="word-wrap:break-word"> Uninteresting mock function call – returning default value. 
 <br style="word-wrap:break-word"> Function call: setValue(1) 
 <br style="word-wrap:break-word"> Returns: 0 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/56a14d7c1d99abadce5bdb3957ec287d/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">win7开机后svchost..exe占用CPU和内存很高的解决方法</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/92b400c4d9bfe43723a2fe5c313a1669/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">数据结构：C&#43;&#43;链表类及一元多项式的实现时遇到的困难</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 追风少年的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>