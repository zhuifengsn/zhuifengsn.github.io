<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【VMware workstation】虚拟机/主机互相ping不通的问题排查 - 追风少年的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="【VMware workstation】虚拟机/主机互相ping不通的问题排查" />
<meta property="og:description" content="环境：主机 Windows10 &#43; VMware workstation pro; 虚拟机 Windows XP
参考：VMware虚拟机和主机互相ping不通排查以及解决
workstation下载：感谢原作者！截止到目前是可用的
问题描述 虚拟机无法上网，主机与虚拟机互相ping不通，显示 request timeout（请求超时）或者无法找到输入的ip地址。
注：问题排查，是在原来设置过一些东西的基础上进行的，如果有些设置没有说明原因，以后再来补充，实在记不得了！
原因排查： 可能用到的命令：
命令提示符：WIN&#43;R
命令提示符内查询主机ip：ipconfig
命令提示符内ping一个ip地址：ping TARGET_IP
1）首先检查workstation-编辑-虚拟网络编辑器，是否有VMnet0，VMnet1, VMnet8，点【更改设置】授予管理员权限
打开后，添加没有的网络
首先，VMnet0设置 桥接模式，选择对应网卡（不是以太网，也不是virtual adapter！有些网卡名字自带Adapter，有些没有）
另：打开设备管理器可以查找网络适配器名称
VMnet1 设置 仅主机模式
VMnet8 设置NAT模式
设置完成后，应用并确定
2）控制面板\网络和 Internet\网络连接
检查VMware Network Adapter VMnet1、VMnet8是否已启用
双击VMnet1 / VMnet8 -属性，勾选VMware Bridge Protocol，去掉Microsoft LLDP 协议驱动程序。两个网络都要这样设置协议！
3）回到虚拟机xp系统，右下角打开网络连接并双击属性
双击第四项 Internet协议（TCP/IP），检查是否设置为自动获取（以前我自己手动设置过，结果换了台电脑就有问题。事实上是可以自动给虚拟机分配地址的。）
4）关闭防火墙（可能的原因，在我的pc上无影响，故不展示）
至此，应该双方都可以ping通对方了
没说清楚的地方以后补充（下次一定
2022.7.22 补充
5）启用相应服务
如果上述配置都正确，但是仍然打不开网页、ping不通，那么有可能是VMnetDHCP和VMware NAT Service没有打开，右键“开始”启动服务即可。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://zhuifengsn.github.io/posts/63bda3ec2f818aefc7276be2ae84e4bc/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-07-22T10:59:55+08:00" />
<meta property="article:modified_time" content="2022-07-22T10:59:55+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="追风少年的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">追风少年的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【VMware workstation】虚拟机/主机互相ping不通的问题排查</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p><code>环境：主机 Windows10 + VMware workstation pro; 虚拟机 Windows XP</code></p> 
<p>参考：<a href="https://blog.csdn.net/asd1358355022/article/details/120205929">VMware虚拟机和主机互相ping不通排查以及解决</a><br> workstation下载：<a href="https://blog.csdn.net/wangxiaai/article/details/115629143">感谢原作者！截止到目前是可用的</a></p> 
<hr> 
<h2><a id="_7"></a>问题描述</h2> 
<p>虚拟机无法上网，主机与虚拟机互相ping不通，显示 request timeout（请求超时）或者无法找到输入的ip地址。</p> 
<p>注：问题排查，是在原来设置过一些东西的基础上进行的，如果有些设置没有说明原因，以后再来补充，实在记不得了！</p> 
<hr> 
<h2><a id="_14"></a>原因排查：</h2> 
<p>可能用到的命令：<br> 命令提示符：WIN+R<br> 命令提示符内查询主机ip：ipconfig<br> 命令提示符内ping一个ip地址：ping TARGET_IP</p> 
<blockquote> 
 <p>1）首先检查workstation-编辑-虚拟网络编辑器，是否有VMnet0，VMnet1, VMnet8，点【更改设置】授予管理员权限</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/78/72/8x7xRAFJ_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>打开后，添加没有的网络<br> 首先，VMnet0设置 桥接模式，选择对应网卡（不是以太网，也不是virtual adapter！有些网卡名字自带Adapter，有些没有）<br> 另：打开设备管理器可以查找网络适配器名称</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/fd/c2/qUznXOAh_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>VMnet1 设置 仅主机模式</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/cb/88/QhXZReRq_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>VMnet8 设置NAT模式<br> 设置完成后，应用并确定</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/df/e3/fK8OZWAx_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>2）控制面板\网络和 Internet\网络连接<br> 检查VMware Network Adapter VMnet1、VMnet8是否已启用</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/96/fa/kNah5KR7_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>双击VMnet1 / VMnet8 -属性，勾选VMware Bridge Protocol，去掉Microsoft LLDP 协议驱动程序。两个网络都要这样设置协议！</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/1a/ef/ZDTFUXQJ_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>3）回到虚拟机xp系统，<strong>右下角</strong>打开<strong>网络连接</strong>并双击<strong>属性</strong></p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/12/ee/h2o5QEP8_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>双击第四项 Internet协议（TCP/IP），检查是否设置为<strong>自动获取</strong>（以前我自己手动设置过，结果换了台电脑就有问题。事实上是可以自动给虚拟机分配地址的。）</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/2b/7f/KX2KfF1C_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>4）关闭防火墙（可能的原因，在我的pc上无影响，故不展示）</p> 
</blockquote> 
<hr> 
<p>至此，应该双方都可以ping通对方了<br> 没说清楚的地方以后补充（下次一定</p> 
<p>2022.7.22 补充</p> 
<blockquote> 
 <p>5）启用相应服务<br> 如果上述配置都正确，但是仍然打不开网页、ping不通，那么有可能是VMnetDHCP和VMware NAT Service没有打开，右键“开始”启动服务即可。</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/ff/1d/zqVBOpn9_o.png" alt="在这里插入图片描述"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/391e9240123bc6a91a4524036562fc7f/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">2.信息收集概述</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/6946e35617cd23c698623964a0e23a3b/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">springboot：内嵌servlet切换原理</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 追风少年的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>