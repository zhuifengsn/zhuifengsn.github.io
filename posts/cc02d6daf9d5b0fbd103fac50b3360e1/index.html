<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>移除数组中指定元素(Java) - 追风少年的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="移除数组中指定元素(Java)" />
<meta property="og:description" content="题目描述 给你一个数组 nums 和一个值 val，你需要移除所有数值等于 val 的元素，并返回移除后数组的新长度。元素的顺序可以改变。你不需要考虑数组中超出新长度后面的元素。
示例 1：
输入：nums = [3,2,2,3], val = 3
输出：2, nums = [2,2]
解释：函数应该返回新的长度 2, 并且 nums 中的前两个元素均为 2。你不需要考虑数组中超出新长度后面的元素。例如，函数返回的新长度为 2 ，而 nums = [2,2,3,3] 或 nums = [2,2,0,0]，也会被视作正确答案。
示例 2：
输入：nums = [0,1,2,2,3,0,4,2], val = 2
输出：5, nums = [0,1,3,0,4]
解释：函数应该返回新的长度 5, 并且 nums 中的前五个元素为 0, 1, 3, 0, 4。注意这五个元素可为任意顺序。你不需要考虑数组中超出新长度后面的元素。
代码实现 方法一 import java.util.ArrayList; import java.util.Arrays; import java.util.List; public class Test3 { public static void main(String[] args) { // 原始数组 int[] arr = {0, 1, 2, 2, 3, 0, 4, 2}; int val = 2; // 需要移除的元素值 int num = removeE(arr, val); // 移除指定元素后的数组长度 int[] newArr = Arrays." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://zhuifengsn.github.io/posts/cc02d6daf9d5b0fbd103fac50b3360e1/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-02-01T09:33:56+08:00" />
<meta property="article:modified_time" content="2024-02-01T09:33:56+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="追风少年的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">追风少年的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">移除数组中指定元素(Java)</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h5>题目描述</h5> 
<p>给你一个数组 <code>nums</code><em> </em>和一个值 <code>val</code>，你需要移除所有数值等于 <code>val</code><em> </em>的元素，并返回移除后数组的新长度。元素的顺序可以改变。你不需要考虑数组中超出新长度后面的元素。</p> 
<p>示例 1：</p> 
<p>输入：nums = [3,2,2,3], val = 3<br> 输出：2, nums = [2,2]<br> 解释：函数应该返回新的长度 2, 并且 nums 中的前两个元素均为 2。你不需要考虑数组中超出新长度后面的元素。例如，函数返回的新长度为 2 ，而 nums = [2,2,3,3] 或 nums = [2,2,0,0]，也会被视作正确答案。<br> 示例 2：</p> 
<p>输入：nums = [0,1,2,2,3,0,4,2], val = 2<br> 输出：5, nums = [0,1,3,0,4]<br> 解释：函数应该返回新的长度 5, 并且 nums 中的前五个元素为 0, 1, 3, 0, 4。注意这五个元素可为任意顺序。你不需要考虑数组中超出新长度后面的元素。</p> 
<h6>代码实现</h6> 
<h6>方法一</h6> 
<pre><code class="language-java">import java.util.ArrayList;
import java.util.Arrays;
import java.util.List;

public class Test3 {
    public static void main(String[] args) {
        // 原始数组
        int[] arr = {0, 1, 2, 2, 3, 0, 4, 2};
        int val = 2; // 需要移除的元素值
        int num = removeE(arr, val); // 移除指定元素后的数组长度
        int[] newArr = Arrays.copyOf(arr, num); // 根据移除后的数组长度创建新数组
        List&lt;Integer&gt; list = new ArrayList&lt;&gt;();
        for (int value : newArr) {
            list.add(value);
        }
        System.out.println(num + ", nums = " + list); // 输出移除指定元素后的数组长度和数组内容
    }

    // 移除指定元素的方法
    private static int removeE(int[] arr, int val) {
        int front = 0; // 前指针
        int rear = arr.length; // 后指针
        while (front &lt; rear) {
            if (arr[front] == val) { // 如果当前元素等于要移除的元素值
                arr[front] = arr[rear - 1]; // 将当前元素替换为数组末尾的元素
                rear--; // 数组长度减一
            } else {
                front++; // 继续检查下一个元素
            }
        }
        return front; // 返回移除指定元素后的数组长度
    }
}
</code></pre> 
<h6>思路</h6> 
<p>使用了双指针的思想，移除数组中指定元素的值。</p> 
<p>首先，在 <code>main</code> 方法中，初始化一个整型数组 <code>arr</code> 和一个整数 <code>val</code>，其中 <code>arr</code> 数组包含需要被删除的元素。然后调用 <code>removeE</code> 方法，将 <code>arr</code> 数组和 <code>val</code> 值传递给该方法，以获取更新后的数组长度。接下来，使用 <code>Arrays.copyOf</code> 方法创建一个新数组，该数组将原数组中的前 <code>num</code> 个元素复制到新数组中，其中 <code>num</code> 就是通过 <code>removeE</code> 方法计算出来的需要保留的元素的数量。</p> 
<p>在 <code>removeE</code> 方法中，初始化两个指针 <code>front</code> 和 <code>rear</code> 分别指向数组的头和尾。然后我们对数组进行遍历，如果当前元素等于要移除的元素值，就将当前元素替换为数组末尾的元素，然后尾指针 rear  左移一位。如果当前元素不需要被移除，则继续检查下一个元素。当头指针 front 和尾指针 rear 重合的时候，指针遍历完数组中所有的元素。</p> 
<p>最后，我们返回另外一个指针 <code>front</code>。这个指针的位置就是最终数组的长度。在 <code>main</code> 方法中，我们使用 <code>Arrays.copyOf</code> 和 <code>List.add</code> 方法创建一个新数组和列表，以存储保留的元素，并输出更新后的数组长度和内容。</p> 
<p>总体来说，这段代码使用了简单而有效的双指针算法，时间复杂度为 O(n)，空间复杂度也很小，只需要一个额外的列表就可以了。</p> 
<h6>方法二</h6> 
<pre><code class="language-java">public class Main {
    public static void main(String[] args) {
        int[] nums1 = {3, 2, 2, 3};
        int val1 = 3;
        
        int len1 = removeElement(nums1, val1);
        System.out.println(len1); // 输出为 2
        for (int i = 0; i &lt; len1; i++) {
            System.out.print(nums1[i] + " "); // 输出为 2 2
        }
        System.out.println();

        int[] nums2 = {0, 1, 2, 2, 3, 0, 4, 2};
        int val2 = 2;
        int len2 = removeElement(nums2, val2);
        System.out.println(len2); // 输出为 5
        for (int i = 0; i &lt; len2; i++) {
            System.out.print(nums2[i] + " "); // 输出为 0 1 3 0 4
        }
        System.out.println();
    }
    
    
    public static int removeElement(int[] nums, int val) {
        int i = 0; // 慢指针
        
        // 使用快指针遍历数组
        for (int j = 0; j &lt; nums.length; j++) {
            // 如果当前元素不等于val，则将其移动到慢指针所在位置，并更新慢指针
            if (nums[j] != val) {
                nums[i] = nums[j];
                i++;
            }
        }
        
        return i;
    }
}
</code></pre> 
<h6>思路</h6> 
<p><code>removeElement</code> 方法用于移除数组中所有值为 <code>val</code> 的元素，并返回新数组的长度。我们使用两个指针，一个是慢指针 <code>i</code>，一个是快指针 <code>j</code>。快指针遍历数组，如果当前元素不等于 <code>val</code>，它一定是输出数组的一个元素，我们就将快指针 j   指向的元素复制到慢指针 i 位置，然后将两指针同时右移；如果快指针 j 指向的元素等于 val，它不能在输出数组里，此时慢指针不动，快指针右移一位。最后返回慢指针的值作为新的数组长度。</p> 
<p></p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/8b5a95d26ef9fcf39cee0d6425dd887d/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【每日一题】6.LeetCode——轮转数组</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/235bbfa659eb99456f2b0293354d7e20/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">问题：PVC穿刺时扎止血带松紧以放入（）横指为宜 #经验分享#微信</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 追风少年的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>