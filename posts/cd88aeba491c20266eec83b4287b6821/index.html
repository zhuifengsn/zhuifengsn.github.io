<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>在同一台机器上安装多个MySQL8.0服务 - 追风少年的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="在同一台机器上安装多个MySQL8.0服务" />
<meta property="og:description" content="概要
操作系统为Windows10，当前使用MySQL版本为8.0.21。
在该机器上安装3个MySQL服务，端口分别为：3306,3307,3308。
对于3306端口，按正常流程安装即可，不再赘述。
对于3307/3308端口，流程相同。
3307/3308端口服务安装
以3307端口为例。
准备文件
将3306端口的MySQL安装文件夹复制一份（或直接解压官网下载的压缩文件），改名，路径为：D:\Program Files\mysql_3307。
清理
删除D:\Program Files\mysql_3307\data\文件夹中的所有内容。
修改配置文件
打开mysql_3307文件夹下的my.ini，做如下修改：
port更改为3307。
basedir更改为D:\Program Files\mysql_3307。
示例：
[client] # 设置mysql客户端连接服务端时默认使用的端口 port=3307 default-character-set=utf8mb4 [mysql] # 设置mysql客户端默认字符集 default-character-set=utf8mb4 [mysqld] # 设置端口 port=3307 # 设置mysql的安装目录 basedir=D:\Program Files\mysql_3307 # 设置 mysql数据库的数据的存放目录，MySQL 8&#43; 不需要以下配置，系统自己生成即可，否则有可能报错 # datadir=D:\data # 允许最大连接数 max_connections=200 # 允许连接失败的次数。 max_connect_errors=10 # 服务端使用的字符集默认为utf8mb4 character-set-server=utf8mb4 # 创建新表时将使用的默认存储引擎 default-storage-engine=INNODB # 默认使用“mysql_native_password”插件认证 #mysql_native_password default_authentication_plugin=mysql_native_password 安装
以管理员身份打开cmd，cd到D:\Program Files\mysql_3307\bin\目录下。
1、执行命令初始化数据库：
mysqld --initialize --console 可以不指定–defaults-file参数。
等待执行完成，会输出root用户的默认初始密码。
2. 输入命令安装服务：" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://zhuifengsn.github.io/posts/cd88aeba491c20266eec83b4287b6821/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-12-10T17:37:09+08:00" />
<meta property="article:modified_time" content="2020-12-10T17:37:09+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="追风少年的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">追风少年的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">在同一台机器上安装多个MySQL8.0服务</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>概要<br> 操作系统为Windows10，当前使用MySQL版本为8.0.21。<br> 在该机器上安装3个MySQL服务，端口分别为：3306,3307,3308。</p> 
<p>对于3306端口，按正常流程安装即可，不再赘述。<br> 对于3307/3308端口，流程相同。<br> 3307/3308端口服务安装<br> 以3307端口为例。</p> 
<p>准备文件<br> 将3306端口的MySQL安装文件夹复制一份（或直接解压官网下载的压缩文件），改名，路径为：D:\Program Files\mysql_3307。</p> 
<p>清理<br> 删除D:\Program Files\mysql_3307\data\文件夹中的所有内容。</p> 
<p>修改配置文件<br> 打开mysql_3307文件夹下的my.ini，做如下修改：</p> 
<p>port更改为3307。<br> basedir更改为D:\Program Files\mysql_3307。<br> 示例：</p> 
<pre><code class="prism language-bash"><span class="token punctuation">[</span>client<span class="token punctuation">]</span>
<span class="token comment"># 设置mysql客户端连接服务端时默认使用的端口</span>
port<span class="token operator">=</span>3307
default-character-set<span class="token operator">=</span>utf8mb4

<span class="token punctuation">[</span>mysql<span class="token punctuation">]</span>
<span class="token comment"># 设置mysql客户端默认字符集</span>
default-character-set<span class="token operator">=</span>utf8mb4

<span class="token punctuation">[</span>mysqld<span class="token punctuation">]</span>
<span class="token comment"># 设置端口</span>
port<span class="token operator">=</span>3307
<span class="token comment"># 设置mysql的安装目录</span>
basedir<span class="token operator">=</span>D:\Program Files\mysql_3307
<span class="token comment"># 设置 mysql数据库的数据的存放目录，MySQL 8+ 不需要以下配置，系统自己生成即可，否则有可能报错</span>
<span class="token comment"># datadir=D:\data</span>
<span class="token comment"># 允许最大连接数</span>
max_connections<span class="token operator">=</span>200
<span class="token comment"># 允许连接失败的次数。</span>
max_connect_errors<span class="token operator">=</span>10
<span class="token comment"># 服务端使用的字符集默认为utf8mb4</span>
character-set-server<span class="token operator">=</span>utf8mb4
<span class="token comment"># 创建新表时将使用的默认存储引擎</span>
default-storage-engine<span class="token operator">=</span>INNODB
<span class="token comment"># 默认使用“mysql_native_password”插件认证</span>
<span class="token comment">#mysql_native_password</span>
default_authentication_plugin<span class="token operator">=</span>mysql_native_password
</code></pre> 
<p>安装<br> 以管理员身份打开cmd，cd到D:\Program Files\mysql_3307\bin\目录下。</p> 
<p>1、执行命令初始化数据库：</p> 
<pre><code class="prism language-bash">mysqld --initialize --console
</code></pre> 
<p>可以不指定–defaults-file参数。<br> 等待执行完成，会输出root用户的默认初始密码。<br> 2. 输入命令安装服务：</p> 
<pre><code class="prism language-bash">mysqld <span class="token function">install</span> MySQL3307
</code></pre> 
<p>同上，可以不指定–defaults-file参数。<br> 安装完成，即可在服务列表中看到MySQL3307服务。<br> 3. 修改注册表<br> 在服务列表中查看MySQL3307服务的属性，发现其可执行文件的路径为：</p> 
<pre><code class="prism language-bash">“D:\Program Files\mysql\bin\mysqld” MySQL3307
</code></pre> 
<p>然而此路径是3306服务的路径。于是需要修改注册表。<br> 打开注册表编辑器，进入以下路径：</p> 
<p>计算机<code>\HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\MySQL3307</code></p> 
<p>双击其中的ImagePath字符串，将其数值数据修改为：</p> 
<pre><code class="prism language-bash"><span class="token string">"D:\Program Files\mysql_3307\bin\mysqld"</span> MySQL3307
</code></pre> 
<p>启动服务<br> 回到cmd中，输入命令启动服务：</p> 
<pre><code class="prism language-bash">net start MySQL3307
</code></pre> 
<p>服务顺利启动。<br> 5. 第一次连接使用命令更改密码<br> 使用命令第一次连接MySql时，会提示更改密码，否则无法进行任何操作。<br> 输入命令：</p> 
<pre><code class="prism language-bash">mysql -u root -p
</code></pre> 
<p>1会提示输入密码，此时输入前面打印的初始密码。<br> 然后输入命令来修改密码：</p> 
<pre><code class="prism language-bash">alter user <span class="token string">'root'</span>@<span class="token string">'localhost'</span> identified by <span class="token string">'123456'</span><span class="token punctuation">;</span>
</code></pre> 
<p>这样，就将*‘root’@'localhost’的密码更改为123456*了。</p> 
<p>删除<br> 若要删除MySQL服务，以上述安装的3307为例：<br> 以管理员身份打开cmd，输入命令：</p> 
<pre><code class="prism language-bash">net stop MySQL3307
sc delete MySQL3307
</code></pre> 
<p>然后删除MySQL3307文件夹即可。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/3732209c3b4df885defba8a134e5b2da/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">postman使用教程</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/6849636737b4e6fd9ecce4ef070286bb/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">python中escape_Python语言 escape 的使用</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 追风少年的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>