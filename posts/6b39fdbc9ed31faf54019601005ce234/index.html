<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>ESP32 使用 OLED - 追风少年的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="ESP32 使用 OLED" />
<meta property="og:description" content="（后续更新，文中用到的工具见原文：https://blog.iyatt.com/?p=11915）
1 环境 1.1 硬件 ESP32-WROOM-32
128x64 OLED（IIC）
1.2 软件 Arduino IDE 2.2.1
esp32 2.0.14（开发板）
Adafruit_SSD1306 2.5.7 ：https://github.com/adafruit/Adafruit_SSD1306 （依赖库：
Adafruit_BusIO 1.14.5 ：https://github.com/adafruit/Adafruit_BusIO
Adafruit-GFX-Library 1.11.9 ：https://github.com/adafruit/Adafruit-GFX-Library
）
注：如果是在 Arduino IDE 中安装，会自动提示依赖库安装，如果是从 GitHub 下载离线包，就要手动分别安装。
2 接线 2.1 默认 使用 Wire 库时，ESP32 的默认引脚对应（下面探索就使用这个默认的）
21 - SDA22 - SCL 2.2 自定义 方法一
Wire.setPins(int sda, int scl); Wire.begin(); 方法二
bool begin(int sda, int scl, uint32_t frequency=0); 3 探索 3.1 确定 IIC 地址 SSD1306 驱动的 OLED 的 IIC 地址要么是 0x3D，要么就是 0x3C，其实两选一试也行，这里提供了一份代码，会进行遍历测试可用的设备的地址。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://zhuifengsn.github.io/posts/6b39fdbc9ed31faf54019601005ce234/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-12-06T12:20:45+08:00" />
<meta property="article:modified_time" content="2023-12-06T12:20:45+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="追风少年的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">追风少年的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">ESP32 使用 OLED</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>（后续更新，文中用到的工具见原文：<a href="https://blog.iyatt.com/?p=11915" rel="nofollow">https://blog.iyatt.com/?p=11915</a>）</p> 
<h2><a id="1__2"></a>1 环境</h2> 
<h2><a id="11__4"></a>1.1 硬件</h2> 
<p>ESP32-WROOM-32<br> 128x64 OLED（IIC）</p> 
<h2><a id="12__9"></a>1.2 软件</h2> 
<p>Arduino IDE 2.2.1<br> esp32 2.0.14（开发板）<br> Adafruit_SSD1306 2.5.7 ：https://github.com/adafruit/Adafruit_SSD1306 （依赖库：<br> Adafruit_BusIO 1.14.5 ：https://github.com/adafruit/Adafruit_BusIO<br> Adafruit-GFX-Library 1.11.9 ：https://github.com/adafruit/Adafruit-GFX-Library<br> ）</p> 
<p>注：如果是在 Arduino IDE 中安装，会自动提示依赖库安装，如果是从 GitHub 下载离线包，就要手动分别安装。</p> 
<h2><a id="2__20"></a>2 接线</h2> 
<h3><a id="21__22"></a>2.1 默认</h3> 
<p>使用 Wire 库时，ESP32 的默认引脚对应（下面探索就使用这个默认的）</p> 
<ul><li>21 - SDA</li><li>22 - SCL</li></ul> 
<h3><a id="22__28"></a>2.2 自定义</h3> 
<p>方法一</p> 
<pre><code>Wire.setPins(int sda, int scl);
Wire.begin();
</code></pre> 
<p>方法二</p> 
<pre><code class="prism language-cpp"><span class="token keyword">bool</span> <span class="token function">begin</span><span class="token punctuation">(</span><span class="token keyword">int</span> sda<span class="token punctuation">,</span> <span class="token keyword">int</span> scl<span class="token punctuation">,</span> <span class="token keyword">uint32_t</span> frequency<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h2><a id="3__42"></a>3 探索</h2> 
<h3><a id="31__IIC__44"></a>3.1 确定 IIC 地址</h3> 
<p>SSD1306 驱动的 OLED 的 IIC 地址要么是 0x3D，要么就是 0x3C，其实两选一试也行，这里提供了一份代码，会进行遍历测试可用的设备的地址。</p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;Wire.h&gt;</span></span>

<span class="token keyword">void</span> <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    Serial<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token number">115200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    Wire<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    Serial<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"开始扫描 IIC 设备"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">loop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">int</span> devices <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

    Serial<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"正在扫描......"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 遍历地址，测试是否可以通信</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>byte error<span class="token punctuation">,</span> address <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> address <span class="token operator">&lt;</span> <span class="token number">127</span><span class="token punctuation">;</span> <span class="token operator">++</span>address<span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        Wire<span class="token punctuation">.</span><span class="token function">beginTransmission</span><span class="token punctuation">(</span>address<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 指定通信地址（准备通信）</span>
        error <span class="token operator">=</span> Wire<span class="token punctuation">.</span><span class="token function">endTransmission</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 结束通信</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token number">0</span> <span class="token operator">==</span> error<span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            Serial<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"发现 IIC 设备，地址为 0x"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>address <span class="token operator">&lt;</span> <span class="token number">16</span><span class="token punctuation">)</span>
            <span class="token punctuation">{<!-- --></span>
                Serial<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            Serial<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>address<span class="token punctuation">,</span> HEX<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token operator">++</span>devices<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token number">4</span> <span class="token operator">==</span> error<span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            Serial<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"发生未知错误，地址为 0x"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>address <span class="token operator">&lt;</span> <span class="token number">16</span><span class="token punctuation">)</span>
            <span class="token punctuation">{<!-- --></span>
                Serial<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            Serial<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>address<span class="token punctuation">,</span> HEX<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token number">0</span> <span class="token operator">==</span> devices<span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        Serial<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"未发现 IIC 设备！\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span>
    <span class="token punctuation">{<!-- --></span>
        Serial<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"完成！\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">5000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/b9/61/TCbGeaQj_o.png" alt="file"></p> 
<h3><a id="32__107"></a>3.2 显示像素点</h3> 
<p>Adafruit 这个库采用了缓存机制，内部维护了一个数组，数组每个元素映射到屏幕上的一个像素点，元素的值决定了这个点亮还是不亮，写操作其实就是修改数组元素的值，再调用 display 函数将缓存应用到屏幕上才会显示。</p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;Wire.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;Adafruit_SSD1306.h&gt;</span></span>

<span class="token comment">// 屏幕分辨率</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">OLED_WIDTH</span>      <span class="token expression"><span class="token number">128</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">OLED_HEIGHT</span>     <span class="token expression"><span class="token number">64</span></span></span>

<span class="token comment">// IIC 地址</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">OLED_ADDRESS</span>    <span class="token expression"><span class="token number">0x3C</span></span></span>

<span class="token comment">// 复位引脚</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">OLED_RESET</span>      <span class="token expression"><span class="token operator">-</span><span class="token number">1</span> </span><span class="token comment">// 不使用</span></span>

Adafruit_SSD1306 <span class="token function">display</span><span class="token punctuation">(</span>OLED_WIDTH<span class="token punctuation">,</span> OLED_HEIGHT<span class="token punctuation">,</span> <span class="token operator">&amp;</span>Wire<span class="token punctuation">,</span> OLED_RESET<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    Serial<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token number">115200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>display<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span>SSD1306_SWITCHCAPVCC<span class="token punctuation">,</span> OLED_ADDRESS<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        Serial<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"OLED 初始化失败！"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    display<span class="token punctuation">.</span><span class="token function">clearDisplay</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 清空缓存</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">50</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token comment">// 循环绘制像素点构成直线</span>
    <span class="token punctuation">{<!-- --></span>
        display<span class="token punctuation">.</span><span class="token function">drawPixel</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> i<span class="token punctuation">,</span> SSD1306_WHITE<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 指定横纵坐标和颜色</span>
    <span class="token punctuation">}</span>

    display<span class="token punctuation">.</span><span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 将写入缓存的内容显示到 OLED</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">loop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>

<span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/06/b2/wOvILGMn_o.png" alt="file"></p> 
<h3><a id="33__156"></a>3.3 显示字符</h3> 
<p>字符线宽为 1 个像素点时，128x64 分辨率每行显示 21 个字符，8 行，平均每个字符像素尺寸为 6x8。</p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;Wire.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;Adafruit_SSD1306.h&gt;</span></span>

<span class="token comment">// 屏幕分辨率</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">OLED_WIDTH</span>      <span class="token expression"><span class="token number">128</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">OLED_HEIGHT</span>     <span class="token expression"><span class="token number">64</span></span></span>

<span class="token comment">// IIC 地址</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">OLED_ADDRESS</span>    <span class="token expression"><span class="token number">0x3C</span></span></span>

<span class="token comment">// 复位引脚</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">OLED_RESET</span>      <span class="token expression"><span class="token operator">-</span><span class="token number">1</span> </span><span class="token comment">// 不使用</span></span>

Adafruit_SSD1306 <span class="token function">display</span><span class="token punctuation">(</span>OLED_WIDTH<span class="token punctuation">,</span> OLED_HEIGHT<span class="token punctuation">,</span> <span class="token operator">&amp;</span>Wire<span class="token punctuation">,</span> OLED_RESET<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token function">oled_print</span><span class="token punctuation">(</span><span class="token keyword">int16_t</span> start<span class="token punctuation">,</span> <span class="token keyword">int16_t</span> end<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    display<span class="token punctuation">.</span><span class="token function">clearDisplay</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    display<span class="token punctuation">.</span><span class="token function">setCursor</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 设置开始字符的左上角坐标</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int16_t</span> i <span class="token operator">=</span> start<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> end<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token char">'\n'</span> <span class="token operator">==</span> i<span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            display<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token char">' '</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 每次写一个字符，接着上一个字符后面</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span>
        <span class="token punctuation">{<!-- --></span>
            display<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    display<span class="token punctuation">.</span><span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    Serial<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token number">115200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>display<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span>SSD1306_SWITCHCAPVCC<span class="token punctuation">,</span> OLED_ADDRESS<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        Serial<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"OLED 初始化失败！"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    display<span class="token punctuation">.</span><span class="token function">setTextSize</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 设置像素大小，不设置默认为 1</span>
    display<span class="token punctuation">.</span><span class="token function">setTextColor</span><span class="token punctuation">(</span>SSD1306_WHITE<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 设置亮色显示</span>
    display<span class="token punctuation">.</span><span class="token function">cp437</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Code Page 437（IBM PC ASCII），有 256 个字符</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">loop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token function">oled_print</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">168</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 每行最多显示 21 个字符，共 8 行，共 168 个</span>
    <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">oled_print</span><span class="token punctuation">(</span><span class="token number">168</span><span class="token punctuation">,</span> <span class="token number">256</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/78/6c/JjaT2ma2_o.png" alt="file"></p> 
<p><img src="https://images2.imgbox.com/63/65/a78EFauO_o.png" alt="file"></p> 
<h3><a id="34__224"></a>3.4 显示字符串</h3> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;Wire.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;Adafruit_SSD1306.h&gt;</span></span>

<span class="token comment">// 屏幕分辨率</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">OLED_WIDTH</span>      <span class="token expression"><span class="token number">128</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">OLED_HEIGHT</span>     <span class="token expression"><span class="token number">64</span></span></span>

<span class="token comment">// IIC 地址</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">OLED_ADDRESS</span>    <span class="token expression"><span class="token number">0x3C</span></span></span>

<span class="token comment">// 复位引脚</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">OLED_RESET</span>      <span class="token expression"><span class="token operator">-</span><span class="token number">1</span> </span><span class="token comment">// 不使用</span></span>

Adafruit_SSD1306 <span class="token function">display</span><span class="token punctuation">(</span>OLED_WIDTH<span class="token punctuation">,</span> OLED_HEIGHT<span class="token punctuation">,</span> <span class="token operator">&amp;</span>Wire<span class="token punctuation">,</span> OLED_RESET<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    Serial<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token number">115200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>display<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span>SSD1306_SWITCHCAPVCC<span class="token punctuation">,</span> OLED_ADDRESS<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        Serial<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"OLED 初始化失败！"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    display<span class="token punctuation">.</span><span class="token function">setTextColor</span><span class="token punctuation">(</span>SSD1306_WHITE<span class="token punctuation">)</span><span class="token punctuation">;</span>
    display<span class="token punctuation">.</span><span class="token function">clearDisplay</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    display<span class="token punctuation">.</span><span class="token function">setCursor</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// 注：Arduino IDE 中 F 函数可以让字符串常量存储在 FLASH 中，而节省 RAM</span>
    display<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token function">F</span><span class="token punctuation">(</span><span class="token string">"hello world!"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// println 带有换行，后续显示不设置焦点会自动跳到下一行</span>
    display<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token function">F</span><span class="token punctuation">(</span><span class="token string">"h w"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    display<span class="token punctuation">.</span><span class="token function">setCursor</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">38</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 字符高度为 8 像素，纵坐标加 8 等于换行</span>
    display<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token function">F</span><span class="token punctuation">(</span><span class="token string">"ABCD1234!@#$"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// print 没有换行，后续显示不设置焦点会接着尾部</span>
    display<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token function">F</span><span class="token punctuation">(</span><span class="token string">" &amp; *"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    display<span class="token punctuation">.</span><span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">loop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>

<span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/07/72/wJg8KQTK_o.png" alt="file"></p> 
<h3><a id="35__275"></a>3.5 绘制图形</h3> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;Wire.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;Adafruit_SSD1306.h&gt;</span></span>

<span class="token comment">// 屏幕分辨率</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">OLED_WIDTH</span>      <span class="token expression"><span class="token number">128</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">OLED_HEIGHT</span>     <span class="token expression"><span class="token number">64</span></span></span>

<span class="token comment">// IIC 地址</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">OLED_ADDRESS</span>    <span class="token expression"><span class="token number">0x3C</span></span></span>

<span class="token comment">// 复位引脚</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">OLED_RESET</span>      <span class="token expression"><span class="token operator">-</span><span class="token number">1</span> </span><span class="token comment">// 不使用</span></span>

Adafruit_SSD1306 <span class="token function">display</span><span class="token punctuation">(</span>OLED_WIDTH<span class="token punctuation">,</span> OLED_HEIGHT<span class="token punctuation">,</span> <span class="token operator">&amp;</span>Wire<span class="token punctuation">,</span> OLED_RESET<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    Serial<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token number">115200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>display<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span>SSD1306_SWITCHCAPVCC<span class="token punctuation">,</span> OLED_ADDRESS<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        Serial<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"OLED 初始化失败！"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    display<span class="token punctuation">.</span><span class="token function">clearDisplay</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 直线（对角线）</span>
    display<span class="token punctuation">.</span><span class="token function">drawLine</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">// 起始点坐标</span>
                    display<span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> display<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 终点坐标</span>
                    SSD1306_WHITE<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 矩形</span>
    display<span class="token punctuation">.</span><span class="token function">drawRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token comment">// 左上角坐标</span>
                    <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token comment">// 宽度和高度</span>
                    SSD1306_WHITE
                    <span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 填充矩形</span>
    display<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span>
                    <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span>
                    SSD1306_WHITE
                    <span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 圆角矩形</span>
    display<span class="token punctuation">.</span><span class="token function">drawRoundRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">31</span><span class="token punctuation">,</span> <span class="token comment">// 左上角坐标</span>
                        <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token comment">// 宽度和高度</span>
                        <span class="token number">3</span><span class="token punctuation">,</span> <span class="token comment">// 圆角半径</span>
                        SSD1306_WHITE<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 填充圆角矩形</span>
    display<span class="token punctuation">.</span><span class="token function">fillRoundRect</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">42</span><span class="token punctuation">,</span>
                        <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span>
                        <span class="token number">3</span><span class="token punctuation">,</span>
                        SSD1306_WHITE<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 三角形</span>
    display<span class="token punctuation">.</span><span class="token function">drawTriangle</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">// 指定三个点坐标</span>
                        <span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span>
                        <span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">,</span>
                        SSD1306_WHITE<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 填充三角形</span>
    display<span class="token punctuation">.</span><span class="token function">fillTriangle</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span>
                        <span class="token number">90</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span>
                        <span class="token number">110</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">,</span>
                        SSD1306_WHITE<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 圆</span>
    display<span class="token punctuation">.</span><span class="token function">drawCircle</span><span class="token punctuation">(</span>display<span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> display<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token comment">// 圆心，屏幕中心</span>
                        <span class="token number">10</span><span class="token punctuation">,</span> <span class="token comment">// 半径</span>
                        SSD1306_WHITE<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 填充圆</span>
    display<span class="token punctuation">.</span><span class="token function">fillCircle</span><span class="token punctuation">(</span>display<span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token number">20</span><span class="token punctuation">,</span> display<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span>
                        <span class="token number">5</span><span class="token punctuation">,</span>
                        SSD1306_WHITE<span class="token punctuation">)</span><span class="token punctuation">;</span>

    display<span class="token punctuation">.</span><span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">loop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>

<span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/ff/56/NmJxwdLs_o.png" alt="file"></p> 
<h3><a id="35__368"></a>3.5 滚动</h3> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;Wire.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;Adafruit_SSD1306.h&gt;</span></span>

<span class="token comment">// 屏幕分辨率</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">OLED_WIDTH</span>      <span class="token expression"><span class="token number">128</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">OLED_HEIGHT</span>     <span class="token expression"><span class="token number">64</span></span></span>

<span class="token comment">// IIC 地址</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">OLED_ADDRESS</span>    <span class="token expression"><span class="token number">0x3C</span></span></span>

<span class="token comment">// 复位引脚</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">OLED_RESET</span>      <span class="token expression"><span class="token operator">-</span><span class="token number">1</span> </span><span class="token comment">// 不使用</span></span>

Adafruit_SSD1306 <span class="token function">display</span><span class="token punctuation">(</span>OLED_WIDTH<span class="token punctuation">,</span> OLED_HEIGHT<span class="token punctuation">,</span> <span class="token operator">&amp;</span>Wire<span class="token punctuation">,</span> OLED_RESET<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    Serial<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token number">115200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>display<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span>SSD1306_SWITCHCAPVCC<span class="token punctuation">,</span> OLED_ADDRESS<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        Serial<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token function">F</span><span class="token punctuation">(</span><span class="token string">"OLED 初始化失败！"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    display<span class="token punctuation">.</span><span class="token function">clearDisplay</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    display<span class="token punctuation">.</span><span class="token function">setTextColor</span><span class="token punctuation">(</span>SSD1306_WHITE<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 黑底亮字</span>
    display<span class="token punctuation">.</span><span class="token function">setCursor</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    display<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token function">F</span><span class="token punctuation">(</span><span class="token string">"hello world!"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    display<span class="token punctuation">.</span><span class="token function">setCursor</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    display<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token function">F</span><span class="token punctuation">(</span><span class="token string">"hello world!"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    display<span class="token punctuation">.</span><span class="token function">setTextColor</span><span class="token punctuation">(</span>SSD1306_BLACK<span class="token punctuation">,</span> SSD1306_WHITE<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 亮底黑字</span>
    display<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token function">F</span><span class="token punctuation">(</span><span class="token string">"1234ABCD"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    display<span class="token punctuation">.</span><span class="token function">setTextSize</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 字符线宽</span>
    display<span class="token punctuation">.</span><span class="token function">setTextColor</span><span class="token punctuation">(</span>SSD1306_WHITE<span class="token punctuation">)</span><span class="token punctuation">;</span>
    display<span class="token punctuation">.</span><span class="token function">setCursor</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">26</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    display<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token function">F</span><span class="token punctuation">(</span><span class="token string">"hello!"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    display<span class="token punctuation">.</span><span class="token function">setTextSize</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    display<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token function">F</span><span class="token punctuation">(</span><span class="token string">"world"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    display<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token function">F</span><span class="token punctuation">(</span><span class="token string">"Good"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    display<span class="token punctuation">.</span><span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">loop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 从左往右滚动</span>
    display<span class="token punctuation">.</span><span class="token function">startscrollright</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 参与滚动的行范围，每行高度为一个单像素字符高度，即 8 像素。这里是第一行滚动</span>
    <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    display<span class="token punctuation">.</span><span class="token function">stopscroll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 停止滚动</span>
    <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 从右往左滚动</span>
    display<span class="token punctuation">.</span><span class="token function">startscrollleft</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2、3 行滚动</span>
    <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    display<span class="token punctuation">.</span><span class="token function">stopscroll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/44/86/y69oefoY_o.png" alt="file"></p> 
<p><img src="https://images2.imgbox.com/5a/09/7tY6RCoL_o.png" alt="file"></p> 
<h3><a id="36__441"></a>3.6 位图</h3> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;Wire.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;Adafruit_SSD1306.h&gt;</span></span>

<span class="token comment">// 屏幕分辨率</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">OLED_WIDTH</span>      <span class="token expression"><span class="token number">128</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">OLED_HEIGHT</span>     <span class="token expression"><span class="token number">64</span></span></span>

<span class="token comment">// IIC 地址</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">OLED_ADDRESS</span>    <span class="token expression"><span class="token number">0x3C</span></span></span>

<span class="token comment">// 复位引脚</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">OLED_RESET</span>      <span class="token expression"><span class="token operator">-</span><span class="token number">1</span> </span><span class="token comment">// 不使用</span></span>

Adafruit_SSD1306 <span class="token function">display</span><span class="token punctuation">(</span>OLED_WIDTH<span class="token punctuation">,</span> OLED_HEIGHT<span class="token punctuation">,</span> <span class="token operator">&amp;</span>Wire<span class="token punctuation">,</span> OLED_RESET<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">STAR_HEIGHT</span>   <span class="token expression"><span class="token number">16</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">STAR_WIDTH</span>    <span class="token expression"><span class="token number">16</span></span></span>

<span class="token comment">// 星星图案</span>
<span class="token comment">// PROGMEM 可以将数据存储在 flash</span>
<span class="token keyword">static</span> <span class="token keyword">const</span> <span class="token keyword">unsigned</span> <span class="token keyword">char</span> PROGMEM star<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span>
<span class="token punctuation">{<!-- --></span>   <span class="token number">0b00000000</span><span class="token punctuation">,</span> <span class="token number">0b11000000</span><span class="token punctuation">,</span>
    <span class="token number">0b00000001</span><span class="token punctuation">,</span> <span class="token number">0b11000000</span><span class="token punctuation">,</span>
    <span class="token number">0b00000001</span><span class="token punctuation">,</span> <span class="token number">0b11000000</span><span class="token punctuation">,</span>
    <span class="token number">0b00000011</span><span class="token punctuation">,</span> <span class="token number">0b11100000</span><span class="token punctuation">,</span>
    <span class="token number">0b11110011</span><span class="token punctuation">,</span> <span class="token number">0b11100000</span><span class="token punctuation">,</span>
    <span class="token number">0b11111110</span><span class="token punctuation">,</span> <span class="token number">0b11111000</span><span class="token punctuation">,</span>
    <span class="token number">0b01111110</span><span class="token punctuation">,</span> <span class="token number">0b11111111</span><span class="token punctuation">,</span>
    <span class="token number">0b00110011</span><span class="token punctuation">,</span> <span class="token number">0b10011111</span><span class="token punctuation">,</span>
    <span class="token number">0b00011111</span><span class="token punctuation">,</span> <span class="token number">0b11111100</span><span class="token punctuation">,</span>
    <span class="token number">0b00001101</span><span class="token punctuation">,</span> <span class="token number">0b01110000</span><span class="token punctuation">,</span>
    <span class="token number">0b00011011</span><span class="token punctuation">,</span> <span class="token number">0b10100000</span><span class="token punctuation">,</span>
    <span class="token number">0b00111111</span><span class="token punctuation">,</span> <span class="token number">0b11100000</span><span class="token punctuation">,</span>
    <span class="token number">0b00111111</span><span class="token punctuation">,</span> <span class="token number">0b11110000</span><span class="token punctuation">,</span>
    <span class="token number">0b01111100</span><span class="token punctuation">,</span> <span class="token number">0b11110000</span><span class="token punctuation">,</span>
    <span class="token number">0b01110000</span><span class="token punctuation">,</span> <span class="token number">0b01110000</span><span class="token punctuation">,</span>
    <span class="token number">0b00000000</span><span class="token punctuation">,</span> <span class="token number">0b00110000</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    Serial<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token number">115200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>display<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span>SSD1306_SWITCHCAPVCC<span class="token punctuation">,</span> OLED_ADDRESS<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        Serial<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token function">F</span><span class="token punctuation">(</span><span class="token string">"OLED 初始化失败！"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">draw_star</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    display<span class="token punctuation">.</span><span class="token function">clearDisplay</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 绘制位图</span>
    display<span class="token punctuation">.</span><span class="token function">drawBitmap</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> <span class="token comment">// 左上角坐标</span>
                        star<span class="token punctuation">,</span> <span class="token comment">// 图像数据</span>
                        STAR_WIDTH<span class="token punctuation">,</span> STAR_HEIGHT<span class="token punctuation">,</span> <span class="token comment">// 图像尺寸</span>
                        SSD1306_WHITE<span class="token punctuation">)</span><span class="token punctuation">;</span>
    display<span class="token punctuation">.</span><span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">loop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">48</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token function">draw_star</span><span class="token punctuation">(</span><span class="token number">2</span> <span class="token operator">*</span> i<span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/e2/2f/WRBX4lLe_o.png" alt="file"></p> 
<p><img src="https://images2.imgbox.com/d8/c0/vhreBvIY_o.png" alt="file"></p> 
<h3><a id="37__520"></a>3.7 取模</h3> 
<p>取模工具下载链接见原文</p> 
<h4><a id="371__524"></a>3.7.1 图片取模</h4> 
<p>前面一个示例打开位图，而位图的数据就需要取模生成</p> 
<p>首先可以选一张图片，用画图打开，准备调整大小<br> <img src="https://images2.imgbox.com/06/2d/fGzm2aTY_o.png" alt="file"></p> 
<p>我这里 OLED 分辨率是 128x64，将 64 像素边作为高，那么这里图片的像素高度就不能超过 64，按这里的比例高度 64 时，宽度肯定超不了 128。最终图片大小就设置为 61x64，然后保存图片。（用画图调整的原因是支持按比例缩放，直接用下面的取模工具也可以设置生成图像大小，但是如果要长宽维持比例就得自己计算）<br> <img src="https://images2.imgbox.com/8e/97/5SeUV3Jc_o.png" alt="file"></p> 
<p>运行 Img2Lcd，打开刚才保存的图片<br> 输出数据类型选<strong>C语言数组</strong>，扫描模式选<strong>水平扫描</strong>，输出灰度选<strong>单色</strong>，宽度和高度就设置为上面调整后的大小，这里就是 61x64，下面的都不勾选，然后保存<br> <img src="https://images2.imgbox.com/5e/52/AWSSSNiI_o.png" alt="file"></p> 
<p>生成的数据就可以用于 OLED 绘制<br> <img src="https://images2.imgbox.com/ec/8a/wQFG35sV_o.png" alt="file"></p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;Wire.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;Adafruit_SSD1306.h&gt;</span></span>

<span class="token comment">// 屏幕分辨率</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">OLED_WIDTH</span>      <span class="token expression"><span class="token number">128</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">OLED_HEIGHT</span>     <span class="token expression"><span class="token number">64</span></span></span>

<span class="token comment">// IIC 地址</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">OLED_ADDRESS</span>    <span class="token expression"><span class="token number">0x3C</span></span></span>

<span class="token comment">// 复位引脚</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">OLED_RESET</span>      <span class="token expression"><span class="token operator">-</span><span class="token number">1</span> </span><span class="token comment">// 不使用</span></span>

Adafruit_SSD1306 <span class="token function">display</span><span class="token punctuation">(</span>OLED_WIDTH<span class="token punctuation">,</span> OLED_HEIGHT<span class="token punctuation">,</span> <span class="token operator">&amp;</span>Wire<span class="token punctuation">,</span> OLED_RESET<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 图片大小</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">IMG_WIDTH</span>    <span class="token expression"><span class="token number">61</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">IMG_HEIGHT</span>   <span class="token expression"><span class="token number">64</span></span></span>

<span class="token comment">// 图片数据</span>
<span class="token keyword">static</span> <span class="token keyword">const</span> <span class="token keyword">unsigned</span> <span class="token keyword">char</span> PROGMEM img<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span>
<span class="token punctuation">{<!-- --></span>   <span class="token number">0XF9</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XEF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span>
    <span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XF3</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XF0</span><span class="token punctuation">,</span><span class="token number">0X7F</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span>
    <span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XE0</span><span class="token punctuation">,</span><span class="token number">0X07</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XF8</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0X00</span><span class="token punctuation">,</span><span class="token number">0X01</span><span class="token punctuation">,</span><span class="token number">0X7F</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFB</span><span class="token punctuation">,</span>
    <span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XF8</span><span class="token punctuation">,</span><span class="token number">0X07</span><span class="token punctuation">,</span><span class="token number">0X00</span><span class="token punctuation">,</span><span class="token number">0X1F</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XF0</span><span class="token punctuation">,</span><span class="token number">0X03</span><span class="token punctuation">,</span><span class="token number">0XC0</span><span class="token punctuation">,</span><span class="token number">0X0F</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFC</span><span class="token punctuation">,</span>
    <span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XE7</span><span class="token punctuation">,</span><span class="token number">0XFD</span><span class="token punctuation">,</span><span class="token number">0XF0</span><span class="token punctuation">,</span><span class="token number">0X0F</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XF0</span><span class="token punctuation">,</span><span class="token number">0X0F</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span>
    <span class="token number">0XFE</span><span class="token punctuation">,</span><span class="token number">0X07</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XBE</span><span class="token punctuation">,</span><span class="token number">0X07</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XF0</span><span class="token punctuation">,</span><span class="token number">0X07</span><span class="token punctuation">,</span><span class="token number">0XFE</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0X83</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span>
    <span class="token number">0XF0</span><span class="token punctuation">,</span><span class="token number">0X0F</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0X7F</span><span class="token punctuation">,</span><span class="token number">0XC3</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFB</span><span class="token punctuation">,</span><span class="token number">0XF8</span><span class="token punctuation">,</span><span class="token number">0X1F</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0X9F</span><span class="token punctuation">,</span><span class="token number">0XE1</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span>
    <span class="token number">0XF8</span><span class="token punctuation">,</span><span class="token number">0X1F</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XEF</span><span class="token punctuation">,</span><span class="token number">0XF0</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFC</span><span class="token punctuation">,</span><span class="token number">0X3F</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XF7</span><span class="token punctuation">,</span><span class="token number">0XF0</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span>
    <span class="token number">0XFC</span><span class="token punctuation">,</span><span class="token number">0X7F</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFB</span><span class="token punctuation">,</span><span class="token number">0XF8</span><span class="token punctuation">,</span><span class="token number">0X7F</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XF9</span><span class="token punctuation">,</span><span class="token number">0XF8</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFC</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span>
    <span class="token number">0XF9</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0X7F</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XF3</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0X7F</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span>
    <span class="token number">0XF3</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFE</span><span class="token punctuation">,</span><span class="token number">0X3F</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XF7</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XF3</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0X1F</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFE</span><span class="token punctuation">,</span>
    <span class="token number">0XF7</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XCF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XF7</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XC7</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span>
    <span class="token number">0XF3</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XC3</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFC</span><span class="token punctuation">,</span><span class="token number">0XFB</span><span class="token punctuation">,</span><span class="token number">0XF3</span><span class="token punctuation">,</span><span class="token number">0XDF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XC0</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFE</span><span class="token punctuation">,</span>
    <span class="token number">0XF9</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XC3</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XF0</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFD</span><span class="token punctuation">,</span><span class="token number">0X7C</span><span class="token punctuation">,</span><span class="token number">0X60</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFC</span><span class="token punctuation">,</span><span class="token number">0X7F</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span>
    <span class="token number">0XFE</span><span class="token punctuation">,</span><span class="token number">0X38</span><span class="token punctuation">,</span><span class="token number">0X60</span><span class="token punctuation">,</span><span class="token number">0X0F</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFE</span><span class="token punctuation">,</span><span class="token number">0X7F</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0X99</span><span class="token punctuation">,</span><span class="token number">0XE0</span><span class="token punctuation">,</span><span class="token number">0X07</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFE</span><span class="token punctuation">,</span><span class="token number">0X7F</span><span class="token punctuation">,</span><span class="token number">0XFD</span><span class="token punctuation">,</span>
    <span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XCC</span><span class="token punctuation">,</span><span class="token number">0X60</span><span class="token punctuation">,</span><span class="token number">0X03</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XC6</span><span class="token punctuation">,</span><span class="token number">0X40</span><span class="token punctuation">,</span><span class="token number">0X01</span><span class="token punctuation">,</span><span class="token number">0X7F</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XBF</span><span class="token punctuation">,</span><span class="token number">0XF8</span><span class="token punctuation">,</span>
    <span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XE2</span><span class="token punctuation">,</span><span class="token number">0X40</span><span class="token punctuation">,</span><span class="token number">0X00</span><span class="token punctuation">,</span><span class="token number">0X3F</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0X1F</span><span class="token punctuation">,</span><span class="token number">0XF8</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XF0</span><span class="token punctuation">,</span><span class="token number">0X40</span><span class="token punctuation">,</span><span class="token number">0X00</span><span class="token punctuation">,</span><span class="token number">0X1F</span><span class="token punctuation">,</span><span class="token number">0XFE</span><span class="token punctuation">,</span><span class="token number">0X8F</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span>
    <span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XF8</span><span class="token punctuation">,</span><span class="token number">0X40</span><span class="token punctuation">,</span><span class="token number">0X00</span><span class="token punctuation">,</span><span class="token number">0X07</span><span class="token punctuation">,</span><span class="token number">0XF0</span><span class="token punctuation">,</span><span class="token number">0X27</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0X00</span><span class="token punctuation">,</span><span class="token number">0X00</span><span class="token punctuation">,</span><span class="token number">0X01</span><span class="token punctuation">,</span><span class="token number">0XE0</span><span class="token punctuation">,</span><span class="token number">0X17</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span>
    <span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XE0</span><span class="token punctuation">,</span><span class="token number">0X00</span><span class="token punctuation">,</span><span class="token number">0X00</span><span class="token punctuation">,</span><span class="token number">0XC0</span><span class="token punctuation">,</span><span class="token number">0X1B</span><span class="token punctuation">,</span><span class="token number">0XF9</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XE0</span><span class="token punctuation">,</span><span class="token number">0X18</span><span class="token punctuation">,</span><span class="token number">0X01</span><span class="token punctuation">,</span><span class="token number">0X00</span><span class="token punctuation">,</span><span class="token number">0X09</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span>
    <span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XE0</span><span class="token punctuation">,</span><span class="token number">0X3C</span><span class="token punctuation">,</span><span class="token number">0X04</span><span class="token punctuation">,</span><span class="token number">0X00</span><span class="token punctuation">,</span><span class="token number">0X01</span><span class="token punctuation">,</span><span class="token number">0XF8</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XF0</span><span class="token punctuation">,</span><span class="token number">0X3E</span><span class="token punctuation">,</span><span class="token number">0X00</span><span class="token punctuation">,</span><span class="token number">0X00</span><span class="token punctuation">,</span><span class="token number">0X03</span><span class="token punctuation">,</span><span class="token number">0XF8</span><span class="token punctuation">,</span>
    <span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XF8</span><span class="token punctuation">,</span><span class="token number">0XFE</span><span class="token punctuation">,</span><span class="token number">0X00</span><span class="token punctuation">,</span><span class="token number">0X00</span><span class="token punctuation">,</span><span class="token number">0X00</span><span class="token punctuation">,</span><span class="token number">0XF8</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFE</span><span class="token punctuation">,</span><span class="token number">0XFC</span><span class="token punctuation">,</span><span class="token number">0X00</span><span class="token punctuation">,</span><span class="token number">0X00</span><span class="token punctuation">,</span><span class="token number">0X00</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span>
    <span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0X7C</span><span class="token punctuation">,</span><span class="token number">0X00</span><span class="token punctuation">,</span><span class="token number">0X00</span><span class="token punctuation">,</span><span class="token number">0X00</span><span class="token punctuation">,</span><span class="token number">0X3F</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XF8</span><span class="token punctuation">,</span><span class="token number">0X00</span><span class="token punctuation">,</span><span class="token number">0X00</span><span class="token punctuation">,</span><span class="token number">0X00</span><span class="token punctuation">,</span><span class="token number">0X1F</span><span class="token punctuation">,</span>
    <span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XF0</span><span class="token punctuation">,</span><span class="token number">0X00</span><span class="token punctuation">,</span><span class="token number">0X00</span><span class="token punctuation">,</span><span class="token number">0X00</span><span class="token punctuation">,</span><span class="token number">0X0F</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XE0</span><span class="token punctuation">,</span><span class="token number">0X00</span><span class="token punctuation">,</span><span class="token number">0X00</span><span class="token punctuation">,</span><span class="token number">0X00</span><span class="token punctuation">,</span><span class="token number">0X06</span><span class="token punctuation">,</span>
    <span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XE0</span><span class="token punctuation">,</span><span class="token number">0X00</span><span class="token punctuation">,</span><span class="token number">0X00</span><span class="token punctuation">,</span><span class="token number">0X00</span><span class="token punctuation">,</span><span class="token number">0X01</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XE0</span><span class="token punctuation">,</span><span class="token number">0X00</span><span class="token punctuation">,</span><span class="token number">0X00</span><span class="token punctuation">,</span><span class="token number">0X00</span><span class="token punctuation">,</span><span class="token number">0X18</span><span class="token punctuation">,</span>
    <span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XE0</span><span class="token punctuation">,</span><span class="token number">0X00</span><span class="token punctuation">,</span><span class="token number">0X00</span><span class="token punctuation">,</span><span class="token number">0X00</span><span class="token punctuation">,</span><span class="token number">0X1C</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XE0</span><span class="token punctuation">,</span><span class="token number">0X00</span><span class="token punctuation">,</span><span class="token number">0X00</span><span class="token punctuation">,</span><span class="token number">0X00</span><span class="token punctuation">,</span><span class="token number">0X08</span><span class="token punctuation">,</span>
    <span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XE0</span><span class="token punctuation">,</span><span class="token number">0X01</span><span class="token punctuation">,</span><span class="token number">0XC0</span><span class="token punctuation">,</span><span class="token number">0X00</span><span class="token punctuation">,</span><span class="token number">0X0F</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XE0</span><span class="token punctuation">,</span><span class="token number">0X03</span><span class="token punctuation">,</span><span class="token number">0XC0</span><span class="token punctuation">,</span><span class="token number">0X00</span><span class="token punctuation">,</span><span class="token number">0X0F</span><span class="token punctuation">,</span>
    <span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XE0</span><span class="token punctuation">,</span><span class="token number">0X07</span><span class="token punctuation">,</span><span class="token number">0XE0</span><span class="token punctuation">,</span><span class="token number">0X00</span><span class="token punctuation">,</span><span class="token number">0X07</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XC0</span><span class="token punctuation">,</span><span class="token number">0X0F</span><span class="token punctuation">,</span><span class="token number">0XE0</span><span class="token punctuation">,</span><span class="token number">0X00</span><span class="token punctuation">,</span><span class="token number">0X07</span><span class="token punctuation">,</span>
    <span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XD0</span><span class="token punctuation">,</span><span class="token number">0X1F</span><span class="token punctuation">,</span><span class="token number">0XF0</span><span class="token punctuation">,</span><span class="token number">0X00</span><span class="token punctuation">,</span><span class="token number">0X00</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XC0</span><span class="token punctuation">,</span><span class="token number">0X1F</span><span class="token punctuation">,</span><span class="token number">0XF8</span><span class="token punctuation">,</span><span class="token number">0X00</span><span class="token punctuation">,</span><span class="token number">0X00</span><span class="token punctuation">,</span>
    <span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XC0</span><span class="token punctuation">,</span><span class="token number">0X3F</span><span class="token punctuation">,</span><span class="token number">0XF8</span><span class="token punctuation">,</span><span class="token number">0X00</span><span class="token punctuation">,</span><span class="token number">0X00</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XC0</span><span class="token punctuation">,</span><span class="token number">0X3F</span><span class="token punctuation">,</span><span class="token number">0XFC</span><span class="token punctuation">,</span><span class="token number">0X00</span><span class="token punctuation">,</span><span class="token number">0X07</span><span class="token punctuation">,</span>
    <span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XC0</span><span class="token punctuation">,</span><span class="token number">0X3F</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0X00</span><span class="token punctuation">,</span><span class="token number">0X00</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XC0</span><span class="token punctuation">,</span><span class="token number">0X7F</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0X80</span><span class="token punctuation">,</span><span class="token number">0X07</span><span class="token punctuation">,</span>
    <span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XC0</span><span class="token punctuation">,</span><span class="token number">0X7F</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0X80</span><span class="token punctuation">,</span><span class="token number">0X07</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XC6</span><span class="token punctuation">,</span><span class="token number">0X7F</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XC1</span><span class="token punctuation">,</span><span class="token number">0X07</span><span class="token punctuation">,</span>
    <span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XC0</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFB</span><span class="token punctuation">,</span><span class="token number">0XC7</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XC7</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0XFF</span><span class="token punctuation">,</span><span class="token number">0X80</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    Serial<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token number">115200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>display<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span>SSD1306_SWITCHCAPVCC<span class="token punctuation">,</span> OLED_ADDRESS<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        Serial<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token function">F</span><span class="token punctuation">(</span><span class="token string">"OLED 初始化失败！"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    display<span class="token punctuation">.</span><span class="token function">clearDisplay</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    display<span class="token punctuation">.</span><span class="token function">drawBitmap</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">// 左上角坐标</span>
                        img<span class="token punctuation">,</span> <span class="token comment">// 图像数据</span>
                        IMG_WIDTH<span class="token punctuation">,</span> IMG_HEIGHT<span class="token punctuation">,</span> <span class="token comment">// 图像尺寸</span>
                        SSD1306_WHITE<span class="token punctuation">)</span><span class="token punctuation">;</span>
    display<span class="token punctuation">.</span><span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">loop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>

<span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/a5/60/0wWXEagh_o.png" alt="file"></p> 
<h4><a id="372__623"></a>3.7.2 字符取模（汉字）</h4> 
<p>运行 PCtoLCD2002，模式选择如图<br> <img src="https://images2.imgbox.com/a9/21/qbpqjoHl_o.png" alt="file"></p> 
<p>然后选择字体和设置大小<br> <img src="https://images2.imgbox.com/90/b4/XyCeHOzv_o.png" alt="file"></p> 
<p>选项设置如图<br> <img src="https://images2.imgbox.com/08/7f/Jz0j8xZa_o.png" alt="file"></p> 
<p>然后生成字模<br> <img src="https://images2.imgbox.com/5f/f3/7gS07eAy_o.png" alt="file"></p> 
<p>然后就可以在 OLED 显示</p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;Wire.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;Adafruit_SSD1306.h&gt;</span></span>

<span class="token comment">// 屏幕分辨率</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">OLED_WIDTH</span>      <span class="token expression"><span class="token number">128</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">OLED_HEIGHT</span>     <span class="token expression"><span class="token number">64</span></span></span>

<span class="token comment">// IIC 地址</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">OLED_ADDRESS</span>    <span class="token expression"><span class="token number">0x3C</span></span></span>

<span class="token comment">// 复位引脚</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">OLED_RESET</span>      <span class="token expression"><span class="token operator">-</span><span class="token number">1</span> </span><span class="token comment">// 不使用</span></span>

Adafruit_SSD1306 <span class="token function">display</span><span class="token punctuation">(</span>OLED_WIDTH<span class="token punctuation">,</span> OLED_HEIGHT<span class="token punctuation">,</span> <span class="token operator">&amp;</span>Wire<span class="token punctuation">,</span> OLED_RESET<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 字模大小</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">FONT_WIDTH</span>    <span class="token expression"><span class="token number">16</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">FONT_HEIGHT</span>   <span class="token expression"><span class="token number">16</span></span></span>

<span class="token comment">// 字模</span>
<span class="token keyword">static</span> <span class="token keyword">const</span> <span class="token keyword">unsigned</span> <span class="token keyword">char</span> PROGMEM font<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">32</span><span class="token punctuation">]</span> <span class="token operator">=</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token number">0x08</span><span class="token punctuation">,</span><span class="token number">0x80</span><span class="token punctuation">,</span><span class="token number">0x08</span><span class="token punctuation">,</span><span class="token number">0x80</span><span class="token punctuation">,</span><span class="token number">0x08</span><span class="token punctuation">,</span><span class="token number">0x80</span><span class="token punctuation">,</span><span class="token number">0x11</span><span class="token punctuation">,</span><span class="token number">0xFE</span><span class="token punctuation">,</span><span class="token number">0x11</span><span class="token punctuation">,</span><span class="token number">0x02</span><span class="token punctuation">,</span><span class="token number">0x32</span><span class="token punctuation">,</span><span class="token number">0x04</span><span class="token punctuation">,</span><span class="token number">0x34</span><span class="token punctuation">,</span><span class="token number">0x20</span><span class="token punctuation">,</span><span class="token number">0x50</span><span class="token punctuation">,</span><span class="token number">0x20</span><span class="token punctuation">,</span>
    <span class="token number">0x91</span><span class="token punctuation">,</span><span class="token number">0x28</span><span class="token punctuation">,</span><span class="token number">0x11</span><span class="token punctuation">,</span><span class="token number">0x24</span><span class="token punctuation">,</span><span class="token number">0x12</span><span class="token punctuation">,</span><span class="token number">0x24</span><span class="token punctuation">,</span><span class="token number">0x12</span><span class="token punctuation">,</span><span class="token number">0x22</span><span class="token punctuation">,</span><span class="token number">0x14</span><span class="token punctuation">,</span><span class="token number">0x22</span><span class="token punctuation">,</span><span class="token number">0x10</span><span class="token punctuation">,</span><span class="token number">0x20</span><span class="token punctuation">,</span><span class="token number">0x10</span><span class="token punctuation">,</span><span class="token number">0xA0</span><span class="token punctuation">,</span><span class="token number">0x10</span><span class="token punctuation">,</span><span class="token number">0x40</span><span class="token punctuation">,</span><span class="token comment">/*"你",0*/</span>

    <span class="token number">0x10</span><span class="token punctuation">,</span><span class="token number">0x00</span><span class="token punctuation">,</span><span class="token number">0x10</span><span class="token punctuation">,</span><span class="token number">0xFC</span><span class="token punctuation">,</span><span class="token number">0x10</span><span class="token punctuation">,</span><span class="token number">0x04</span><span class="token punctuation">,</span><span class="token number">0x10</span><span class="token punctuation">,</span><span class="token number">0x08</span><span class="token punctuation">,</span><span class="token number">0xFC</span><span class="token punctuation">,</span><span class="token number">0x10</span><span class="token punctuation">,</span><span class="token number">0x24</span><span class="token punctuation">,</span><span class="token number">0x20</span><span class="token punctuation">,</span><span class="token number">0x24</span><span class="token punctuation">,</span><span class="token number">0x20</span><span class="token punctuation">,</span><span class="token number">0x25</span><span class="token punctuation">,</span><span class="token number">0xFE</span><span class="token punctuation">,</span>
    <span class="token number">0x24</span><span class="token punctuation">,</span><span class="token number">0x20</span><span class="token punctuation">,</span><span class="token number">0x48</span><span class="token punctuation">,</span><span class="token number">0x20</span><span class="token punctuation">,</span><span class="token number">0x28</span><span class="token punctuation">,</span><span class="token number">0x20</span><span class="token punctuation">,</span><span class="token number">0x10</span><span class="token punctuation">,</span><span class="token number">0x20</span><span class="token punctuation">,</span><span class="token number">0x28</span><span class="token punctuation">,</span><span class="token number">0x20</span><span class="token punctuation">,</span><span class="token number">0x44</span><span class="token punctuation">,</span><span class="token number">0x20</span><span class="token punctuation">,</span><span class="token number">0x84</span><span class="token punctuation">,</span><span class="token number">0xA0</span><span class="token punctuation">,</span><span class="token number">0x00</span><span class="token punctuation">,</span><span class="token number">0x40</span><span class="token punctuation">,</span><span class="token comment">/*"好",1*/</span>

    <span class="token number">0x02</span><span class="token punctuation">,</span><span class="token number">0x20</span><span class="token punctuation">,</span><span class="token number">0x12</span><span class="token punctuation">,</span><span class="token number">0x20</span><span class="token punctuation">,</span><span class="token number">0x12</span><span class="token punctuation">,</span><span class="token number">0x20</span><span class="token punctuation">,</span><span class="token number">0x12</span><span class="token punctuation">,</span><span class="token number">0x20</span><span class="token punctuation">,</span><span class="token number">0x12</span><span class="token punctuation">,</span><span class="token number">0x20</span><span class="token punctuation">,</span><span class="token number">0xFF</span><span class="token punctuation">,</span><span class="token number">0xFE</span><span class="token punctuation">,</span><span class="token number">0x12</span><span class="token punctuation">,</span><span class="token number">0x20</span><span class="token punctuation">,</span><span class="token number">0x12</span><span class="token punctuation">,</span><span class="token number">0x20</span><span class="token punctuation">,</span>
    <span class="token number">0x12</span><span class="token punctuation">,</span><span class="token number">0x20</span><span class="token punctuation">,</span><span class="token number">0x12</span><span class="token punctuation">,</span><span class="token number">0x20</span><span class="token punctuation">,</span><span class="token number">0x13</span><span class="token punctuation">,</span><span class="token number">0xE0</span><span class="token punctuation">,</span><span class="token number">0x10</span><span class="token punctuation">,</span><span class="token number">0x00</span><span class="token punctuation">,</span><span class="token number">0x10</span><span class="token punctuation">,</span><span class="token number">0x00</span><span class="token punctuation">,</span><span class="token number">0x10</span><span class="token punctuation">,</span><span class="token number">0x00</span><span class="token punctuation">,</span><span class="token number">0x1F</span><span class="token punctuation">,</span><span class="token number">0xFC</span><span class="token punctuation">,</span><span class="token number">0x00</span><span class="token punctuation">,</span><span class="token number">0x00</span><span class="token punctuation">,</span><span class="token comment">/*"世",2*/</span>

    <span class="token number">0x00</span><span class="token punctuation">,</span><span class="token number">0x00</span><span class="token punctuation">,</span><span class="token number">0x1F</span><span class="token punctuation">,</span><span class="token number">0xF0</span><span class="token punctuation">,</span><span class="token number">0x11</span><span class="token punctuation">,</span><span class="token number">0x10</span><span class="token punctuation">,</span><span class="token number">0x11</span><span class="token punctuation">,</span><span class="token number">0x10</span><span class="token punctuation">,</span><span class="token number">0x1F</span><span class="token punctuation">,</span><span class="token number">0xF0</span><span class="token punctuation">,</span><span class="token number">0x11</span><span class="token punctuation">,</span><span class="token number">0x10</span><span class="token punctuation">,</span><span class="token number">0x11</span><span class="token punctuation">,</span><span class="token number">0x10</span><span class="token punctuation">,</span><span class="token number">0x1F</span><span class="token punctuation">,</span><span class="token number">0xF0</span><span class="token punctuation">,</span>
    <span class="token number">0x02</span><span class="token punctuation">,</span><span class="token number">0x80</span><span class="token punctuation">,</span><span class="token number">0x0C</span><span class="token punctuation">,</span><span class="token number">0x60</span><span class="token punctuation">,</span><span class="token number">0x34</span><span class="token punctuation">,</span><span class="token number">0x58</span><span class="token punctuation">,</span><span class="token number">0xC4</span><span class="token punctuation">,</span><span class="token number">0x46</span><span class="token punctuation">,</span><span class="token number">0x04</span><span class="token punctuation">,</span><span class="token number">0x40</span><span class="token punctuation">,</span><span class="token number">0x08</span><span class="token punctuation">,</span><span class="token number">0x40</span><span class="token punctuation">,</span><span class="token number">0x08</span><span class="token punctuation">,</span><span class="token number">0x40</span><span class="token punctuation">,</span><span class="token number">0x10</span><span class="token punctuation">,</span><span class="token number">0x40</span><span class="token punctuation">,</span><span class="token comment">/*"界",3*/</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    Serial<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token number">115200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>display<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span>SSD1306_SWITCHCAPVCC<span class="token punctuation">,</span> OLED_ADDRESS<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        Serial<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token function">F</span><span class="token punctuation">(</span><span class="token string">"OLED 初始化失败！"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    display<span class="token punctuation">.</span><span class="token function">clearDisplay</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    display<span class="token punctuation">.</span><span class="token function">drawBitmap</span><span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">,</span> <span class="token number">24</span><span class="token punctuation">,</span> font<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> FONT_WIDTH<span class="token punctuation">,</span> FONT_HEIGHT<span class="token punctuation">,</span> SSD1306_WHITE<span class="token punctuation">)</span><span class="token punctuation">;</span>
    display<span class="token punctuation">.</span><span class="token function">drawBitmap</span><span class="token punctuation">(</span><span class="token number">48</span><span class="token punctuation">,</span> <span class="token number">24</span><span class="token punctuation">,</span> font<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> FONT_WIDTH<span class="token punctuation">,</span> FONT_HEIGHT<span class="token punctuation">,</span> SSD1306_WHITE<span class="token punctuation">)</span><span class="token punctuation">;</span>
    display<span class="token punctuation">.</span><span class="token function">drawBitmap</span><span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">,</span> <span class="token number">24</span><span class="token punctuation">,</span> font<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> FONT_WIDTH<span class="token punctuation">,</span> FONT_HEIGHT<span class="token punctuation">,</span> SSD1306_WHITE<span class="token punctuation">)</span><span class="token punctuation">;</span>
    display<span class="token punctuation">.</span><span class="token function">drawBitmap</span><span class="token punctuation">(</span><span class="token number">80</span><span class="token punctuation">,</span> <span class="token number">24</span><span class="token punctuation">,</span> font<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> FONT_WIDTH<span class="token punctuation">,</span> FONT_HEIGHT<span class="token punctuation">,</span> SSD1306_WHITE<span class="token punctuation">)</span><span class="token punctuation">;</span>
    display<span class="token punctuation">.</span><span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">loop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>

<span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/6c/77/UlGq30fW_o.png" alt="file"></p> 
<h3><a id="38__701"></a>3.8 局部刷新</h3> 
<p>有时候显示的东西只有局部变化，其它部分可能一直都显示相同的，那么刷新变化的内容的时候就没必要全屏重写，只需要重写变化的部分就行。但是也不能直接往变化的部分写，这样会和以前显示的内容重叠，要解决的关键问题就是如何只清除要更新的部分，然后再写。<br> 这个就可以利用前面演示用过的填充矩形函数来实现，某部分要重写，就先用填充矩形指定范围，但是填充颜色选黑色就会抹掉这部分，再写到这个地方就可以实现局部刷新。</p> 
<p>下面写的伪代码，大致理解逻辑</p> 
<pre><code class="prism language-cpp"><span class="token comment">// 实例对象</span>
Adafruit_SSD1306 <span class="token function">oled</span><span class="token punctuation">(</span>OLED_WIDTH<span class="token punctuation">,</span> OLED_HEIGHT<span class="token punctuation">,</span> <span class="token operator">&amp;</span>Wire<span class="token punctuation">,</span> OLED_RESET<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 初始化</span>
oled<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span>SSD1306_SWITCHCAPVCC<span class="token punctuation">,</span> OLED_ADDRESS<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 清屏</span>
oled<span class="token punctuation">.</span><span class="token function">clearDisplay</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 设置打印颜色为白色</span>
oled<span class="token punctuation">.</span><span class="token function">setTextColor</span><span class="token punctuation">(</span>SSD1306_WHITE<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 固定不变的显示内容</span>
oled<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"counter:"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 动态变化的显示内容（需要局部刷新的）</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    oled<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">48</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> SSD1306_BLACK<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 刷新部位局部绘制为黑色（清空）</span>
    oled<span class="token punctuation">.</span><span class="token function">setCursor</span><span class="token punctuation">(</span><span class="token number">48</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 设置要显示部位坐标</span>
    oled<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 写入最新显示内容</span>
    oled<span class="token punctuation">.</span><span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 显示</span>

    <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/30/bd/9M2ENqlS_o.png" alt="file"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/0f22d805b09b7d07e0ca824c967ab92e/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Ubuntu系统下使用apt-get安装Redis</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/87ae29275b1094e8cec5b26cd0a9840e/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">STM32 使用DMA进行串口发送和接收</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 追风少年的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>