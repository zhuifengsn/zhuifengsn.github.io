<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>DS1302芯片介绍 - 追风少年的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="DS1302芯片介绍" />
<meta property="og:description" content="低功耗时钟芯片DS1302可以对年、月、日、时、分、秒进行计时，且具有闰年补偿等多种功能。
DS1302的性能特性：
·实时时钟，可对秒、分、时、日、周、月以及带闰年补偿的年进行计数；
·用于高速数据暂存的31×8位RAM；
·最少引脚的串行I/O；
·2.5～5.5V 电压工作范围；
·2.5V时耗电小于300nA；
·用于时钟或RAM数据读/写的单字节或多字节（脉冲方式）数据传送方式；
·简单的3线接口；
·可选的慢速充电（至VCC1）的能力。
DS1302时钟芯片包括实时时钟/日历和31字节的静态RAM。它经过一个简单的串行接口与微处理器通信。实时时钟/日历提供秒、分、时、日、周、月和年等信息。对于小于31天的月和月末的日期自动进行调整，还包括闰年校正的功能。时钟的运行可以采用24h或带AM（上午）/PM（下午）的12h格式。采用三线接口与CPU进行同步通信，并可采用突发方式一次传送多个字节的时钟信号或RAM数据。DS1302有主电源/后备电源双电源引脚：VCC1 在单电源与电池供电的系统中提供低电源，并提供低功率的电池备份；VCC2在双电源系统中提供主电源，在这种运用方式中，VCC1 连接到备份电源，以便在没有主电源的情况下能保存时间信息以及数据。DS1302由VCC1或VCC2中较大者供电。当VCC2大于VCC1&#43;0.2V时，VCC2给DS1302供电；当VCC2小于VCC1时，DS1302由VCC1供电。
DS1302数据操作原理：
DS1302在任何数据传送时必须先初始化，把RST脚置为高电平，然后把8位地址和命令字装入移位寄存器，数据在SCLK的上升沿被输入。无论是读周期还是写周期，开始8位指定40个寄存器中哪个被访问到。在开始8个时钟周期，把命令字节装入移位寄存器之后，另外的时钟周期在读操作时输出数据，在写操作时写入数据。时钟脉冲的个数在单字节方式下为8加8，在多字节方式下为8加字节数，最大可达248字节数。
DS1302管脚图
如果在传送过程中置RST为低电平，则会终止本次数据传送，并且I/O引脚变为高阻态。上电运行时，在VCC &gt;=2.5V之前，RST脚必须保持低电平。只有在SCLK为低电平时，才能将RST置为高电平。内部结构图如下图所示，下表为各引脚的功能。
DS1302内部结构图
DS1302引脚功能表
DS1302的控制字如下图所示。控制字节的最高有效位（位7）必须是逻辑1；如果它为逻辑0，则不能把数据写入到DS1302中。位6如果为0，则表示存取日历时钟数据；为1表示存取RAM数据。位5～1（A4～A0）指示操作单元的地址。最低有效位（位0）如为0，表示要进行写操作；为1表示进行读操作。控制字节总是从最低位开始输入/输出。
控制字节的含义
为了提高对32个地址的寻址能力（地址/命令位1～5＝逻辑1），可以把时钟/日历或RAM寄存器规定为多字节（burst）方式。位6规定时钟或RAM，而位0规定读或写。在时钟/日历寄存器中的地址9～31或RAM寄存器中的地址31不能存储数据。在多字节方式中，读或写从地址0的位0开始。必须按数据传送的次序写最先的8个寄存器。但是，当以多字节方式写RAM时，为了传送数据不必写所有31字节。不管是否写了全部31字节，所写的每一字节都将传送至RAM。数据读写程序如下图所示。
数据读写程序 DS1302共有12个寄存器，其中有7个寄存器与日历、时钟相关，存放的数据位为BCD码形式，其日历、时间寄存器及其控制字见下表，其中奇数为读操作，偶数为写操作。
DS1302的日历、时钟寄存器及其控制字
时钟暂停：秒寄存器的位7定义位时钟暂停位。当它为1时，DS1302停止振荡，进入低功耗的备份方式。通常在对DS1302进行写操作时（如进入时钟调整程序），停止振荡。当它为0时，时钟将开始启动。
AM-PM/12-24[小]时方式：[小]时寄存器的位7定义为12或24[小]时方式选择位。它为高电平时，选择12[小]时方式。在此方式下，位5是AM/PM位，此位是高电平时表示PM，低电平表示AM，在24[小]时方式下，位5为第二个10[小]时位（20～23h）。
DS1302 的应用
实时时钟芯片DS1302采用串行数据传输，可为掉电保护电源提供可编程的充电功能，也可以关闭充电功能，芯片采用32768Hz晶振。要特别说明的是，备用电源BT1可以用电池或超级电容（10万μF以上）。虽然DS1302在主电源掉电后耗电很小，但如果要长时间保证时钟正常，最好选用小型充电电池。如果断电时间较短（几小时或几天），可以用漏电较小的普通电解电容代替（100μF就可以保证1小时的正常走时）[9]。DS1302在第一次加电后，需进行初始化操作。初始化后就可以按正常方法调整时间及闹铃。DS1302的时钟电路如下图所示。
DS1302时钟电路" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://zhuifengsn.github.io/posts/0b5490eb2c217b3fa097f80445d54b1e/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-05-05T14:34:55+08:00" />
<meta property="article:modified_time" content="2023-05-05T14:34:55+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="追风少年的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">追风少年的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">DS1302芯片介绍</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">    低功耗时钟芯片DS1302可以对年、月、日、时、分、秒进行计时，且具有闰年补偿等多种功能。</span></p> 
<p style="margin-left:.0001pt;text-align:left;">    DS1302的性能特性：</p> 
<p style="margin-left:.0001pt;text-align:justify;">    ·实时时钟，可对秒、分、时、日、周、月以及带闰年补偿的年进行计数；</p> 
<p style="margin-left:.0001pt;text-align:justify;">    ·用于高速数据暂存的31×8位RAM；</p> 
<p style="margin-left:.0001pt;text-align:justify;">    ·最少引脚的串行I/O；</p> 
<p style="margin-left:.0001pt;text-align:justify;">    ·2.5～5.5V 电压工作范围；</p> 
<p style="margin-left:.0001pt;text-align:justify;">    ·2.5V时耗电小于300nA；</p> 
<p style="margin-left:.0001pt;text-align:justify;">    ·用于时钟或RAM数据读/写的单字节或多字节（脉冲方式）数据传送方式；</p> 
<p style="margin-left:.0001pt;text-align:justify;">    ·简单的3线接口；</p> 
<p style="margin-left:.0001pt;text-align:justify;">    ·可选的慢速充电（至VCC1）的能力。</p> 
<p style="margin-left:.0001pt;text-align:justify;">    DS1302时钟芯片包括实时时钟/日历和31字节的静态RAM。它经过一个简单的串行接口与微处理器通信。实时时钟/日历提供秒、分、时、日、周、月和年等信息。对于小于31天的月和月末的日期自动进行调整，还包括闰年校正的功能。时钟的运行可以采用24h或带AM（上午）/PM（下午）的12h格式。采用三线接口与CPU进行同步通信，并可采用突发方式一次传送多个字节的时钟信号或RAM数据。DS1302有主电源/后备电源双电源引脚：VCC1 在单电源与电池供电的系统中提供低电源，并提供低功率的电池备份；VCC2在双电源系统中提供主电源，在这种运用方式中，VCC1 连接到备份电源，以便在没有主电源的情况下能保存时间信息以及数据。DS1302由VCC1或VCC2中较大者供电。当VCC2大于VCC1+0.2V时，VCC2给DS1302供电；当VCC2小于VCC1时，DS1302由VCC1供电。</p> 
<p style="margin-left:.0001pt;text-align:justify;">    DS1302数据操作原理：</p> 
<p style="margin-left:.0001pt;text-align:justify;">    DS1302在任何数据传送时必须先初始化，把RST脚置为高电平，然后把8位地址和命令字装入移位寄存器，数据在SCLK的上升沿被输入。无论是读周期还是写周期，开始8位指定40个寄存器中哪个被访问到。在开始8个时钟周期，把命令字节装入移位寄存器之后，另外的时钟周期在读操作时输出数据，在写操作时写入数据。时钟脉冲的个数在单字节方式下为8加8，在多字节方式下为8加字节数，最大可达248字节数。</p> 
<p style="margin-left:.0001pt;text-align:center;"><img alt="" height="178" src="https://images2.imgbox.com/1a/a6/ibBhZwk3_o.jpg" width="235"></p> 
<p style="text-align:center;"><strong> DS1302管脚图</strong></p> 
<p style="margin-left:.0001pt;text-align:justify;">    如果在传送过程中置RST为低电平，则会终止本次数据传送，并且I/O引脚变为高阻态。上电运行时，在VCC &gt;=2.5V之前，RST脚必须保持低电平。只有在SCLK为低电平时，才能将RST置为高电平。内部结构图如下图所示，下表为各引脚的功能。</p> 
<p style="margin-left:.0001pt;text-align:center;"><img alt="" height="267" src="https://images2.imgbox.com/34/4f/aVmeMeIj_o.jpg" width="416"></p> 
<p style="text-align:center;"><strong> DS1302内部结构图</strong></p> 
<p style="text-align:center;"><strong>DS1302引脚功能表</strong></p> 
<p style="text-align:center;"><strong><img alt="" height="231" src="https://images2.imgbox.com/b3/d3/9VVn5rlm_o.jpg" width="383"></strong></p> 
<p>    DS1302的控制字如下图所示。控制字节的最高有效位（位7）必须是逻辑1；如果它为逻辑0，则不能把数据写入到DS1302中。位6如果为0，则表示存取日历时钟数据；为1表示存取RAM数据。位5～1（A4～A0）指示操作单元的地址。最低有效位（位0）如为0，表示要进行写操作；为1表示进行读操作。控制字节总是从最低位开始输入/输出。</p> 
<p style="text-align:center;"><img alt="" height="68" src="https://images2.imgbox.com/d0/91/nFLUNl7k_o.jpg" width="466"></p> 
<p style="text-align:center;"><strong> 控制字节的含义</strong></p> 
<p style="margin-left:.0001pt;text-align:justify;">    为了提高对32个地址的寻址能力（地址/命令位1～5＝逻辑1），可以把时钟/日历或RAM寄存器规定为多字节（burst）方式。位6规定时钟或RAM，而位0规定读或写。在时钟/日历寄存器中的地址9～31或RAM寄存器中的地址31不能存储数据。在多字节方式中，读或写从地址0的位0开始。必须按数据传送的次序写最先的8个寄存器。但是，当以多字节方式写RAM时，为了传送数据不必写所有31字节。不管是否写了全部31字节，所写的每一字节都将传送至RAM。数据读写程序如下图所示。</p> 
<p style="margin-left:.0001pt;text-align:center;"><img alt="" src="https://images2.imgbox.com/ea/2b/k2ZawUAL_o.jpg"></p> 
<p style="text-align:center;"><strong>数据读写程序 </strong></p> 
<p style="margin-left:.0001pt;text-align:justify;">    DS1302共有12个寄存器，其中有7个寄存器与日历、时钟相关，存放的数据位为BCD码形式，其日历、时间寄存器及其控制字见下表，其中奇数为读操作，偶数为写操作。</p> 
<p style="margin-left:.0001pt;text-align:center;"><strong>DS1302的日历、时钟寄存器及其控制字</strong></p> 
<p style="margin-left:.0001pt;text-align:center;"><strong><img alt="" src="https://images2.imgbox.com/2d/ee/Ry6gplIG_o.jpg"></strong></p> 
<p style="margin-left:.0001pt;text-align:justify;">    时钟暂停：秒寄存器的位7定义位时钟暂停位。当它为1时，DS1302停止振荡，进入低功耗的备份方式。通常在对DS1302进行写操作时（如进入时钟调整程序），停止振荡。当它为0时，时钟将开始启动。</p> 
<p style="margin-left:.0001pt;text-align:justify;">    AM-PM/12-24[小]时方式：[小]时寄存器的位7定义为12或24[小]时方式选择位。它为高电平时，选择12[小]时方式。在此方式下，位5是AM/PM位，此位是高电平时表示PM，低电平表示AM，在24[小]时方式下，位5为第二个10[小]时位（20～23h）。</p> 
<p style="margin-left:.0001pt;text-align:justify;">    DS1302 的应用</p> 
<p style="margin-left:.0001pt;text-align:justify;">    实时时钟芯片DS1302采用串行数据传输，可为掉电保护电源提供可编程的充电功能，也可以关闭充电功能，芯片采用32768Hz晶振。要特别说明的是，备用电源BT1可以用电池或超级电容（10万μF以上）。虽然DS1302在主电源掉电后耗电很小，但如果要长时间保证时钟正常，最好选用小型充电电池。如果断电时间较短（几小时或几天），可以用漏电较小的普通电解电容代替（100μF就可以保证1小时的正常走时）[9]。DS1302在第一次加电后，需进行初始化操作。初始化后就可以按正常方法调整时间及闹铃。DS1302的时钟电路如下图所示。</p> 
<p style="margin-left:.0001pt;text-align:center;"><img alt="" height="185" src="https://images2.imgbox.com/20/6f/RanAYW67_o.jpg" width="423"></p> 
<p style="text-align:center;"><strong> DS1302时钟电路</strong></p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/e50bfa190e07d28eb6f39d5e51e44d09/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">一文深度讲解JVM 内存分析工具 MAT及实践（建议收藏）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/6202db0b04f005d6a819f72a25a2fcd2/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">黑盒测试方法详细介绍</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 追风少年的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>