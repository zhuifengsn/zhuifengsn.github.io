<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>线性表之顺序表（C&#43;&#43;版） - 追风少年的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="线性表之顺序表（C&#43;&#43;版）" />
<meta property="og:description" content="线性表之顺序表（C语言版本）http://t.csdn.cn/GHizI
SeqlistC.h文件
#pragma once #include&lt;iostream&gt; #include&lt;assert.h&gt; using namespace std; const int InitSize = 8; template &lt;class T&gt; class SeqList { private: T* data; int capacity;//容量 int size;//大小 public: SeqList() :size{ 0 }, capacity{InitSize} //无参构造函数，创建一个容量为InitSize的空表 { data = new T[InitSize]; if (data == nullptr) { cout &lt;&lt; &#34;erro&#34; &lt;&lt; endl; } } SeqList(T arr[], int n); //初始化容量，创建一个有值的顺序表 //拷贝构造函数 SeqList(const SeqList&amp; seq) { size = seq.size; capacity = seq.capacity; data = new T[seq." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://zhuifengsn.github.io/posts/324ac81185170300871aebf8f9414dbd/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-11-28T16:06:11+08:00" />
<meta property="article:modified_time" content="2022-11-28T16:06:11+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="追风少年的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">追风少年的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">线性表之顺序表（C&#43;&#43;版）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>线性表之顺序表（C语言版本）<a href="http://t.csdn.cn/GHizI" rel="nofollow" title="http://t.csdn.cn/GHizI">http://t.csdn.cn/GHizI</a></p> 
<p>SeqlistC.h文件</p> 
<pre><code class="language-cpp">#pragma once

#include&lt;iostream&gt;
#include&lt;assert.h&gt;
using namespace std;

const int InitSize = 8;

template &lt;class T&gt;
class SeqList
{
private:
	T* data;
	int capacity;//容量
	int size;//大小
public:
	SeqList() :size{ 0 }, capacity{InitSize} //无参构造函数，创建一个容量为InitSize的空表
	{
		data = new T[InitSize]; 
		if (data == nullptr)
		{
			cout &lt;&lt; "erro" &lt;&lt; endl;
		}
	}
	SeqList(T arr[], int n); //初始化容量，创建一个有值的顺序表
	
	//拷贝构造函数
	SeqList(const SeqList&amp; seq)
	{
		size = seq.size;
		capacity = seq.capacity;
		data = new T[seq.size];
		memcpy(data, seq.data, sizeof(T) * seq.capacity);
	}
	//重载“+”运算符
	SeqList operator+(const SeqList&amp; sq)
	{
		int n = size + sq.size;
		T* newdata = new T[n];
		int a = size;//this线性表大小
		int b = sq.size;//aq线性表大小
		T* sra = data;
		T* srb= sq.data;
		T* newsrc = newdata;
		while (a--)
		{
			*newsrc++ = *sra++;
		}
		while (b--)
		{
			*newsrc++ = *srb++;
		}
		
		return SeqList(newdata,n);//调用其构造函数
	}


	//赋值函数
	SeqList&amp; operator=(const SeqList&amp; a)
	{
		if (this != &amp;a)
		{
			//释放原有空间，防止原有空间大小不够，重新申请空间
			delete[] data;
			data = new T[a.size];
			memcpy(data, a.data, sizeof(T) * a.capacity);
			this-&gt;size = a.size;
			this-&gt;capacity = a.capacity;

		}
		return *this;
	}


	~SeqList() 
	{
		delete[] data;
		size = 0;
		capacity = 0;
	}

	void push_back(T val);//尾插
	void Show()const;//显示
	void push_front(T val);//头插
	void pop_back();//尾删
	void pop_front();//头删
	void inser_pos(T val, int pos);//按位置插入
	T find(T val)const;//按值查找
	int length()const { return size; }//长度
	void delete_pos(int pos);//按位置删除
	void delete_val(T val);//按值删除
	void Sort();//排序
	void Reverse();//逆序
	void Clear() { size = 0; }//清空
	bool Inc();//增容
};
//交换函数
template &lt;class T&gt;
void Swap(T&amp; a, T&amp; b)
{
	T tmp = 0;
	tmp = a;
	a = b;
	b = tmp;
}
//初始化容量，创建一个有值的顺序表
template &lt;class T&gt;
SeqList&lt;T&gt;:: SeqList(T arr[], int n) 
{
	data = new T[InitSize];
	if (data == nullptr)
	{
		cout &lt;&lt; "erro" &lt;&lt; endl;
	}
	capacity = InitSize;
	while (n &gt; this-&gt;capacity)
	{
		if (this-&gt;Inc())
		{
			break;
		}
		else
		{
			cout &lt;&lt; "erro" &lt;&lt; endl;
		}
	}
	for (int i = 0; i &lt; n; ++i)
	{
		data[i] = arr[i];
	}
	size = n;
}


//增容
template &lt;class T&gt;
bool SeqList&lt;T&gt;::Inc()
{
	T* newdata = new T[capacity * 2];
	if (newdata == nullptr)
	{
		cout &lt;&lt; "erro" &lt;&lt; endl;
	}
	int n = size;//线性表大小
	T* src = data;
	T* newsrc = newdata;
	while (n--)
	{
		*newsrc++ = *src++;
	}
	this-&gt;data = newdata;
	this-&gt;capacity = this-&gt;capacity * 2;
	return true;
}

//显示
template &lt;class T&gt;
void SeqList &lt;T&gt;::Show()const
{
	if (this-&gt;size == 0)
	{
		cout &lt;&lt; "没有数据" &lt;&lt; endl;
	}
	else
	{
		for (int i = 0; i &lt; this-&gt;size; ++i)
		{
			cout &lt;&lt; this-&gt;data[i] &lt;&lt; " ";
		}
		cout &lt;&lt; endl;
	}
}

//尾插
template &lt;class T&gt;
void SeqList &lt;T&gt;::push_back(T val)
{
	if (size &gt;= capacity &amp;&amp; !Inc())
	{
		cout &lt;&lt; "顺序表满了，不能尾插" &lt;&lt; endl;
		return;
	}
	data[size] = val;
	size++;
}

//头插
template &lt;class T&gt;
void SeqList &lt;T&gt;::push_front(T val)
{
	if (size &gt;= capacity &amp;&amp; !Inc())
	{
		cout &lt;&lt; "顺序表满了，不能头插" &lt;&lt; endl;
		return;
	}
	for (int i = size; i &gt; 0; --i)
	{
		data[i] = data[i - 1];
	}
	data[0] = val;
	size++;

}

//尾删
template &lt;class T&gt;
void SeqList &lt;T&gt;::pop_back()
{
	assert(this != nullptr);
	size--;
}

//头删
template &lt;class T&gt;
void SeqList &lt;T&gt;::pop_front()
{
	assert(this != nullptr);
	for (int i = 1; i &lt; size; ++i)
	{
		data[i - 1] = data[i];
	}
	size--;
}

//按位置插入
template &lt;class T&gt;
void SeqList &lt;T&gt;::inser_pos(T val, int pos)
{
	//判断位置是否合法
	if (pos&lt;0 || pos&gt;size)
		cout &lt;&lt; "pos erro" &lt;&lt; endl;
	if (size == capacity &amp;&amp; !Inc())
	{
		cout &lt;&lt; "Inc erro" &lt;&lt; endl;
	}
	for (int i = size; i &gt; pos; --i)
	{
		data[i] = data[i - 1];
	}
	data[pos] = val;
	size++;

}

//按值查找
template &lt;class T&gt;
T SeqList &lt;T&gt;::find(T val)const
{
	if (size == 0)
		cout &lt;&lt; "空表" &lt;&lt; endl;
	for (int i = 0; i &lt; size; ++i)
	{
		if (data[i] == val) return i;
	}
	return -1;
}

//按位置删除
template &lt;class T&gt;
void SeqList &lt;T&gt;::delete_pos(int pos)
{
	assert(this != nullptr);
	if (pos &lt; 0 || pos &gt;= size)
		cout &lt;&lt; "pos err" &lt;&lt; endl;
	for (int i = pos; i &lt; size - 1; i++)
	{
		data[i] = data[i + 1];
	}
	size--;

}

//按值删除
template &lt;class T&gt;
void SeqList &lt;T&gt;::delete_val(T val)
{
	assert(this != nullptr);
	int pos = find(val);
	if (pos == -1)
		cout &lt;&lt; "val不存在" &lt;&lt; endl;
	delete_pos(pos);
}

//排序
template &lt;class T&gt;
void SeqList &lt;T&gt;::Sort()
{
	for (int i = 0; i &lt; size - 1; ++i)
	{
		for (int j = 0; j &lt; size - i - 1; j++)
		{
			if (data[j] &gt; data[j + 1])
			{
				Swap(data[j], data[j + 1]);
			}
		}
	}
}

//逆序
template &lt;class T&gt;
void SeqList &lt;T&gt;::Reverse()
{
	int left = 0; int right = size - 1;
	while (left &lt; right)
	{
		Swap(data[left], data[right]);
		left++;
		right--;
	}
}
</code></pre> 
<p>test.cpp测试代码</p> 
<pre><code class="language-cpp">#include"SeqlistC.h"

int main()
{
	int arr[5] = { 1,2,3,4,5};
	int brr[3] = { 6,7,8 };
	SeqList&lt;int&gt; sq = SeqList&lt;int&gt;(arr, 5);
	sq.Show();
	SeqList&lt;int&gt; sq1;
	sq1.Show();
	SeqList&lt;int&gt; sq2 = SeqList&lt;int&gt;(arr, 3);
	sq2.Show();
	sq = sq + sq2;
	sq.Show();
	sq.push_back(6);
	sq.Show();
	sq.push_front(0);
	sq.Show();
	sq.pop_back();
	sq.Show();
	sq.pop_front();
	sq.Show();
	sq.inser_pos(0, 3);
	sq.Show();
	cout&lt;&lt;"元素0的位置是："&lt;&lt;sq.find(0)&lt;&lt;endl;
	cout &lt;&lt; "线性表的长度为：" &lt;&lt; sq.length() &lt;&lt; endl;
	sq.delete_pos(3);
	sq.Show();
	sq.delete_val(5);
	sq.Show();
	sq.Sort();
	sq.Show();
	sq.Reverse();
	sq.Show();

	return 0;
}</code></pre> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/8b93f0a6d593c60504fdf5e654363583/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">java每日一练(4)</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/910c73cbfb218eeea1e6cfe2fcc0f089/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">java 每日一练 (5)</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 追风少年的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>