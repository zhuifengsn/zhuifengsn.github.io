<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Java 中File类的createNewFile()与createTempFile(), delete和deleteOnExit区别 - 追风少年的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Java 中File类的createNewFile()与createTempFile(), delete和deleteOnExit区别" />
<meta property="og:description" content="1. Java 中File类的createNewFile()与createTempFile()的区别
最近，在看代码时看到了一个方法， File.createTempFile() ，由此联想到File.createNewFile() 方法，一时间不知道两者到底有什么区别，感觉都是创建新文件嘛，后来查看api文档介绍，并经过自己动手试验，终于有了一个较为清楚地认识。 1. File 的 createNewFile() 方法： createNewFile()；返回值为 boolean； 方法介 绍：当且仅当不存在具有此抽象路径名指定名称的文件时，不可分地创建一个新的空文件。 使用： File file = new File(&#34;D:\\test\\1.txt&#34;); boolean res = file.createNewFile(); if(!res)System.out.println(&#34;创建失败！&#34;);
如果D:/test 目录下没有 1.txt文件，则创建该文件；如果没有test目录，直接抛出异常，如果1.txt已经存在，那么文件创建失败。 可以得知，createNewFile() 方法，根据抽象路径创建一个新的空文件，当抽象路径制定的文件存在时，创建失败。
2. File 的 createTempFile() 方法
该方法有两种调用方式： createTempFile(String prefix, String suffix)； 在默认临时文件目录中创建一个空文件，使用给定前缀和后缀生成其名称。 createTempFile(String prefix, String suffix, File directory)； 在指定目录中创建一个新的空文件，使用给定的前缀和后缀字符串生成其名称。
File file2 = new File(&#34;D:\\temp&#34;);// D;/temp 为一个目录 File tempFile1= file2.createTempFile(&#34;msg&#34;, &#34;.tmp&#34;,file2); File tempFile2 = file2.createTempFile(&#34;msg&#34;, &#34;.tmp&#34;); System.out.println(tempFile2.getAbsolutePath());
可以这么认为，createTempFile() 方法，在指定的目录下创建一个temp文件，directory 类型为File ，如果路径不存在，则创建失败。createTempFile(String prefix, String suffix)；方法默认的保存路径为：C:\Documents and Settings\Administrator\Local Settings\Temp 。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://zhuifengsn.github.io/posts/ad213743437318716441363d30959481/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2019-07-02T22:51:36+08:00" />
<meta property="article:modified_time" content="2019-07-02T22:51:36+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="追风少年的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">追风少年的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Java 中File类的createNewFile()与createTempFile(), delete和deleteOnExit区别</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div id="cnblogs_post_body" class="blogpost-body"> 
 <p><span style="font-size:15px;">1. Java 中<a id="cb_post_title_url" class="postTitle2" href="https://www.cnblogs.com/huangyibo/p/3667714.html" rel="nofollow">File类的createNewFile()与createTempFile()的区别</a></span></p> 
 <p><span style="font-size:15px;">   最近，在看代码时看到了一个方法， File.createTempFile() ，由此联想到File.createNewFile() 方法，一时间不知道两者到底有什么区别，感觉都是创建新文件嘛，后来查看api文档介绍，并经过自己动手试验，终于有了一个较为清楚地认识。 <strong>1. File 的 createNewFile() 方法：</strong>        createNewFile()；返回值为 boolean； 方法介  绍：当且仅当不存在具有此抽象路径名指定名称的文件时，不可分地创建一个新的空文件。 使用： File file = new File("D:\\test\\1.txt"); boolean res = file.createNewFile(); if(!res)System.out.println("创建失败！");</span></p> 
 <p><span style="font-size:15px;"><em id="__mceDel">如果D:/test 目录下没有 1.txt文件，则创建该文件；如果没有test目录，直接抛出异常，如果1.txt已经存在，那么文件创建失败。 可以得知，createNewFile() 方法，根据抽象路径创建一个新的空文件，当抽象路径制定的文件存在时，创建失败。<br><strong>2. File 的 createTempFile() 方法</strong><br>该方法有两种调用方式： createTempFile(String prefix, String suffix)； 在默认临时文件目录中创建一个空文件，使用给定前缀和后缀生成其名称。 createTempFile(String prefix, String suffix, File directory)； 在指定目录中创建一个新的空文件，使用给定的前缀和后缀字符串生成其名称。<br>File file2 = new File("D:\\temp");// D;/temp 为一个目录 File tempFile1= file2.createTempFile("msg", ".tmp",file2); File tempFile2 = file2.createTempFile("msg", ".tmp"); System.out.println(tempFile2.getAbsolutePath());<br>可以这么认为，createTempFile() 方法，在指定的目录下创建一个temp文件，directory 类型为File ，如果路径不存在，则创建失败。createTempFile(String prefix, String suffix)；方法默认的保存路径为：C:\Documents and Settings\Administrator\Local Settings\Temp 。</em></span></p> 
 <p> </p> 
 <h3><span style="font-size:15px;">2. <a href="https://www.cnblogs.com/boshen-hzb/p/5900745.html" rel="nofollow">java中File的delete和deleteOnExit区别</a></span></h3> 
 <div class="blogpost-body"> 
  <p><span style="font-size:15px;">Java的File类中有两个delete方法：delete和deleteOnExit</span></p> 
  <p><span style="font-size:15px;">delete无需解释，为直接删除，deleteOnExit文档解释为：在虚拟机终止时，请求删除此抽象路径名表示的文件或目录。也就是说，程序运行deleteOnExit成功后，File并没有直接删除，而是在虚拟机正常运行结束后才会删除。</span></p> 
  <p><span style="font-size:15px;"> </span></p> 
  <p><span style="font-size:15px;">file创建文件的另一个方法：createTempFile（在默认临时文件目录中创建一个空文件，使用给定前缀和后缀生成其名称）</span></p> 
  <p><span style="font-size:15px;">这两个方法其实是对应的，使用场景是这样的：</span></p> 
  <p><span style="font-size:15px;">程序有个需求需要创建临时文件，这个临时文件可能作为存储使用，但是程序运行结束后，这个文件应该就被删除了。在哪里做删除操作呢，需要监控程序关闭吗，如果有很多地方可以中止程序，这个删除操作需要都放置一份吗？其实只要这么写,程序结束后文件就会被自动删除了：</span></p> 
  <div> 
   <pre><span style="font-size:15px;">  File file=File.createTempFile("tmp",null);
  //这里对文件进行操作
  file.deleteOnExit();</span></pre> 
  </div> 
 </div> 
 <p> </p> 
</div> 
<p>转载于:https://www.cnblogs.com/kungfupanda/p/9472137.html</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/260355c54d5778a16c9e3653e86f1047/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">java编译和运行</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/9c389ac133d1d5b2ddec1a9c8ed4059c/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Eclipse3.4汉化包安装步骤</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 追风少年的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>