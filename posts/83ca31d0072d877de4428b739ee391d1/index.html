<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Airtest IDE 自动化测试11 - text 和 keyevent - 追风少年的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Airtest IDE 自动化测试11 - text 和 keyevent" />
<meta property="og:description" content="前言 在 Airtest IDE 的 Airtest录制辅助窗内，包含有三种类型的录制按钮:
操作类型辅助类型断言类型touchtextassert_existsswipekeyeventassert_not_existswaitsleepassert_equalexistassert_not_equalsnapshot text 输入文本 在目标设备上输入文本，文本框需要处于激活状态
参数:
text :要输入的文本enter :完成输入后默认执行 Enter 操作 ，默认是 Truesearch :完成输入后强制执行search 操作，默认是 False 返回: None
支持平台: Android, Windows, iOS
使用示例
&gt;&gt;&gt; text(&#34;test&#34;) &gt;&gt;&gt; text(&#34;test&#34;, enter=False) 在Android上，有时你需要在输入完毕后点击搜索按钮:
text(&#34;test&#34;, search=True) Module airtest.core.android.ime.YosemiteIme.code
如果你想输入其它键，可以使用这个接口::
&gt;&gt;&gt; text(&#34;test&#34;) &gt;&gt;&gt; device().yosemite_ime.code(&#34;3&#34;) # 3 = IME_ACTION_SEARCH keyevent 在设备上执行 keyevent 按键事件
keyname – 平台相关的按键名称**kwargs – 平台相关的参数 kwargs，请参考对应的平台接口文档 返回 None 支持平台：Android, Windows, iOS
Android: 相当于执行了 adb shell input keyevent KEYNAME" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://zhuifengsn.github.io/posts/83ca31d0072d877de4428b739ee391d1/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-05-30T14:37:00+08:00" />
<meta property="article:modified_time" content="2021-05-30T14:37:00+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="追风少年的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">追风少年的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Airtest IDE 自动化测试11 - text 和 keyevent</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="_0"></a>前言</h2> 
<p>在 Airtest IDE 的 Airtest录制辅助窗内，包含有三种类型的录制按钮:</p> 
<table><thead><tr><th>操作类型</th><th>辅助类型</th><th>断言类型</th></tr></thead><tbody><tr><td>touch</td><td>text</td><td>assert_exists</td></tr><tr><td>swipe</td><td>keyevent</td><td>assert_not_exists</td></tr><tr><td>wait</td><td>sleep</td><td>assert_equal</td></tr><tr><td>exist</td><td></td><td>assert_not_equal</td></tr><tr><td>snapshot</td><td></td><td></td></tr></tbody></table> 
<h2><a id="text__12"></a>text 输入文本</h2> 
<p>在目标设备上输入文本，文本框需要处于激活状态<br> 参数:</p> 
<ul><li>text :要输入的文本</li><li>enter :完成输入后默认执行 Enter 操作 ，默认是 True</li><li>search :完成输入后强制执行search 操作，默认是 False</li></ul> 
<p>返回: None<br> 支持平台: Android, Windows, iOS<br> <img src="https://images2.imgbox.com/e4/bd/oHUY7BkR_o.png" alt=""></p> 
<p>使用示例</p> 
<pre><code>&gt;&gt;&gt; text("test")
&gt;&gt;&gt; text("test", enter=False)
</code></pre> 
<p>在Android上，有时你需要在输入完毕后点击搜索按钮:</p> 
<pre><code>text("test", search=True)
</code></pre> 
<p>Module <code>airtest.core.android.ime.YosemiteIme.code</code><br> 如果你想输入其它键，可以使用这个接口::</p> 
<pre><code>&gt;&gt;&gt; text("test")
&gt;&gt;&gt; device().yosemite_ime.code("3")  # 3 = IME_ACTION_SEARCH
</code></pre> 
<h2><a id="keyevent_39"></a>keyevent</h2> 
<p>在设备上执行 keyevent 按键事件</p> 
<ul><li>keyname – 平台相关的按键名称</li><li>**kwargs – 平台相关的参数 kwargs，请参考对应的平台接口文档</li></ul> 
<p>返回 None 支持平台：Android, Windows, iOS</p> 
<p>Android: 相当于执行了 <code>adb shell input keyevent KEYNAME</code></p> 
<pre><code>&gt;&gt;&gt; keyevent("HOME")
&gt;&gt;&gt; # The constant corresponding to the home key is 3
&gt;&gt;&gt; keyevent("3")  # same as keyevent("HOME")
&gt;&gt;&gt; keyevent("BACK")
&gt;&gt;&gt; keyevent("KEYCODE_DEL")
</code></pre> 
<p>Module <code>airtest.core.android.adb.ADB.keyevent</code> 相当于调用 android.adb.keyevent()</p> 
<p>Windows: 使用 <code>pywinauto.keyboard</code> 进行按键点击:</p> 
<pre><code>&gt;&gt;&gt; keyevent("{DEL}")
&gt;&gt;&gt; keyevent("%{F4}")  # close an active window with Alt+F4
</code></pre> 
<p>Module <code>airtest.core.win.win.Windows.keyevent</code> 调用 pywinauto.keyboard</p> 
<p>iOS: 仅支持 home/volumeUp/volumeDown:</p> 
<pre><code>&gt;&gt;&gt; keyevent("HOME")
&gt;&gt;&gt; keyevent("volumeUp")
</code></pre> 
<h2><a id="adb__keyevent_70"></a>adb 使用 keyevent</h2> 
<p>1.keyevent事件有一张对应的表，可以直接发送对应的数字，也可以方式字符串，如下两个方法都能实现back键。打开cmd输入指令</p> 
<h2><a id="_74"></a>方法一：</h2> 
<blockquote> 
 <p>adb shell input keyevent KEYCODE_BACK</p> 
</blockquote> 
<h2><a id="_77"></a>方法二：</h2> 
<blockquote> 
 <p>adb shell input keyevent 4</p> 
</blockquote> 
<p>2.常用的keyevent事件</p> 
<pre><code>解锁(KEYCODE_NOTIFICATION)： adb shell input keyevent 83

向上(KEYCODE_DPAD_UP)：adb shell input keyevent 19

向下(KEYCODE_DPAD_DOWN)：adb shell input keyevent 20

向左(KEYCODE_DPAD_LEFT)：adb shell input keyevent 21

向右(KEYCODE_DPAD_RIGHT)：adb shell input keyevent 22
</code></pre> 
<h2><a id="keyevent_92"></a>keyevent事件对应数字</h2> 
<p>0 –&gt; “KEYCODE_UNKNOWN”<br> 1 –&gt; “KEYCODE_MENU”<br> 2 –&gt; “KEYCODE_SOFT_RIGHT”<br> 3 –&gt; “KEYCODE_HOME”<br> 4 –&gt; “KEYCODE_BACK”<br> 5 –&gt; “KEYCODE_CALL”<br> 6 –&gt; “KEYCODE_ENDCALL”<br> 7 –&gt; “KEYCODE_0”<br> 8 –&gt; “KEYCODE_1”<br> 9 –&gt; “KEYCODE_2”<br> 10 –&gt; “KEYCODE_3”<br> 11 –&gt; “KEYCODE_4”<br> 12 –&gt; “KEYCODE_5”<br> 13 –&gt; “KEYCODE_6”<br> 14 –&gt; “KEYCODE_7”<br> 15 –&gt; “KEYCODE_8”<br> 16 –&gt; “KEYCODE_9”<br> 17 –&gt; “KEYCODE_STAR”<br> 18 –&gt; “KEYCODE_POUND”<br> 19 –&gt; “KEYCODE_DPAD_UP”<br> 20 –&gt; “KEYCODE_DPAD_DOWN”<br> 21 –&gt; “KEYCODE_DPAD_LEFT”<br> 22 –&gt; “KEYCODE_DPAD_RIGHT”<br> 23 –&gt; “KEYCODE_DPAD_CENTER”<br> 24 –&gt; “KEYCODE_VOLUME_UP”<br> 25 –&gt; “KEYCODE_VOLUME_DOWN”<br> 26 –&gt; “KEYCODE_POWER”<br> 27 –&gt; “KEYCODE_CAMERA”<br> 28 –&gt; “KEYCODE_CLEAR”<br> 29 –&gt; “KEYCODE_A”<br> 30 –&gt; “KEYCODE_B”<br> 31 –&gt; “KEYCODE_C”<br> 32 –&gt; “KEYCODE_D”<br> 33 –&gt; “KEYCODE_E”<br> 34 –&gt; “KEYCODE_F”<br> 35 –&gt; “KEYCODE_G”<br> 36 –&gt; “KEYCODE_H”<br> 37 –&gt; “KEYCODE_I”<br> 38 –&gt; “KEYCODE_J”<br> 39 –&gt; “KEYCODE_K”<br> 40 –&gt; “KEYCODE_L”<br> 41 –&gt; “KEYCODE_M”<br> 42 –&gt; “KEYCODE_N”<br> 43 –&gt; “KEYCODE_O”<br> 44 –&gt; “KEYCODE_P”<br> 45 –&gt; “KEYCODE_Q”<br> 46 –&gt; “KEYCODE_R”<br> 47 –&gt; “KEYCODE_S”<br> 48 –&gt; “KEYCODE_T”<br> 49 –&gt; “KEYCODE_U”<br> 50 –&gt; “KEYCODE_V”<br> 51 –&gt; “KEYCODE_W”<br> 52 –&gt; “KEYCODE_X”<br> 53 –&gt; “KEYCODE_Y”<br> 54 –&gt; “KEYCODE_Z”<br> 55 –&gt; “KEYCODE_COMMA”<br> 56 –&gt; “KEYCODE_PERIOD”<br> 57 –&gt; “KEYCODE_ALT_LEFT”<br> 58 –&gt; “KEYCODE_ALT_RIGHT”<br> 59 –&gt; “KEYCODE_SHIFT_LEFT”<br> 60 –&gt; “KEYCODE_SHIFT_RIGHT”<br> 61 –&gt; “KEYCODE_TAB”<br> 62 –&gt; “KEYCODE_SPACE”<br> 63 –&gt; “KEYCODE_SYM”<br> 64 –&gt; “KEYCODE_EXPLORER”<br> 65 –&gt; “KEYCODE_ENVELOPE”<br> 66 –&gt; “KEYCODE_ENTER”<br> 67 –&gt; “KEYCODE_DEL”<br> 68 –&gt; “KEYCODE_GRAVE”<br> 69 –&gt; “KEYCODE_MINUS”<br> 70 –&gt; “KEYCODE_EQUALS”<br> 71 –&gt; “KEYCODE_LEFT_BRACKET”<br> 72 –&gt; “KEYCODE_RIGHT_BRACKET”<br> 73 –&gt; “KEYCODE_BACKSLASH”<br> 74 –&gt; “KEYCODE_SEMICOLON”<br> 75 –&gt; “KEYCODE_APOSTROPHE”<br> 76 –&gt; “KEYCODE_SLASH”<br> 77 –&gt; “KEYCODE_AT”<br> 78 –&gt; “KEYCODE_NUM”<br> 79 –&gt; “KEYCODE_HEADSETHOOK”<br> 80 –&gt; “KEYCODE_FOCUS”<br> 81 –&gt; “KEYCODE_PLUS”<br> 82 –&gt; “KEYCODE_MENU”<br> 83 –&gt; “KEYCODE_NOTIFICATION”<br> 84 –&gt; “KEYCODE_SEARCH”<br> 85 –&gt; “TAG_LAST_KEYCODE”</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/99e1bd3d30f0211cd85624e1f44205da/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Web基础与布局</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/d86e785cd61d83695a78285c1b28a58c/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Bert加载</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 追风少年的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>