<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>C#语言入门详解（刘铁锰）---泛型 - 追风少年的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="C#语言入门详解（刘铁锰）---泛型" />
<meta property="og:description" content="C#语言入门详解（刘铁锰）视频教程：https://www.bilibili.com/video/BV1wx411K7rb
IDE：VS2019
.NET Core 3.1
1.泛型类 实例代码： using System; namespace 泛型 { class Program { static void Main(string[] args) { Console.WriteLine(&#34;-------------test-------------&#34;); Apple ap = new Apple(&#34;red&#34;); Book bk = new Book(&#34;C#入门详解&#34;); Box&lt;Apple&gt; apbox = new Box&lt;Apple&gt;(ap); Console.WriteLine( apbox.Cargo.Color); Box&lt;Book&gt; bkbox = new Box&lt;Book&gt;(bk); Console.WriteLine(bkbox.Cargo.Name); Console.WriteLine(&#34;-------------Done-------------&#34;); } } class Apple //被包装的物品类 { private string _color; public string Color { get =&gt; _color; set =&gt; _color = value; } public Apple(string color) { this." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://zhuifengsn.github.io/posts/f117d6661928cb25a9c42a6b6facc8fa/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-08-23T22:39:57+08:00" />
<meta property="article:modified_time" content="2021-08-23T22:39:57+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="追风少年的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">追风少年的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">C#语言入门详解（刘铁锰）---泛型</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>C#语言入门详解（刘铁锰）视频教程：<a href="https://www.bilibili.com/video/BV1wx411K7rb" rel="nofollow">https://www.bilibili.com/video/BV1wx411K7rb</a></p> 
<p>IDE：VS2019</p> 
<p>.NET Core 3.1</p> 
<h2>1.泛型类</h2> 
<h3>实例代码：</h3> 
<pre><code class="language-cs">using System;

namespace 泛型
{
    class Program
    {
        static void Main(string[] args)
        {
            Console.WriteLine("-------------test-------------");
            Apple ap = new Apple("red");
            Book bk = new Book("C#入门详解");
            Box&lt;Apple&gt; apbox = new Box&lt;Apple&gt;(ap);
            Console.WriteLine( apbox.Cargo.Color);
            Box&lt;Book&gt; bkbox = new Box&lt;Book&gt;(bk);
            Console.WriteLine(bkbox.Cargo.Name);
            Console.WriteLine("-------------Done-------------");
        }
    }

    class Apple  //被包装的物品类
    {
        private string _color;
        public string Color { get =&gt; _color; set =&gt; _color = value; }
        public Apple(string color)
        {
            this.Color = color;     
        }     
    }
    class Book //被包装的物品类
    {
        private string _name;

        public string Name
        {
            get { return _name; }
            set { _name = value; }
        }
        public Book(string name)
        {
            this.Name = name;
        }
    }
    class Box&lt;TCargo&gt; //包装盒类
    {
        private TCargo _cargo;
        public TCargo Cargo { get =&gt; _cargo; set =&gt; _cargo = value; }
        public Box(TCargo cargo)
        {
            this.Cargo = cargo;   
        }
    }
}
</code></pre> 
<h3>运行结果：</h3> 
<blockquote> 
 <p>-------------test-------------<br> red<br> C#入门详解<br> -------------Done-------------</p> 
</blockquote> 
<h2>2.泛型方法</h2> 
<h3>实例代码：</h3> 
<pre><code class="language-cs">using System;
using System.Collections.Generic;
namespace 泛型示例
{
    class Program
    {
        static void Main(string[] args)
        {
            Console.WriteLine("-----------test-----------");
            IDictionary&lt;int, string&gt; dic = new Dictionary&lt;int, string&gt;();
            dic[1] = "赵1";
            dic[2] = "赵2";
            Console.WriteLine($"#1, {dic[1]}");
            Console.WriteLine($"#2, {dic[2]}");
            IList&lt;int&gt; list = new List&lt;int&gt;();

            //使用泛型方法，避免方法成员膨胀，
            int[] a = { 1, 2, 3, 4, 5 };
            int[] b = { 1, 2, 3, 4, 5, 6 };
            double[] a1 = { 1.1, 2.2, 3.3, 4.4, 5.5 };
            double[] b1 = { 1.1, 2.2, 3.3, 4.4, 5.5, 6.6 };

            //int[] res1 = Zip&lt;int&gt;(a, b); //调用方式1
            //double[] res2 = Zip&lt;double&gt;(a1, b1);

            var res1 = Zip(a, b);//调用方式2
            var res2 = Zip(a1, b1);
            Console.WriteLine(string.Join(',',res1)); //打印方法1
            Console.WriteLine(string.Join(',', res2)); //打印方法1

            //foreach (var item in res1) //打印方法2
            //{
            //    Console.WriteLine(item);
            //}
            //foreach (var item in res2) //打印方法2
            //{
            //    Console.WriteLine(item);
            //}
            Console.WriteLine("-----------Done-----------");
        }

        //泛型方法
        static T[] Zip&lt;T&gt;(T[] a, T[] b)
        {
            T[] zipped = new T[a.Length + b.Length];
            int ai = 0;
            int bi = 0;
            int zi = 0;
            do
            {
                if (ai&lt;a.Length)
                {
                    zipped[zi++] = a[ai++];
                }
                if (bi&lt;b.Length)
                {
                    zipped[zi++] = b[bi++];
                }
                
            } while (ai&lt;a.Length || bi&lt;b.Length);
            return zipped;
        }
    }
}
</code></pre> 
<h3>运行结果：</h3> 
<blockquote> 
 <p>-----------test-----------<br> #1, 赵1<br> #2, 赵2<br> 1,1,2,2,3,3,4,4,5,5,6<br> 1.1,1.1,2.2,2.2,3.3,3.3,4.4,4.4,5.5,5.5,6.6<br> -----------Done-----------</p> 
</blockquote> 
<h2>3.泛型接口</h2> 
<h3>实例代码：</h3> 
<pre><code class="language-cs">using System;

namespace 泛型接口
{
    class Program
    {
        static void Main(string[] args)
        {
            Console.WriteLine("-----------test-----------");
            Student&lt;int&gt; student = new Student&lt;int&gt;(001, "朱元璋");
            Console.WriteLine($"name: {student.Name}, id: {student.ID}");
            Console.WriteLine("-----------Done-----------");
        }
    }

    interface IUnique&lt;TId&gt;
    {
        public TId ID { get; set; }
    }

    //实现接口时不特化，Student&lt;TID&gt;为泛型类
    class Student&lt;TID&gt; : IUnique&lt;TID&gt;
    {
        public TID ID { get ; set ; }
        public string Name { get; set; }
        public Student(TID id, string name)
        {
            this.ID = id;
            this.Name = name;
        }
    }

    //实现接口时特化，Student为非泛型类
    class Student1: IUnique&lt;ulong&gt;
    {
        public ulong ID { get; set; }
        public string Name { get; set; }
        public Student1(ulong id, string name)
        {
            this.ID = id;
            this.Name = name;
        }
    }


}
</code></pre> 
<h3>运行结果：</h3> 
<blockquote> 
 <p>-----------test-----------<br> name: 朱元璋, id: 1<br> -----------Done-----------</p> 
</blockquote> 
<h2>4.泛型委托</h2> 
<h3>实例代码：</h3> 
<pre><code class="language-cs">using System;

namespace 泛型委托
{
    class Program
    {
        static void Main(string[] args)
        {
            Console.WriteLine("-------------test-------------");
            //泛型委托Action
            Action action1 = new Action(SayHello);
            action1(); //调用方法1
            action1.Invoke();//调用方法2

            //泛型委托Action&lt;&gt;
            Action&lt;string&gt; action2 = new Action&lt;string&gt;(Say);
            Action&lt;int, int&gt; action3 = new Action&lt;int, int&gt;(Multi);
            action2.Invoke("Action&lt;string&gt;");
            action3.Invoke(2,2);

            //Func&lt;&gt;
            Func&lt;int, int, int&gt; func1 = new Func&lt;int, int, int&gt;(Add);
            Func&lt;double, double, double&gt; func2 = new Func&lt;double, double, double&gt;(Div);
            Console.WriteLine( func1.Invoke(1, 2));
            Console.WriteLine(func2.Invoke(100.1, 200.2));

            //lamda表达式
            Func&lt;int, int ,int&gt; funclamda = (int a, int b) =&gt; { return a + b; }; //(a, b) =&gt; { return a + b; };
            Console.WriteLine(funclamda.Invoke(100, 200));
            Console.WriteLine("-------------Done-------------");
        }

        //无返回值，无参数的方法
        static void SayHello()
        {
            Console.WriteLine("i am a action");
        }

        //无返回值，有参数的方法
        static void Say(string str)
        {
            Console.WriteLine(str);
        }
        static void Multi(int a, int b)
        {
            Console.WriteLine(a * b);
        }

        //有返回值，有参数的方法
        static int Add(int a, int b)
        {
            return a + b;
        }
        static double Div(double a, double b)
        {
            return a / b;
        }
    }


}
</code></pre> 
<h3>运行结果：</h3> 
<blockquote> 
 <p>-------------test-------------<br> i am a action<br> i am a action<br> Action&lt;string&gt;<br> 4<br> 3<br> 0.5<br> 300<br> -------------Done-------------</p> 
</blockquote> 
<h2>5.partial类</h2> 
<blockquote> 
 <p style="margin-left:0;">现代.NET编程的基石之一，平时直接用到的场景不多，后台默默奉献!"不同的部分允许用不同的编程语言编写，例如WPF。</p> 
</blockquote> 
<h2>6.枚举(enum)</h2> 
<h3>实例代码：</h3> 
<pre><code class="language-cs">using System;

namespace Enum
{
    class Program
    {
        
        static void Main(string[] args)
        {
            Console.WriteLine("-------------test-------------");
            Person employee = new Person(0100, "996工贼", ELevel.Employee);
            Person boss = new Person(0002, "2号老板", ELevel.Boss);
            Person bigboss = new Person(0001, "1号老板", ELevel.BigBoss);
            employee.Skill = ESkill.Csharp | ESkill.JavaScript | ESkill.Python;
            boss.Skill = ESkill.Teach | ESkill.Comminication;
            Console.WriteLine(employee.GetInfo());
            Console.WriteLine(boss.GetInfo());
            Console.WriteLine("-------------Done-------------");
        }
    }

    class Person
    {
        public int ID { get; set; }
        public string Name { get; set; }
        public ELevel Level { get; set; }

        public ESkill Skill { get; set; }
        public Person(int id, string name, ELevel level)
        {
            this.ID = id;
            this.Name = name;
            this.Level = level;
        }

        public string GetInfo()
        {
            string str = $"ID: {this.ID.ToString("D4")}, \r\n"
                       + $"Name: {this.Name}, \r\n"
                       + $"Level: {this.Level},\r\n"                      
                       ;
            for (int i = 0; i &lt; 10; i++)
            {
                ESkill temp = (ESkill)(int)Math.Pow(2, i);
                if ( (this.Skill &amp; temp) == temp) //按位取与，结果为真则表示拥有这项技能
                {
                    str += $"Skill: {temp},\r\n";
                }
            }
            return str;
        }
    }
    enum ELevel
    {
        Employee=100,
        Manager,
        Boss,
        BigBoss,
    }

    enum ESkill
    {
        //每个成员对应的数字为2的n次方，n从0开始，依次加1
        Csharp = 1,
        Java = 2,
        JavaScript = 4,
        Python = 8,
        CPlusPlus = 16,
        C = 32,
        Teach = 64,
        Comminication = 128, 
    }
}
</code></pre> 
<h3>运行结果：</h3> 
<blockquote> 
 <p>-------------test-------------<br> ID: 0100,<br> Name: 996工贼,<br> Level: Employee,<br> Skill: Csharp,<br> Skill: JavaScript,<br> Skill: Python,</p> 
 <p>ID: 0002,<br> Name: 2号老板,<br> Level: Boss,<br> Skill: Teach,<br> Skill: Comminication,</p> 
 <p>-------------Done-------------</p> 
</blockquote> 
<h2>7.结构体</h2> 
<h3>实例代码：</h3> 
<pre><code class="language-cs">using System;

namespace Struct
{
    class Program
    {
        static void Main(string[] args)
        {
            Console.WriteLine("---------------test---------------");
            Student st1 = new Student(1, "hodor");
            st1.ShowInfo();
            Student st2 = st1;
            st2.ShowInfo();
            st2.Name = "Snow";
            st2.ID = 2;
            st2.ShowInfo();
            st1.ShowInfo(); //结构体为值类型，st2是将st1的值复制了一份，改变st2并不会影响st1
            Console.WriteLine("---------------Done---------------");
        }
    }

    struct Student : IShowInfo
    {
        public int ID { get; set; }
        public string Name { get; set; }
        
        public Student(int id, string name)//结构体显式声明构造函，参数必须非空
        {
            this.ID = id;
            this.Name = name;
        }

        public void ShowInfo() //实现接口IShowInfo
        {
            Console.WriteLine($"ID: {this.ID}, Name: {this.Name}");
        }
    }

    interface IShowInfo //打印自身信息的接口
    { 
        void ShowInfo(); 
    }
}
</code></pre> 
<h3>运行结果：</h3> 
<blockquote> 
 <p>---------------test---------------<br> ID: 1, Name: hodor<br> ID: 1, Name: hodor<br> ID: 2, Name: Snow<br> ID: 1, Name: hodor<br> ---------------Done---------------</p> 
</blockquote>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/eb973dbd7fb418f4986544e572b61c27/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">C#语言入门详解（刘铁锰）---抽象类与开闭原则</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/a347358ecc47e5e9b40acfa54294d146/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">C#语言入门详解（刘铁锰）---重写与多态</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 追风少年的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>