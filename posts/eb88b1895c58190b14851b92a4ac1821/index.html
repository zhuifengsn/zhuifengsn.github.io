<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>查看进程PID的几种方法记录-20230328 - 追风少年的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="查看进程PID的几种方法记录-20230328" />
<meta property="og:description" content="文章目录 什么是进程ID？方法1：使用pidof命令方法 2：使用 pgrep 命令方法 3：使用 pstree 命令方法 4：使用 ps 命令转载来源 什么是进程ID？ PID 代表进程标识号process identification，它在大多数操作系统内核（如 Linux、Unix、macOS 和 Windows）中使用。它是在操作系统中创建时自动分配给每个进程的唯一标识号。一个进程是一个正在运行的程序实例。
除了 init 进程外其他所有的进程 ID 每次都会改变，因为 init 始终是系统上的第一个进程，并且是所有其他进程的父进程。它的 PID 是 1。
PID 默认的最大值是 32768。可以在你的系统上运行 cat /proc/sys/kernel/pid_max 来验证。在 32 位系统上，32768 是最大值，但是我们可以在 64 位系统上将其设置为最大 222（约 4 百万）内的任何值。
你可能会问，为什么我们需要这么多的 PID？因为我们不能立即重用 PID，这就是为什么。另外为了防止可能的错误。
系统正在运行的进程的 PID 可以通过使用 pidof、pgrep、ps 和 pstree 命令找到。
方法1：使用pidof命令 pidof 用于查找正在运行的程序的进程 ID。它在标准输出上打印这些 id。为了演示，我们将在 Debian 9（stretch）系统中找出 Apache2 的进程 ID。
# pidof apache23754 2594 2365 2364 2363 2362 2361 从上面的输出中，你可能会遇到难以识别进程 ID 的问题，因为它通过进程名称显示了所有的 PID（包括父进程和子进程）。因此，我们需要找出父 PID（PPID），这是我们要查找的。它可能是第一个数字。在本例中，它是 3754，并按降序排列。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://zhuifengsn.github.io/posts/eb88b1895c58190b14851b92a4ac1821/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-03-28T12:14:35+08:00" />
<meta property="article:modified_time" content="2023-03-28T12:14:35+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="追风少年的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">追风少年的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">查看进程PID的几种方法记录-20230328</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#ID_1" rel="nofollow">什么是进程ID？</a></li><li><a href="#1pidof_13" rel="nofollow">方法1：使用pidof命令</a></li><li><a href="#_2_pgrep__23" rel="nofollow">方法 2：使用 pgrep 命令</a></li><li><a href="#_3_pstree__35" rel="nofollow">方法 3：使用 pstree 命令</a></li><li><a href="#_4_ps__53" rel="nofollow">方法 4：使用 ps 命令</a></li><li><a href="#_63" rel="nofollow">转载来源</a></li></ul> 
</div> 
<p></p> 
<h2><a id="ID_1"></a>什么是进程ID？</h2> 
<p>PID 代表进程标识号process identification，它在大多数操作系统内核（如 Linux、Unix、macOS 和 Windows）中使用。它是在操作系统中创建时自动分配给每个进程的唯一标识号。一个进程是一个正在运行的程序实例。</p> 
<p>除了 init 进程外其他所有的进程 ID 每次都会改变，因为 init 始终是系统上的第一个进程，并且是所有其他进程的父进程。它的 PID 是 1。</p> 
<p>PID 默认的最大值是 <code>32768</code>。可以在你的系统上运行 <code>cat /proc/sys/kernel/pid_max</code> 来验证。在 32 位系统上，<code>32768</code> 是最大值，但是我们可以在 64 位系统上将其设置为最大 222（约 4 百万）内的任何值。</p> 
<p>你可能会问，为什么我们需要这么多的 PID？因为我们不能立即重用 PID，这就是为什么。另外为了防止可能的错误。</p> 
<p>系统正在运行的进程的 PID 可以通过使用 <code>pidof</code>、<code>pgrep</code>、<code>ps</code> 和 <code>pstree</code> 命令找到。</p> 
<h2><a id="1pidof_13"></a>方法1：使用pidof命令</h2> 
<p><code>pidof</code> 用于查找正在运行的程序的进程 ID。它在标准输出上打印这些 id。为了演示，我们将在 Debian 9（stretch）系统中找出 Apache2 的进程 ID。</p> 
<pre><code># pidof apache23754 2594 2365 2364 2363 2362 2361
</code></pre> 
<p>从上面的输出中，你可能会遇到难以识别进程 ID 的问题，因为它通过进程名称显示了所有的 PID（包括父进程和子进程）。因此，我们需要找出父 PID（PPID），这是我们要查找的。它可能是第一个数字。在本例中，它是 <code>3754</code>，并按降序排列。</p> 
<h2><a id="_2_pgrep__23"></a>方法 2：使用 pgrep 命令</h2> 
<p><code>pgrep</code> 遍历当前正在运行的进程，并将符合选择条件的进程 ID 列到标准输出中。</p> 
<pre><code># pgrep apache22361236223632364236525943754
</code></pre> 
<p>这也与上面的输出类似，但是它将结果从小到大排序，这清楚地说明父 PID 是最后一个。在本例中，它是 <code>3754</code>。</p> 
<p><strong>注意：</strong> 如果你有多个进程的进程 ID，那么在使用 <code>pidof</code> 和 <code>pgrep</code> 识别父进程 ID 时就可能不会很顺利。</p> 
<h2><a id="_3_pstree__35"></a>方法 3：使用 pstree 命令</h2> 
<p><code>pstree</code> 将运行的进程显示为一棵树。树的根是某个 pid，如果省略了 pid 参数，那么就是 init。如果在 <code>pstree</code> 命令中指定了用户名，则显示相应用户拥有的所有进程。</p> 
<p><code>pstree</code> 会将相同的分支放在方括号中，并添加重复计数的前缀来可视化地合并到一起。</p> 
<pre><code># pstree -p | grep "apache2" |- apache2(3754) -|-apache2(2361) | |-apache2(2362) | |-apache2(2363) | |-apache2(2364) | |-apache2(2365) | `-apache2(2594)
</code></pre> 
<p>要单独获取父进程，请使用以下格式。</p> 
<pre><code># pstree -p | grep "apache2" | head -1 |- apache2(3754) -|-apache2(2361)
</code></pre> 
<p><code>pstree</code> 命令非常简单，因为它分别隔离了父进程和子进程，但这在使用 <code>pidof</code> 和 <code>pgrep</code> 时命令不容易做到。</p> 
<h2><a id="_4_ps__53"></a>方法 4：使用 ps 命令</h2> 
<p><code>ps</code> 显示活动进程的选择信息。它显示进程 ID（<code>pid</code>=PID）、与进程关联的终端（<code>tname</code>=TTY）、以 <code>[DD-]hh:mm:ss</code> 格式（<code>time</code>=TIME）显示的累计 CPU 时间、以及执行名（<code>ucmd</code> = CMD）。输出默认是未排序的。</p> 
<pre><code># ps aux | grep "apache2"www-data 2361 0.0 0.4 302652 9732 ? S 06:25 0:00 /usr/sbin/apache2 -k startwww-data 2362 0.0 0.4 302652 9732 ? S 06:25 0:00 /usr/sbin/apache2 -k startwww-data 2363 0.0 0.4 302652 9732 ? S 06:25 0:00 /usr/sbin/apache2 -k startwww-data 2364 0.0 0.4 302652 9732 ? S 06:25 0:00 /usr/sbin/apache2 -k startwww-data 2365 0.0 0.4 302652 8400 ? S 06:25 0:00 /usr/sbin/apache2 -k startwww-data 2594 0.0 0.4 302652 8400 ? S 06:55 0:00 /usr/sbin/apache2 -k startroot 3754 0.0 1.4 302580 29324 ? Ss Dec11 0:23 /usr/sbin/apache2 -k startroot 5648 0.0 0.0 12784 940 pts/0 S+ 21:32 0:00 grep apache2
</code></pre> 
<p>从上面的输出中，我们可以根据进程的启动日期轻松地识别父进程 ID（PPID）。在此例中，apache2 启动于 <code>Dec 11</code>，它是父进程，其他的是子进程。apache2 的 PID 是 <code>3754</code>。</p> 
<h2><a id="_63"></a>转载来源</h2> 
<p><a href="https://linux.cn/article-9344-1.html" rel="nofollow">Linux 中 4 个简单的找出进程 ID（PID）的方法</a></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/c36eb085c028ee20fce33568369fd8cf/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">视频MD5值怎么修改？分享几个好用的修改方法</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/36b6a63dc1c5fed3319d249a665b625f/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">LeetCode 轮转数组</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 追风少年的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>