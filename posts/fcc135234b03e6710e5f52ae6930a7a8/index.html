<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Nessus介绍与安装 - 追风少年的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Nessus介绍与安装" />
<meta property="og:description" content="Nessus介绍与安装 1.Nessus简介 Nessus号称是世界上最流行的漏洞扫描程序，全世界有超过75000个组织在使用它。该工具提供完整的电脑漏洞扫描服务，并随时更新其漏洞数据库。Nessus不同于传统的漏洞扫描软件，Nessus可同时在本机或远端上遥控，进行系统的漏洞分析扫描。Nessus也是渗透测试重要工具之一
2.kali安装Nessus 1.访问Nessus官网
https://www.tenable.com/downloads/nessus 下载安装包【Nessus-10.1.1-debian6_amd64.deb】到kali
2.安装Nessus程序
dpkg -i Nessus-10.1.1-debian6_amd64.deb You can start Nessus Scanner by typing /bin/systemctl start nessusd.service 启动服务命令
Then go to https://kali:8834/ to configure your scanner 访问地址
3.启动Nessus
service nessusd start 4.查看kali的ip
ip a 5.浏览器访问nessus的web网站
https://192.168.11.75:8834/#/ 6.选择 【Managed Scanner】选项，点击【Continue】
7.选择【Tenable.sc】
8.点击【Continue】
9.输入用户名【admin】，输入密码【123456】，点击【Submit】
10.等待配置插件
安装完成后是这样的界面,尚未激活,不能扫描,此时只有一个设置按钮,并无扫描按钮.
3.离线激活Nessus 去nessus官方申请激活码，姓名随便填，邮箱必须正确，用来接收激活码 https://zh-cn.tenable.com/products/nessus/nessus-essentials 2.进入填写的邮箱获取激活码
3.获得质询码（challenge code）
/opt/nessus/sbin/nessuscli fetch --challenge 4.获取离线插件包地址及激活证书
浏览器打开网页 https://plugins.nessus.org/v2/offline.php ，输入申请的激活码，以及上一步得到的质询码，点击【Submit】
https://plugins.nessus.org/v2/offline.php 5.得到更新插件地址，及license证书
6.下载更新包，下载证书nessus.license。
7.将下载好的激活证书和插件包复制到kali
8.离线激活nessus
/opt/nessus/sbin/nessuscli fetch --register-offline ." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://zhuifengsn.github.io/posts/fcc135234b03e6710e5f52ae6930a7a8/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-01-17T18:16:47+08:00" />
<meta property="article:modified_time" content="2023-01-17T18:16:47+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="追风少年的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">追风少年的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Nessus介绍与安装</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="Nessus_0"></a>Nessus介绍与安装</h2> 
<h3><a id="1Nessus_2"></a>1.Nessus简介</h3> 
<p>Nessus号称是世界上最流行的漏洞扫描程序，全世界有超过75000个组织在使用它。该工具提供完整的电脑漏洞扫描服务，并随时更新其漏洞数据库。Nessus不同于传统的漏洞扫描软件，Nessus可同时在本机或远端上遥控，进行系统的漏洞分析扫描。Nessus也是渗透测试重要工具之一</p> 
<h3><a id="2kaliNessus_6"></a>2.kali安装Nessus</h3> 
<p>1.访问Nessus官网</p> 
<pre><code>https://www.tenable.com/downloads/nessus
</code></pre> 
<p><img src="https://images2.imgbox.com/f6/fb/ooBoGlp1_o.png" alt="image.png"></p> 
<p>下载安装包【Nessus-10.1.1-debian6_amd64.deb】到kali</p> 
<p><img src="https://images2.imgbox.com/4b/66/fYiDIgln_o.png" alt="image.png"></p> 
<p>2.安装Nessus程序</p> 
<pre><code>dpkg -i Nessus-10.1.1-debian6_amd64.deb 
</code></pre> 
<p><img src="https://images2.imgbox.com/70/97/8RigrUHD_o.png" alt="image.png"></p> 
<p>You can start Nessus Scanner by typing /bin/systemctl start nessusd.service 启动服务命令</p> 
<p>Then go to <a href="https://kali:8834/" rel="nofollow">https://kali:8834/</a> to configure your scanner 访问地址</p> 
<p>3.启动Nessus</p> 
<pre><code>service nessusd start
</code></pre> 
<p>4.查看kali的ip</p> 
<pre><code>ip a
</code></pre> 
<p><img src="https://images2.imgbox.com/05/bc/HGh3vZbj_o.png" alt="image.png"></p> 
<p>5.浏览器访问nessus的web网站</p> 
<pre><code>https://192.168.11.75:8834/#/
</code></pre> 
<p><img src="https://images2.imgbox.com/ac/85/GWyLKs4D_o.png" alt="image.png"></p> 
<p>6.选择 【Managed Scanner】选项，点击【Continue】</p> 
<p><img src="https://images2.imgbox.com/3d/47/cZCSBuOz_o.png" alt="image.png"></p> 
<p>7.选择【Tenable.sc】</p> 
<p><img src="https://images2.imgbox.com/d0/38/qPbKAQXb_o.png" alt="image.png"></p> 
<p>8.点击【Continue】</p> 
<p><img src="https://images2.imgbox.com/fc/82/STz2otEd_o.png" alt="image.png"></p> 
<p>9.输入用户名【admin】，输入密码【123456】，点击【Submit】</p> 
<p><img src="https://images2.imgbox.com/ef/0d/vAFtYxIX_o.png" alt="image.png"></p> 
<p>10.等待配置插件</p> 
<p><img src="https://images2.imgbox.com/d6/86/UTZqHKMZ_o.png" alt="image.png"></p> 
<p><img src="https://images2.imgbox.com/cf/e5/gPVKuumE_o.png" alt="image.png"></p> 
<p>安装完成后是这样的界面,尚未激活,不能扫描,此时只有一个设置按钮,并无扫描按钮.</p> 
<h3><a id="3Nessus_78"></a>3.离线激活Nessus</h3> 
<ol><li>去nessus官方申请激活码，姓名随便填，邮箱必须正确，用来接收激活码</li></ol> 
<pre><code>https://zh-cn.tenable.com/products/nessus/nessus-essentials
</code></pre> 
<p><img src="https://images2.imgbox.com/15/e0/VsCBhrAL_o.png" alt="image.png"></p> 
<p><img src="https://images2.imgbox.com/bf/dd/heGmh2Uh_o.png" alt="image.png"></p> 
<p>2.进入填写的邮箱获取激活码</p> 
<p><img src="https://images2.imgbox.com/62/4f/d2CiweUo_o.png" alt="image.png"></p> 
<p><img src="https://images2.imgbox.com/bf/db/42VvZ1y9_o.png" alt="image.png"></p> 
<p>3.获得质询码（challenge code）</p> 
<pre><code>/opt/nessus/sbin/nessuscli fetch  --challenge
</code></pre> 
<p><img src="https://images2.imgbox.com/02/8a/2W6OHt6U_o.png" alt="image.png"></p> 
<p>4.获取离线插件包地址及激活证书</p> 
<p>浏览器打开网页 <a href="https://plugins.nessus.org/v2/offline.php" rel="nofollow">https://plugins.nessus.org/v2/offline.php</a> ，输入申请的激活码，以及上一步得到的质询码，点击【Submit】</p> 
<pre><code>https://plugins.nessus.org/v2/offline.php
</code></pre> 
<p><img src="https://images2.imgbox.com/be/8d/MxWcSt1F_o.png" alt="image.png"></p> 
<p>5.得到更新插件地址，及license证书</p> 
<p><img src="https://images2.imgbox.com/bb/fb/yFVRAv4I_o.png" alt="image.png"></p> 
<p>6.下载更新包，下载证书nessus.license。</p> 
<p><img src="https://images2.imgbox.com/d0/83/L4vtdrXi_o.png" alt="image.png"></p> 
<p><img src="https://images2.imgbox.com/86/6a/EUhzmc17_o.png" alt="image.png"></p> 
<p>7.将下载好的激活证书和插件包复制到kali</p> 
<p><img src="https://images2.imgbox.com/23/c3/U1PI1vNZ_o.png" alt="image.png"></p> 
<p>8.离线激活nessus</p> 
<pre><code>/opt/nessus/sbin/nessuscli fetch --register-offline ./nessus.license
</code></pre> 
<p><img src="https://images2.imgbox.com/54/35/oOExuqeb_o.png" alt="image.png"></p> 
<p>您的激活码已正确注册-谢谢。</p> 
<p>9.安装插件包</p> 
<pre><code>/opt/nessus/sbin/nessuscli update ./all-2.0.tar.gz

/opt/nessus/lib/nessus/plugins/  #插件包目录
</code></pre> 
<p><img src="https://images2.imgbox.com/ee/73/zbfEN5sc_o.png" alt="image.png"></p> 
<p>10.重启nessus</p> 
<pre><code>service nessusd restart
</code></pre> 
<p><img src="https://images2.imgbox.com/c2/9c/b45vFMD0_o.png" alt="image.png"></p> 
<p>11.重新访问nessus网站，等待加载插件【耗时较长,需要耐心等待】</p> 
<pre><code>https://192.168.10.141:8834/#/settings/about
</code></pre> 
<p><img src="https://images2.imgbox.com/12/36/JatOk7wo_o.png" alt="image.png"></p> 
<p>完成后进入nessus系统。显示激活成功，具有了scan功能。但显示仅允许扫描16个IP。</p> 
<p><img src="https://images2.imgbox.com/26/3b/kzU7Mcpn_o.png" alt="image.png"></p> 
<h3><a id="4IP_168"></a>4.解除IP限制</h3> 
<p>1.获取当前plugins的版本。</p> 
<pre><code>https://plugins.nessus.org/v2/plugins.php
</code></pre> 
<p><img src="https://images2.imgbox.com/cb/21/cAfRaSjr_o.png" alt="image.png"></p> 
<p>2.停止nessus服务</p> 
<pre><code>service nessusd stop
</code></pre> 
<p>3.创建 plugin_feed_info.inc</p> 
<pre><code>vi plugin_feed_info.inc
</code></pre> 
<p>内容如下，并将刚刚获取到的版本号替换如下内容中的数字串。</p> 
<pre><code>PLUGIN_SET = "202203090609";
PLUGIN_FEED = "ProfessionalFeed (Direct)";
PLUGIN_FEED_TRANSPORT = "Tenable Network Security Lightning";
</code></pre> 
<p>4.将plugin_feed_info.inc替换到 /opt/nessus/var/nessus/plugin_feed_info.inc</p> 
<pre><code>cp plugin_feed_info.inc /opt/nessus/var/nessus/
</code></pre> 
<p>5.将 /opt/nessus/lib/nessus/plugins/plugin_feed_info.inc 文件删除。</p> 
<pre><code>rm -rf /opt/nessus/lib/nessus/plugins/plugin_feed_info.inc
</code></pre> 
<p>6.启动nessus服务</p> 
<pre><code>service nessusd start
</code></pre> 
<p>7.访问Nessus，windows打开浏览器，访问nessus，会看到nessus初始化插件，完成后，看设置页面显示 unlimited。表示解除IP限制成功。</p> 
<pre><code>https://192.168.3.47:8834/
</code></pre> 
<p><img src="https://images2.imgbox.com/8c/be/gTZGUgfx_o.png" alt="image.png"></p> 
<h3><a id="5Nessus_224"></a>5.解决Nessus重启失效后遗症</h3> 
<p>由于Nessus服务每次重启后，都会重置plugin_feed_info.inc，这将会使nessus/plugins目录下所有的插件都被删除，无法扫描。因此要将nessus服务设置为手动，并且先停止nessus服务。可以写成批处理解决此问题</p> 
<p>1.编写启动脚本</p> 
<pre><code>vi qd_nessus.sh

service nessusd stop;
cp /root/nessus/plugin_feed_info.inc /opt/nessus/var/nessus/;
rm -rf /opt/nessus/lib/nessus/plugins/plugin_feed_info.inc;
service nessusd start;
</code></pre> 
<p>每次需要启动nessus时 输入启动命令</p> 
<pre><code>sh /root/nessus/qd_nessus.sh
</code></pre> 
<p>2.nessus命令合集</p> 
<pre><code>#启动
service nessusd start;
#重启
service nessusd restart;
#查看状态
service nessusd status
#停止服务
service nessusd stop
</code></pre> 
<p>3.遇到的坑及相应的解决办法</p> 
<p>在解除ip限制的过程中，如果已经解除成功，但是新建扫描项目时，发现很快就结束，无扫描结果。此时查看plugins目录内容是否被删除。</p> 
<pre><code>du -h /opt/nessus/lib/nessus/plugins
</code></pre> 
<p><img src="https://images2.imgbox.com/c1/f0/S8Al87nq_o.png" alt="image.png"></p> 
<p>正常情况下，该目录应该在1.4G左右。如远远低于此数值。请按如下步骤操作：</p> 
<pre><code>service nessusd stop;
/opt/nessus/sbin/nessuscli update ./all-2.0.tar.gz
sh qd_nessus.sh
</code></pre> 
<p>然后打开浏览器，正常访问nessus。（<a href="https://links.jianshu.com/go?to=https%3A%2F%2Fcentos" rel="nofollow">https://</a>ip:8843）静待plugins更新完成。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/c3093f7b2291bec5cfb95e560914cecd/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">group by详解</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/d0b299101b6b2f0bfa3b62887d57934f/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Nessus 扫描web服务</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 追风少年的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>