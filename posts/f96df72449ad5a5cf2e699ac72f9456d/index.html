<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Linux系列之比较命令 - 追风少年的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Linux系列之比较命令" />
<meta property="og:description" content="前言 Linux中有两个比较命令，它们分别是 comm 和 diff ，在比较文本文件的版本时通常很有用。本文介绍它们的区别和简单用法。
comm命令 该命令对两个文本文件进行比较，并显示每个文件独有的行和它们共有的行。
假设我们有两个文件：
~~java思维导图获取路径~~
当我们运行 comm file1.txt file2.txt 时，我们会得到：
在我看来， comm 的输出有些难看，但它是三列。请原谅我糟糕的线条：
第一列包含第一个文件参数特有的行，第二列包含第二个文件参数特有的行，第三列包含两个文件共有的行。
我们可以通过使用选项 -n ，来选择隐藏指定的列，其中 n 可以是1、2或3。假设我们只想输出两个文件共有的行，我们可以使用 comm -12 file1.txt file2.txt 。
diff命令 diff 是一个更加复杂的工具。它支持多种输出格式，并有能力一次处理大量的文本文件集。 diff 经常被用来创建 diff 文件（补丁），这些文件被 path 等程序用来将一个或多个文件的一个版本转换成另一个版本。让我们在之前的两个文件上运行 diff ： diff file1.txt file2.txt 。
这是默认的输出样式。在该格式中，每组变化之前都有一个变化命令，以 range operation range 的形式描述将第一个文件转换为第二个文件所需的位置和变化类型。
首先来看：
1d0 &lt; a 这告诉我们必须删除 file1 的第一行，也就是带a的那一行。
接下来看：
4a4 &gt; e 这告诉我们，我们必须在第一个文件里添加一行，在第四行的位置。然后告诉我们在哪一行添加 &gt; e 。
我知道这是令人困惑的，坦白说，默认样式没有使用太多的上下文格式和统一格式，让我们看看那些解释更多。让我们来看看这些，并作进一步解释。
我们可以通过添加 -c 选项来使用上下文格式：
diff -c file1." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://zhuifengsn.github.io/posts/f96df72449ad5a5cf2e699ac72f9456d/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-08-05T11:01:28+08:00" />
<meta property="article:modified_time" content="2022-08-05T11:01:28+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="追风少年的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">追风少年的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Linux系列之比较命令</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h3>前言</h3> 
<p>Linux中有两个比较命令，它们分别是 <code>comm</code> 和 <code>diff</code> ，在比较文本文件的版本时通常很有用。本文介绍它们的区别和简单用法。</p> 
<h3>comm命令</h3> 
<p>该命令对两个文本文件进行比较，并显示每个文件独有的行和它们共有的行。</p> 
<p>假设我们有两个文件：</p> 
<p><img alt="" height="263" src="https://images2.imgbox.com/b9/b3/hvnUxtgs_o.png" width="358"></p> 
<p> ~~<a class="link-info" href="https://docs.qq.com/doc/DTmx5eXRZSG1MV0xQ" rel="nofollow" title="java思维导图">java思维导图</a>获取路径~~</p> 
<p>当我们运行 <code>comm file1.txt file2.txt</code> 时，我们会得到：</p> 
<p><img alt="" height="181" src="https://images2.imgbox.com/66/c5/yiExmffg_o.png" width="423"></p> 
<p> </p> 
<p>在我看来， <code>comm</code> 的输出有些难看，但它是三列。请原谅我糟糕的线条：</p> 
<p><img alt="" height="182" src="https://images2.imgbox.com/11/15/aMq4imxQ_o.png" width="438"></p> 
<p> </p> 
<p>第一列包含第一个文件参数特有的行，第二列包含第二个文件参数特有的行，第三列包含两个文件共有的行。</p> 
<p>我们可以通过使用选项 <code>-n</code> ，来选择隐藏指定的列，其中 <code>n</code> 可以是1、2或3。假设我们只想输出两个文件共有的行，我们可以使用 <code>comm -12 file1.txt file2.txt</code> 。</p> 
<p><img alt="" height="109" src="https://images2.imgbox.com/1e/91/SrYbHCY9_o.png" width="450"></p> 
<p> </p> 
<h3>diff命令</h3> 
<p><code>diff</code> 是一个更加复杂的工具。它支持多种输出格式，并有能力一次处理大量的文本文件集。 <code>diff</code> 经常被用来创建 <code>diff</code> 文件（补丁），这些文件被 <code>path</code> 等程序用来将一个或多个文件的一个版本转换成另一个版本。让我们在之前的两个文件上运行 <code>diff</code> ： <code>diff file1.txt file2.txt</code> 。</p> 
<p><img alt="" height="147" src="https://images2.imgbox.com/ad/59/1WlAQLxq_o.png" width="415"></p> 
<p> </p> 
<p>这是默认的输出样式。在该格式中，每组变化之前都有一个变化命令，以 <code>range operation range</code> 的形式描述将第一个文件转换为第二个文件所需的位置和变化类型。</p> 
<p>首先来看：</p> 
<pre>1d0
&lt; a</pre> 
<p>这告诉我们必须删除 <code>file1</code> 的第一行，也就是带a的那一行。</p> 
<p>接下来看：</p> 
<pre>4a4
&gt; e</pre> 
<p>这告诉我们，我们必须在第一个文件里添加一行，在第四行的位置。然后告诉我们在哪一行添加 <code>&gt; e</code> 。</p> 
<p>我知道这是令人困惑的，坦白说，默认样式没有使用太多的上下文格式和统一格式，让我们看看那些解释更多。让我们来看看这些，并作进一步解释。</p> 
<p>我们可以通过添加 <code>-c</code> 选项来使用上下文格式：</p> 
<pre>diff -c file1.txt file2.txt</pre> 
<p><img alt="" height="261" src="https://images2.imgbox.com/d6/ed/KSP8Q95y_o.png" width="457"></p> 
<p> ~~更多java资料<a class="link-info" href="https://docs.qq.com/doc/DTmx5eXRZSG1MV0xQ" rel="nofollow" title="点击此处">点击此处</a>获取~~</p> 
<p>在顶部我们可以看到，两个文件的名称以及时间戳，第一个文件使用星号标记，第二个文件使用破折号标记。 <code>diff</code> 将使用星号或破折号来让我们知道，它在整个列表的其余部分谈论的是哪个文件。</p> 
<p>接下来我们会看到一行星号，这仅仅是为了格式化。</p> 
<p>然后我们得到一系列的变化，在第一组变化中，我们可以看到：</p> 
<pre>*** 1,4 ****</pre> 
<p>这意味着第一个文件中的第1行到第4行。</p> 
<p>然后可以看到：</p> 
<pre>- a
  b
  c
  d</pre> 
<p>这就是文件的内容。只不过在 <code>a</code> 前面有个 <code>-</code> ，这意味着我们要删除它。</p> 
<table><thead><tr><th>标志</th><th>含义</th></tr></thead><tbody><tr><td>blank</td><td>不需要任何改变</td></tr><tr><td>(-)</td><td>需要删除行</td></tr><tr><td>(+)</td><td>需要添加行</td></tr><tr><td>!</td><td>需要改变行</td></tr></tbody></table> 
<p>在第一组变化中，我们可以看到带有 <code>-a</code> 的行需要从第一个文件中删除。第二组变化为：</p> 
<pre>--- 1,4 ----
  b
  c
  d
+ e</pre> 
<p><code>---1,4----</code> 是第二个文件的范围， <code>+ e</code> 意味着我们需要添加该行到第一个文件中，记住我们的目标是让第一个文件匹配第二个文件。</p> 
<p>我们也可以使用统一格式，它与格式上下文类似，但是更简洁。它消除了上下文的重复行。 <code>diff -u file1.txt file2.txt</code> 。</p> 
<p><img alt="" height="222" src="https://images2.imgbox.com/66/3e/wODdRHbD_o.png" width="502"></p> 
<p> </p> 
<p> </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/be4946e4915ad7d82470c730c82792ba/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">SVN 报错：does not support the HTTP/DAV protocol</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/5279b9d25fbc9d5ea659d57eef5c255e/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">springboot：跨域支持Cors</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 追风少年的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>