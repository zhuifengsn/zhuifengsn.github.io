<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Python | OS模块操作 - 追风少年的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Python | OS模块操作" />
<meta property="og:description" content="一、介绍 Python的os模块提供了许多与操作系统交互的函数，可以用于文件和目录的操作、进程管理、环境变量的访问等。以下是os模块的一些常用功能：
文件和目录操作：os模块提供了许多函数来进行文件和目录的操作，如创建文件夹(os.mkdir)、删除文件夹(os.rmdir)、重命名文件或文件夹(os.rename)、获取文件或目录信息(os.stat)等。
环境变量：os模块提供了访问和修改环境变量的函数，如获取指定环境变量的值(os.getenv)、设置环境变量的值(os.putenv)等。
进程管理：os模块提供了一些函数来进行进程管理，如启动一个新的进程(os.system)、获取当前进程的ID(os.getpid)、等待子进程结束(os.wait)等。
路径操作：os模块提供了一些函数来进行路径操作，如获取当前工作目录(os.getcwd)、拼接路径(os.path.join)、判断路径是否存在(os.path.exists)等。
杂项操作：os模块还提供了一些其他杂项操作，如执行系统命令(os.popen)、修改文件权限(os.chmod)、获取文件列表(os.listdir)等。
总的来说，os模块提供了许多与操作系统交互的函数，可以帮助我们在Python程序中进行文件和目录操作、进程管理等操作。详细的文档可以在Python官方文档中找到。
二、目录操作 2.1 获取目录 2.1.1 获取当前工作目录绝对路径 os.getcwd() &gt;&gt;&gt; E:\Work\WorkScript 2.1.2 获取当前工作目录绝对路径（Unicode编码） os.getcwdb() &gt;&gt;&gt; b&#39;E:\\Work\\WorkScript&#39; 2.1.3 获取当前目录 os.curdir &gt;&gt;&gt; . 2.1.4 获取当前目录上级目录 os.pardir &gt;&gt;&gt; .. 2.2 判断目录是否存在 os.path.lexists(指定路径) &gt;&gt;&gt; True or False 2.3 获取目录下内容 默认当前目录：
os.listdir() &gt;&gt;&gt; [&#39;.idea&#39;, &#39;.venv&#39;, &#39;test.py&#39;] 指定目录：
os.listdir(指定目录) &gt;&gt;&gt; [&#39;.idea&#39;, &#39;.venv&#39;, &#39;test.py&#39;] 目录不存在时报错，获取前先判断。
import os if os.path.lexists(指定目录): print(os.listdir(指定目录)) else: print(&#34;目录不存在&#34;) 2.4 创建目录 目录不存在时报错，创建前先判断。
os.mkdir(指定目录) import os if os.path.lexists(指定目录): print(&#34;指定目录已存在&#34;) else: os." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://zhuifengsn.github.io/posts/1ce38518139b10166c8047826ea4148a/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-02-24T11:52:34+08:00" />
<meta property="article:modified_time" content="2024-02-24T11:52:34+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="追风少年的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">追风少年的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Python | OS模块操作</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2>一、介绍</h2> 
<p>        Python的os模块提供了许多与操作系统交互的函数，可以用于文件和目录的操作、进程管理、环境变量的访问等。以下是os模块的一些常用功能：</p> 
<ol><li> <p><strong>文件和目录操作</strong>：os模块提供了许多函数来进行文件和目录的操作，如创建文件夹(os.mkdir)、删除文件夹(os.rmdir)、重命名文件或文件夹(os.rename)、获取文件或目录信息(os.stat)等。</p> </li><li> <p><strong>环境变量</strong>：os模块提供了访问和修改环境变量的函数，如获取指定环境变量的值(os.getenv)、设置环境变量的值(os.putenv)等。</p> </li><li> <p><strong>进程管理</strong>：os模块提供了一些函数来进行进程管理，如启动一个新的进程(os.system)、获取当前进程的ID(os.getpid)、等待子进程结束(os.wait)等。</p> </li><li> <p><strong>路径操作</strong>：os模块提供了一些函数来进行路径操作，如获取当前工作目录(os.getcwd)、拼接路径(os.path.join)、判断路径是否存在(os.path.exists)等。</p> </li><li> <p><strong>杂项操作</strong>：os模块还提供了一些其他杂项操作，如执行系统命令(os.popen)、修改文件权限(os.chmod)、获取文件列表(os.listdir)等。</p> </li></ol> 
<p>        总的来说，os模块提供了许多与操作系统交互的函数，可以帮助我们在Python程序中进行文件和目录操作、进程管理等操作。详细的文档可以在Python官方文档中找到。</p> 
<p></p> 
<h2>二、目录操作</h2> 
<h4>2.1 获取目录</h4> 
<h5>        2.1.1 获取当前工作目录绝对路径</h5> 
<pre><code class="language-python">os.getcwd()
&gt;&gt;&gt; E:\Work\WorkScript</code></pre> 
<h5>        2.1.2 获取当前工作目录绝对路径（Unicode编码）</h5> 
<pre><code class="language-python">os.getcwdb()
&gt;&gt;&gt; b'E:\\Work\\WorkScript'</code></pre> 
<h5>        2.1.3 获取当前目录</h5> 
<pre><code class="language-python">os.curdir
&gt;&gt;&gt; .</code></pre> 
<h5>        2.1.4 获取当前目录上级目录</h5> 
<pre><code class="language-python">os.pardir
&gt;&gt;&gt; ..</code></pre> 
<h4>2.2 判断目录是否存在</h4> 
<pre><code class="language-python">os.path.lexists(指定路径)
&gt;&gt;&gt; True or False</code></pre> 
<h4>2.3 获取目录下内容</h4> 
<p>        默认当前目录：</p> 
<pre><code class="language-python">os.listdir()
&gt;&gt;&gt; ['.idea', '.venv', 'test.py']</code></pre> 
<p>        指定目录：</p> 
<pre><code class="language-python">os.listdir(指定目录)
&gt;&gt;&gt; ['.idea', '.venv', 'test.py']</code></pre> 
<p>        目录不存在时报错，获取前先判断。</p> 
<pre><code class="language-python">import os

if os.path.lexists(指定目录):
    print(os.listdir(指定目录))
else:
    print("目录不存在")
</code></pre> 
<p></p> 
<h4>2.4 创建目录</h4> 
<p>        目录不存在时报错，创建前先判断。</p> 
<pre><code class="language-python">os.mkdir(指定目录)</code></pre> 
<pre><code class="language-python">import os

if os.path.lexists(指定目录): 
    print("指定目录已存在")
else:
    os.mkdir(指定目录)</code></pre> 
<h4>2.5 删除目录</h4> 
<p>        目录不存在或非空时报错，删除前先判断。</p> 
<pre><code class="language-python">os.rmdir(指定目录) </code></pre> 
<pre><code class="language-python">import os

if os.path.lexists(指定目录):
    if os.listdir(指定目录):
        print("目录非空")
    else:
        os.rmdir(指定目录)
else:
    print("目录不存在")</code></pre> 
<h4>2.6 重命名目录</h4> 
<p>        目录不存在时报错，重命名前先判断。</p> 
<pre><code class="language-python">os.rename(旧路径名, 新路径名)</code></pre> 
<pre><code class="language-python">import os

if os.path.lexists(指定目录):
    os.rename(指定目录, 新路径名)
else:
    print('目录不存在')</code></pre> 
<h4>2.7 切换目录</h4> 
<pre><code class="language-python">os.chdir(指定绝对路径)</code></pre> 
<h4>2.8 判断是否是目录</h4> 
<pre><code class="language-python">os.path.isdir(指定目录)
&gt;&gt;&gt; True or False</code></pre> 
<h4>2.9 判断是否是绝对目录</h4> 
<pre><code class="language-python">os.path.isabs(指定目录)
&gt;&gt;&gt; True or False</code></pre> 
<h2></h2> 
<h2>三、路径操作</h2> 
<h4>3.1 路径拼接</h4> 
<pre><code class="language-python">os.path.join("123","456","789")
&gt;&gt;&gt; 123\456\789</code></pre> 
<h4>3.2 分离路径</h4> 
<pre><code class="language-python">os.path.split("E:/Work/WorkScript/test.py")
&gt;&gt;&gt; ('E:/Work/WorkScript', 'test.py')

os.path.split("E:/Work/WorkScript")
&gt;&gt;&gt; ('E:/Work', 'WorkScript')</code></pre> 
<h4>3.3 获取路径中文件名</h4> 
<pre><code class="language-python">os.path.basename("E:/Work/WorkScript/test.py")
&gt;&gt;&gt; test.py</code></pre> 
<h4>3.4 获取绝对路径</h4> 
<pre><code class="language-python">os.path.abspath("")
&gt;&gt;&gt; E:\Work\WorkScript

os.path.abspath("test.py")
&gt;&gt;&gt; E:\Work\WorkScript\test.py</code></pre> 
<h4>3.5 获取文件扩展名</h4> 
<pre><code class="language-python">os.path.splitext("E:/Work/WorkScript/test.py")
&gt;&gt;&gt; ('E:/Work/WorkScript/test', '.py')</code></pre> 
<p></p> 
<h2>四、文件操作</h2> 
<h4>4.1 打开文件</h4> 
<p>        指令格式：</p> 
<pre><code class="language-python">os.open(path, flags, mode)

其中flag有如下：
     os.O_RDONLY : 以只读的方式打开
     os.O_WRONLY : 以只写的方式开
     os.O_RDWR : 以读写的方式打开
     os.O_NONBLOCK : 打开时不阻塞
     os.O_APPEND : 以追加的方式打开
     os.O_CREAT : 创建或打开文件
     os.O_TRUNC : 打开一个文件并截断它的长度为零（必须有写权限）</code></pre> 
<p>        示例：</p> 
<pre><code class="language-python"># 打开文件进行读取操作
with open("file.txt", "r") as file:
    # 读取文件内容
    content = file.read()
    print("文件内容：", content)
</code></pre> 
<h4>4.2 关闭文件</h4> 
<p>        在Python中，当使用open()函数打开文件后，应该在文件操作完成后显式地关闭文件，以释放资源并确保文件被正确保存。可以使用文件对象的close()方法来关闭文件。</p> 
<pre><code class="language-python"># 打开文件进行读取操作
file = open("file.txt", "r")

# 读取文件内容
content = file.read()
print("文件内容：", content)

# 关闭文件
file.close()
</code></pre> 
<p>        另一种更安全的方式是使用with语句来打开文件，这样可以确保文件在with代码块结束时自动关闭，无需显式调用close()方法。</p> 
<pre><code class="language-python"># 使用with语句打开文件进行读取操作
with open("file.txt", "r") as file:
    # 读取文件内容
    content = file.read()
    print("文件内容：", content)
</code></pre> 
<h4>4.3 创建文件</h4> 
<pre><code class="language-python"># 定义文件路径
file_path = "new_file.txt"

# 打开文件并写入内容
with open(file_path, "w") as file:
    file.write("Hello, this is a new file created using Python!")

print("文件创建成功：", file_path)
</code></pre> 
<h4>4.4 重命名文件</h4> 
<pre><code class="language-python">import os

# 定义旧文件名和新文件名
old_file_name = "old_file.txt"
new_file_name = "new_file.txt"

# 重命名文件
os.rename(old_file_name, new_file_name)

print("文件重命名成功：", new_file_name)
</code></pre> 
<h4>4.5 删除文件</h4> 
<pre><code class="language-python">import os

# 定义要删除的文件路径
file_path = "file_to_delete.txt"

# 删除文件
os.remove(file_path)

print("文件删除成功：", file_path)
</code></pre> 
<h4>4.6 判断文件是否存在</h4> 
<pre><code class="language-python">import os

# 定义文件路径
file_path = "file.txt"

# 判断文件是否存在
if os.path.exists(file_path):
    print("文件存在：", file_path)
else:
    print("文件不存在：", file_path)
</code></pre> 
<h2></h2> 
<h2>五、环境变量操作</h2> 
<h4>5.1 获取环境变量字典</h4> 
<pre><code class="language-python">os.environ</code></pre> 
<p>        使用os.environ来获取系统的所有环境变量，并将其存储在env_vars字典中。然后遍历这个字典，打印每个环境变量的键值对，这样可以查看系统中所有的环境变量及其对应的值。</p> 
<pre><code class="language-python">import os

# 获取系统的所有环境变量
env_vars = os.environ

# 打印所有环境变量
for key, value in env_vars.items():
    print(f"{key} : {value}")
</code></pre> 
<h4>5.2 获取指定环境变量</h4> 
<pre><code class="language-python">os.getenv(env_var_name)</code></pre> 
<p>        使用os.getenv()函数来获取名为"PATH"的环境变量的值，并将其存储在env_var_value变量中。然后，打印出该环境变量的名称和对应的值。</p> 
<pre><code class="language-python">import os

# 指定要获取的环境变量名称
env_var_name = "PATH"

# 获取指定环境变量的值
env_var_value = os.getenv(env_var_name)

print(f"{env_var_name} 的值为: {env_var_value}")
</code></pre> 
<h4>5.3 添加环境变量</h4> 
<pre><code class="language-python">os.putenv("NEW_VARIABLE", "new_value")</code></pre> 
<p>        使用os 模块的putenv()函数来添加或修改环境变量。putenv()函数接受环境变量的名称和值作为参数，并将其添加到系统的环境变量中。</p> 
<pre><code class="language-python">import os

# 添加新的环境变量
os.putenv("NEW_VARIABLE", "new_value")</code></pre> 
<p></p> 
<h2>六、通用自定义函数 </h2> 
<h4 style="background-color:transparent;">6.1 获取指定目录下所有一级目录集合</h4> 
<pre><code class="language-python">def get_next_all_folder(path):
    """
    获取指定目录下所有一级目录集合
    :param path: 指定路径
    :return: 一级目录文件夹集合
    """
    folder_list = []
    if not os.path.lexists(path):
        print("输入路径不存在")
    else:
        below_paths = os.listdir(path)
        for below_path in below_paths:
            entire_path = os.path.join(path, below_path)
            if os.path.isdir(entire_path):
                folder_list.append(entire_path)
    return folder_list</code></pre> 
<h4>6.2 获取指定目录下指定名称的一级目录集合</h4> 
<pre><code class="language-python">import os
import glob

def get_next_assign_folder(path, assign_name):
    """
    获取指定目录下指定名称的一级目录集合
    :param path: 指定路径
    :param assign_name: 指定文件/文件夹名称（可模糊查询，例："csdn*" 查询以csdn开头的文件夹）
    :return: 一级目录文件夹集合
    """
    folder_list = []
    if not os.path.lexists(path):
        print("输入路径不存在")
    else:
        folder_list = glob.glob(os.path.join(path, assign_name))
    return folder_list</code></pre> 
<h4>6.3 批量判断指定文件夹路径集合是否存在某文件</h4> 
<pre><code class="language-python">def judge_file_exists(folder_list, file_name):
    """
    批量判断指定文件夹路径集合是否存在某文件
    :param folder_list: 指定文件夹集合
    :param file_name: 待判断的文件名称
    :return: 该一级目录以及是否存在文件的元组 (first_level_path , True or False)
    """
    judge_dict = {}
    for folder_path in folder_list:
        file_path = os.path.join(folder_path, file_name)
        if os.path.exists(file_path):
            judge_dict[file_path] = True
        else:
            judge_dict[file_path] = False
    return judge_dict</code></pre> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/5439b654a7ca671fee1d3a84566e742f/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">YApi-pro docker安装在centos7上</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/b61fba87400e2dd16855cc8abaac65d8/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">从0开始python学习-53.python中flask创建简单接口</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 追风少年的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>