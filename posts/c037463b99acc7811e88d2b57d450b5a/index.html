<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>python读取文件中的内容并输出_笨办法学Python 习题 15: 读取文件 - 追风少年的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="python读取文件中的内容并输出_笨办法学Python 习题 15: 读取文件" />
<meta property="og:description" content="你已经学过了 raw_input 和 argv，这些是你开始学习读取文件的必备基础。你可能需要多多实验才能明白它的工作原理，所以你要细心做练习，并且仔细检查结果。处理文件需要非常仔细，如果不仔细的话，你可能会吧有用的文件弄坏或者清空。导致前功尽弃。
这节练习涉及到写两个文件。一个正常的 ex15.py 文件，另外一个是 ex15_sample.txt，第二个文件并不是脚本，而是供你的脚本读取的文本文件。以下是后者的内容：This is stuff I typed into a file.
It is really cool stuff.
Lots and lots of fun to have in here.
我们要做的是把该文件用我们的脚本“打开(open)”，然后打印出来。然而把文件名ex15_sample.txt 写死(hardcode)在代码中不是一个好主意，这些信息应该是用户输入的才对。如果我们碰到其他文件要处理，写死的文件名就会给你带来麻烦了。我们的解决方案是使用 argv 和 raw_input 来从用户获取信息，从而知道哪些文件该被处理。# -*- coding:utf-8 -*-
from sys import argv #导入sys模块中的argv
script, filename = argv # argv 赋值给script, filename
txt = open(filename) #打开filename的txt文件
print &#34;Here&#39;s your file %r:&#34; % filename #输出打开文件名名字
print txt.read() #输出txt的内容
print &#34;Type the filename again:&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://zhuifengsn.github.io/posts/c037463b99acc7811e88d2b57d450b5a/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-11-24T01:06:13+08:00" />
<meta property="article:modified_time" content="2020-11-24T01:06:13+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="追风少年的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">追风少年的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">python读取文件中的内容并输出_笨办法学Python 习题 15: 读取文件</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>你已经学过了 raw_input 和 argv，这些是你开始学习读取文件的必备基础。你可能需要多多实验才能明白它的工作原理，所以你要细心做练习，并且仔细检查结果。处理文件需要非常仔细，如果不仔细的话，你可能会吧有用的文件弄坏或者清空。导致前功尽弃。</p> 
<p>这节练习涉及到写两个文件。一个正常的 ex15.py 文件，另外一个是 ex15_sample.txt，第二个文件并不是脚本，而是供你的脚本读取的文本文件。以下是后者的内容：This is stuff I typed into a file.</p> 
<p>It is really cool stuff.</p> 
<p>Lots and lots of fun to have in here.</p> 
<p>我们要做的是把该文件用我们的脚本“打开(open)”，然后打印出来。然而把文件名ex15_sample.txt 写死(hardcode)在代码中不是一个好主意，这些信息应该是用户输入的才对。如果我们碰到其他文件要处理，写死的文件名就会给你带来麻烦了。我们的解决方案是使用 argv 和 raw_input 来从用户获取信息，从而知道哪些文件该被处理。# -*- coding:utf-8 -*-</p> 
<p>from sys import argv    #导入sys模块中的argv</p> 
<p>script, filename = argv    # argv 赋值给script, filename</p> 
<p>txt = open(filename)    #打开filename的txt文件</p> 
<p>print "Here's your file %r:" % filename  #输出打开文件名名字</p> 
<p>print txt.read() #输出txt的内容</p> 
<p>print "Type the filename again:"</p> 
<p>file_again = raw_input("&gt;")  #输入信息</p> 
<p>txt_again = open(file_again) #再次打开文件</p> 
<p>print txt_again.read()</p> 
<p>这个脚本中有一些新奇的玩意，我们来快速地过一遍：</p> 
<p>代码的 1-3 行使用 argv 来获取文件名，这个你应该已经熟悉了。接下来第 5 行我们看到 open 这个新命令。现在请在命令行运行 pydoc open 来读读它的说明。你可以看到它和你自己的脚本、或者raw_input 命令类似，它会接受一个参数，并且返回一个值，你可以将这个值赋予一个变量。这就是</p> 
<p>你打开文件的过程。</p> 
<p>第 7 行我们打印了一小行，但在第 8 行我们看到了新奇的东西。我们在 txt 上调用了一个函数。你从open 获得的东西是一个 file ( 文件 ) ，文件本身也支持一些命令。它接受命令的方式是使用句点 . ( 英文称作 dot 或者 period) ，紧跟着你的命令，然后是类似 open 和 raw_input 一样的参数。不同点是：当你说 txt.read 时，你的意思其实是：“嘿 txt ！执行你的 read 命令，无需任何参数！”</p> 
<p>脚本剩下的部分基本差不多，不过我就把剩下的分析作为加分习题留给你自己了。</p> 
<p>运行结果：D:\python\----python&gt;python 习题15.py ex15_sample.txt</p> 
<p>Here's your file 'ex15_sample.txt':</p> 
<p>This is stuff I typed into a file.</p> 
<p>It is really cool stuff.</p> 
<p>Lots and lots of fun to have in here.</p> 
<p>Type the filename again:</p> 
<p>&gt;ex15_sample.txt</p> 
<p>This is stuff I typed into a file.</p> 
<p>It is really cool stuff.</p> 
<p>Lots and lots of fun to have in here.</p> 
<p>加分习题</p> 
<p>这节的难度跨越有点大，所以你要尽量做好这节加分习题，然后再继续后面的章节。</p> 
<p>1.在每一行的上面用注解说明这一行的用途。</p> 
<p>2. 如果你不确定答案，就问别人，或者上网搜索。大部分时候，只要搜索 “python” 加上你要搜的东西就能得到你要的答案。比如搜索一下“ python open” 。</p> 
<p>3. 我使用了“命令”这个词，不过实际上它们的名字是“函数（ function ）”和“方法（ method ）。上网搜索一下这两者的意义和区别。看不明白也没关系，迷失在别的程序员的知识海洋里是很正常的一件事情。</p> 
<p>4. 删掉 10-15 行使用到 raw_input 的部分，再运行一遍脚本。D:\python\----python&gt;python 习题15.py ex15_sample.txt</p> 
<p>Here's your file 'ex15_sample.txt':</p> 
<p>This is stuff I typed into a file.</p> 
<p>It is really cool stuff.</p> 
<p>Lots and lots of fun to have in here.</p> 
<p>5. 只是用 raw_input 写这个脚本，想想那种得到文件名称的方法更好，以及为什么。</p> 
<p>当输入为纯数字时</p> 
<p>input返回的是数值类型，如int(证书),float(浮点数)</p> 
<p>raw_inpout返回的是字符串类型，string(字符串)类型</p> 
<p>输入字符串为表达式</p> 
<p>input会计算在字符串中的数字表达式，而raw_input不会。</p> 
<p>如输入 “57 + 3”:</p> 
<p>input会得到整数60</p> 
<p>raw_input会得到字符串”57 + 3”</p> 
<p>使用raw_input保证用户输入什么，就显示什么</p> 
<p>6. 运行 pydoc file 向下滚动直到看见 read() 命令（函数 / 方法）。看到很多别的命令了吧，你可以找几条试试看。不需要看那些包含 __ （两个下划线）的命令，这些只是垃圾而已。</p> 
<p>7. 再次运行 python 在命令行下使用 open 打开一个文件，这种 open 和 read 的方法也值得你一学。</p> 
<p>8. 让你的脚本针对 txt and txt_again 变量执行一下 close() ，处理完文件后你需要将其关闭，这是很重要的一点。</p> 
<p>常见问题回答</p> 
<p>txt = open(filename) 返回的是文件的内容吗？</p> 
<p>不是，它返回的是一个叫做“ file object” 的东西，你可以把它想象成一个磁带机或者 DVD 机。你可以随意访问内容的任意位置，并且去读取这些内容，不过这个 object 本身并不是它的内容。</p> 
<p>我没法在我的 Terminal/PowerShell 命令行下输入 python 代码。</p> 
<p>首先，在命令行输入 python 然后敲回车。现在你就在 python 环境中了。接下来你就可以输入</p> 
<p>并运行一句一句的代码。试着玩玩，如果想退出就输入 quit() 再敲回车。</p> 
<p>from sys import argv 是什么意思？</p> 
<p>现在能告诉你的是， sys 是一个代码库，这句话的意思是从库里取出 argv 这个功能来，供我使用。后面你会学到更多相关知识。</p> 
<p>我把文件名写进去写成 script, ex15_sample.txt = argv 不过这样不灵。</p> 
<p>这么做是错的。把代码写成和我一模一样，然后从命令行运行，照着我的方式。你不需要把文件名放到代码中，而是让 Python 把文件名当做参数接纳进去。</p> 
<p>为什么打开了两次文件没有报错？</p> 
<p>Python 不会限制你打开文件的次数，事实上有时候多次打开同一个文件是一件必须的事情。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/6f58bef78ef42962d3df938093631227/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">python中如何打开csv文件_如何使用Python从URL读取CSV文件？</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/ce872a23b6255a198da3c3239b235ba8/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">python3ide手机版_Pydroid3下载-Pydroid3 IDE集成开发环境APP 4.01_arm64 安卓版-我游网</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 追风少年的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>