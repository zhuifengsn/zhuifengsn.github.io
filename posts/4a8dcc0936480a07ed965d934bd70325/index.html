<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>linux操作系统下图书管理系统的实现 - 追风少年的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="linux操作系统下图书管理系统的实现" />
<meta property="og:description" content="系统要求链接： https://blog.csdn.net/keyboardnobug/article/details/107184607​​​​​​ 话不多说，直接先放上同学们最需要的代码，再听我解释其中的工作原理。 main.cpp #include &lt;iostream&gt; #include&#34;user.h&#34; #include&#34;books.h&#34; using namespace std; int main() { userControl uc; uc.loadFromFile(&#34;user.txt&#34;); uc.login(); } user.h #ifndef USER_H_INCLUDED #define USER_H_INCLUDED #include&lt;iostream&gt; #include&lt;string&gt; #include&lt;list&gt; #include &lt;fstream&gt; using namespace std; class user { private: string ac; string name; string ps; double sf; public: user(); user(string,string,string,double); void setv(); void resisginv(); void setps(){cin&gt;&gt;ps;} void setac(){cin&gt;&gt;ac;} void setname(){cin&gt;&gt;name;} void setsf(){cin&gt;&gt;sf;} void display(); string getac(){return ac;} string getname(){return name;} string getps(){return ps;} double getsf(){return sf;} }; class userControl { private: list&lt;user&gt; listur; int ac; public: userControl(int); void deletes(); void loadFromFile(string filename); void display(); void input(); void resisgin(); void Sort(); void writeToFile(string filename); void login(); void change(); }; #endif // USER_H_INCLUDED user." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://zhuifengsn.github.io/posts/4a8dcc0936480a07ed965d934bd70325/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-06-10T19:55:25+08:00" />
<meta property="article:modified_time" content="2023-06-10T19:55:25+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="追风少年的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">追风少年的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">linux操作系统下图书管理系统的实现</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div>
  系统要求链接： 
</div> 
<div> 
 <a class="link-info" href="https://blog.csdn.net/keyboardnobug/article/details/107184607" title="https://blog.csdn.net/keyboardnobug/article/details/107184607​​​​​​">https://blog.csdn.net/keyboardnobug/article/details/107184607​​​​​​</a> 
</div> 
<div></div> 
<div>
  话不多说，直接先放上同学们最需要的代码，再听我解释其中的工作原理。 
</div> 
<h4>main.cpp</h4> 
<pre><code class="language-cpp">#include &lt;iostream&gt;
#include"user.h"
#include"books.h"
using namespace std;

int main()
{
  userControl uc;
  uc.loadFromFile("user.txt");
  uc.login();
}</code></pre> 
<h4> user.h</h4> 
<pre><code class="language-cpp">#ifndef USER_H_INCLUDED
#define USER_H_INCLUDED

#include&lt;iostream&gt;
#include&lt;string&gt;
#include&lt;list&gt;
#include &lt;fstream&gt;
using namespace std;
class user
{
private:
    string ac;
    string name;
    string ps;
    double sf;
public:
    user();
    user(string,string,string,double);
    void setv();
    void resisginv();
    void setps(){cin&gt;&gt;ps;}
    void setac(){cin&gt;&gt;ac;}
    void setname(){cin&gt;&gt;name;}
    void setsf(){cin&gt;&gt;sf;}
    void display();
    string getac(){return ac;}
    string getname(){return name;}
    string getps(){return ps;}
    double getsf(){return sf;}

};
class userControl
{
private:
    list&lt;user&gt; listur;
    int ac;
public:
    userControl(int);
    void deletes();
    void loadFromFile(string filename);
    void display();
    void input();
    void resisgin();
    void Sort();
    void writeToFile(string filename);
    void login();
    void change();


};

#endif // USER_H_INCLUDED
</code></pre> 
<div> 
 <h4>user.cpp</h4> 
 <pre><code class="language-cpp">
#include"user.h"
#include"books.h"
#include"function.h"
#include&lt;iostream&gt;
#include&lt;string&gt;
#include&lt;list&gt;
#include &lt;fstream&gt;
using namespace std;
void mo(userControl* uc,list&lt;user&gt;::iterator iters);
user::user() {};
user::user(string a,string p,string n,double s):ac(a),ps(p),name(n),sf(s) {}
void user::setv()
{
    cout&lt;&lt;"输入账号:";
    cin&gt;&gt;ac;
    cout&lt;&lt;"输入密码:";
    cin&gt;&gt;ps;
    cout&lt;&lt;"输入姓名:";
    cin&gt;&gt;name;
    cout&lt;&lt;"输入权限:";
    cin&gt;&gt;sf;
}
void user::resisginv()
{
    cout&lt;&lt;"输入账号:";
    cin&gt;&gt;ac;
    cout&lt;&lt;"输入密码:";
    cin&gt;&gt;ps;
    cout&lt;&lt;"输入姓名:";
    cin&gt;&gt;name;
    sf=1;
    cout&lt;&lt;"注册成功！请输入新的账号密码！"&lt;&lt;endl;

}
void user::display()
{
    cout&lt;&lt;ac&lt;&lt;" "&lt;&lt;ps&lt;&lt;" "&lt;&lt;name&lt;&lt;" "&lt;&lt;sf&lt;&lt;endl;
}
userControl::userControl(int n):ac(n) {};
void userControl::deletes()
{
    string i;
    string choice;
    list&lt;user&gt;::iterator iter;
    cout&lt;&lt;"输入要删除的账号:";
      cin &gt;&gt; i;

    // 遍历列表
    for (iter = listur.begin(); iter != listur.end(); ++iter)
    {
        if(i==iter-&gt;getac())
        {
        cout &lt;&lt; "要删除以下账号吗？(y/n)" &lt;&lt; endl;
        cout &lt;&lt; "账号：" &lt;&lt; iter-&gt;getac() &lt;&lt; endl;
         cin &gt;&gt; choice;
        if (choice == "y" || choice == "Y")
        {
            // 删除当前元素
            iter = listur.erase(iter);
            --iter; // 迭代器需要回退到上一个元素，因为erase函数会使迭代器失效
        }
    }
    }
}
void userControl::change()
{
    string i;
    string choice;
    list&lt;user&gt;::iterator iter;
    cout&lt;&lt;"输入要修改的账号:";
      cin &gt;&gt; i;

    // 遍历列表
    for (iter = listur.begin(); iter != listur.end(); ++iter)
    {
        if(i==iter-&gt;getac())
        {
            cout&lt;&lt;"是否修改账号?（y/n）"&lt;&lt;endl;
            cin&gt;&gt;choice;
            if(choice=="y"||choice=="Y")
            {
                iter-&gt;setac();
            }
             cout&lt;&lt;"是否修改密码?（y/n）"&lt;&lt;endl;
            cin&gt;&gt;choice;
            if(choice=="y"||choice=="Y")
            {
                iter-&gt;setps();
            }
             cout&lt;&lt;"是否修改名称?（y/n）"&lt;&lt;endl;
            cin&gt;&gt;choice;
            if(choice=="y"||choice=="Y")
            {
                iter-&gt;setname();
            }
             cout&lt;&lt;"是否修改权限?（y/n）"&lt;&lt;endl;
            cin&gt;&gt;choice;
            if(choice=="y"||choice=="Y")
            {
                iter-&gt;setsf();
            }

    }
    }
}

void userControl::loadFromFile(string filename)
{
    ifstream in(filename);
    if (!in)
    {
        cout &lt;&lt; "File does not exist." &lt;&lt; endl;
        return;
    }
    string a1,p1,n1;
    double s1;
    while(in&gt;&gt;a1&gt;&gt;p1&gt;&gt;n1&gt;&gt;s1)
    {
        user ur(a1,p1,n1,s1);
        listur.push_back(ur);
    }
    in.close();
}
void userControl::display()
{
    list&lt;user&gt;::iterator iter;
    for(iter=listur.begin(); iter!=listur.end(); iter++)
    {
        iter-&gt;display();
    }
}
void userControl::input()
{
    user s;
    s.setv();
    listur.push_back(s);
}
void userControl::resisgin()
{
    user s;
    s.resisginv();
    listur.push_back(s);
}
void userControl::writeToFile(string filename)
{
    ofstream out(filename,ios_base::out);
    if (!out)
    {
        cout &lt;&lt; "Error: Cannot open file " &lt;&lt; filename &lt;&lt; endl;
        return;
    }
    list&lt;user&gt;::iterator iter ;
    for(iter=listur.begin(); iter!=listur.end(); iter++)
    {
        out   &lt;&lt; iter-&gt;getac() &lt;&lt; ' '
              &lt;&lt; iter-&gt;getps() &lt;&lt; ' '
              &lt;&lt; iter-&gt;getname() &lt;&lt; ' '
              &lt;&lt; iter-&gt;getsf() &lt;&lt; '\n';
    }
    out.close();
}
void userControl::login()
{
    booksControl* bc ;

    string ac;
    string ps;
    int counts=0;
    userControl* uc = this;
    int a=0;
    cout&lt;&lt;"输入账号:";
    cin&gt;&gt;ac;
    list&lt;user&gt;::iterator iter ;
    list&lt;user&gt;::iterator iters ;
    for(iter=listur.begin(); iter!=listur.end(); iter++)
    {

    }
    for(iter=listur.begin(); iter!=listur.end(); iter++)
    {
        if(ac==iter-&gt;getac())
        {
            do
            {
                cout&lt;&lt;"输入密码:";
                cin&gt;&gt;ps;
                if(ps!=iter-&gt;getps())
                {
                    cout&lt;&lt;"密码错误，请检查密码"&lt;&lt;endl;
                    counts++;
                    if(counts==3)
                    {
                        cout&lt;&lt;"密码错误三次，请稍后登录"&lt;&lt;endl;
                        break;
                    }
                }
                if(ps==iter-&gt;getps())
                {
                    cout&lt;&lt;"密码正确,正在登录系统中"&lt;&lt;endl;
                    a=1;
                    iters=iter;
                    break;
                }
            }
            while(ps!=iter-&gt;getps());
        }
    }
    iter--;
    if(ac!=iter-&gt;getac()&amp;&amp;a==0)
    {
        cout&lt;&lt;"没有这个账号或者忘记密码，是否创建新的账号（Y/N）"&lt;&lt;endl;
        resisgin();
        writeToFile("user.txt");
        login();
    }
    if(a==1)
    {
         mo(uc,iters);
    }
}

</code></pre> 
 <h4>books.h</h4> 
 <pre><code class="language-cpp">#ifndef BookS_H_INCLUDED
#define BookS_H_INCLUDED

#include&lt;iostream&gt;
#include&lt;string&gt;
#include&lt;list&gt;
#include &lt;fstream&gt;
#include &lt;sstream&gt;
using namespace std;

class Book
{
public:
    string recordnum;
    string booknum;
    string title;
    string author;
    string press;
    int nums;
    int outs;

    Book() {}
    Book(string rd,string bn,string t, string a,string p,int n, int y) :recordnum(rd),booknum(bn),title(t), author(a),press(p),nums(n), outs(y) {}
    string getrn()
    {
        return recordnum;
    }
    string getbn()
    {
        return booknum;
    }
    string gettitle()
    {
        return title;
    }
    string getauthor()
    {
        return author;
    }
    string getpress()
    {
        return press;
    }
    int getnums()
    {
        return nums;
    }
    int getouts()
    {
        return outs;
    }
    void setrn()
    {
        cin&gt;&gt;recordnum;
    }
    void setbn()
    {
        cin&gt;&gt;booknum;
    }
    void settitle()
    {
        cin&gt;&gt;title;
    }
    void setauthor()
    {
        cin&gt;&gt;author;
    }
    void setpress()
    {
        cin&gt;&gt;press;
    }
    void setnums()
    {
        cin&gt;&gt;nums;
    }
    void setouts()
    {
        cin&gt;&gt;outs;
    }
    void outsplus()
    {
        outs++;
    }
     void outsback()
    {
        outs--;
    }
    int intgetrn()
    {
        int t;
        istringstream ss(recordnum);
        ss&gt;&gt;t;
        return t;
    }
    friend ostream&amp; operator&lt;&lt;(ostream&amp; os, const Book&amp; b)
    {
        os &lt;&lt;b.recordnum&lt;&lt;" "&lt;&lt;b.booknum&lt;&lt; " " &lt;&lt;b.title&lt;&lt; " " &lt;&lt; b.author&lt;&lt; " " &lt;&lt; b.press&lt;&lt; " " &lt;&lt; b.nums&lt;&lt; " " &lt;&lt; b.outs;
        return os;
    }
    friend istream&amp; operator&gt;&gt;(istream&amp; is, Book&amp; b)
    {
        getline(is, b.recordnum, ' ');
        getline(is, b.booknum, ' ');
        getline(is, b.title, ' ');
        getline(is, b.author, ' ');
        getline(is, b.press, ' ');
        is &gt;&gt; b.nums&gt;&gt;b.outs;
        is.ignore();
        return is;

    }
};

class booksControl
{
private:
    list&lt;Book&gt; books;
    int bnf[2][1000]= {0,0};

public:
    void addBook(Book book)
    {
        books.push_back(book);
    }
    void sortbn()
    {
        int i,j,t;
        list&lt;Book&gt;::iterator iter;
        iter= prev(books.end());
        string rn=iter-&gt;getrn();
        istringstream ss(rn);
        ss&gt;&gt;t;
        for(j=0; j&lt;t; j++)
        {
            for(i=j; i&lt;t; i++)
            {
                if(bnf[1][j]&gt;bnf[1][i])
                {
                    swap(bnf[0][j],bnf[0][i]);
                    swap(bnf[1][j],bnf[1][i]);
                }
            }
        }
        ofstream out("main_index.txt");
        for(j=0; j&lt;t; j++)
        {
            out&lt;&lt;bnf[0][j]&lt;&lt;" "&lt;&lt;bnf[1][j]&lt;&lt;endl;
        }
        out.close();
    }
    void inputBook()
    {
        string recordnum1;
        string booknum1;
        string title1;
        string author1;
        string press1;
        int nums1;
        int outs1;
        int t;
        list&lt;Book&gt;::iterator iter;
        for (iter = books.begin(); iter != books.end(); ++iter)
        {
            recordnum1=iter-&gt;getrn();
        }
        istringstream ss(recordnum1);
        ss&gt;&gt;t;
        t++;
        ostringstream sss;
        sss &lt;&lt; t;
        recordnum1=sss.str();
        cout&lt;&lt;"输入书号";
        cin&gt;&gt;booknum1;
        cout&lt;&lt;"输入书名:";
        cin&gt;&gt;title1;
        cout&lt;&lt;"输入作者";
        cin&gt;&gt;author1;
        cout&lt;&lt;"输入出版社";
        cin&gt;&gt;press1;
        cout&lt;&lt;"输入书籍数量";
        cin&gt;&gt;nums1;
        cout&lt;&lt;"输入借出数量";
        cin&gt;&gt;outs1;
        Book book(recordnum1,booknum1,title1,author1,press1,nums1,outs1);
        books.push_back(book);
    }

    void saveToFile(const string&amp; filename) const
    {
        ofstream outfile(filename);

        if (!outfile.is_open())
        {
            cout &lt;&lt; "无法打开文件" &lt;&lt; endl;
            return;
        }

        for (const auto &amp;b : books)
        {
            outfile&lt;&lt; b &lt;&lt; endl;
        }

        outfile.close();
    }

    void readFromFile(const string &amp;filename)
    {
        ifstream infile(filename);
        if (!infile.is_open())
        {
            cout &lt;&lt; "无法打开文件" &lt;&lt; endl;
            return;
        }

        books.clear();

        while (infile.good())
        {
            Book book;
            infile &gt;&gt; book;

            if (infile.fail())
                break;
            addBook(book);
            string recordnum1;
            string booknum1;
            int t1,t2;
            list&lt;Book&gt;::iterator iter;
            int i=0;
            for (iter = books.begin(); iter != books.end(); ++iter)
            {
                recordnum1=iter-&gt;getrn();
                booknum1=iter-&gt;getbn();
                istringstream ss(recordnum1);
                ss&gt;&gt;t1;
                istringstream sss(booknum1);
                sss&gt;&gt;t2;
                bnf[0][i]=t1;
                bnf[1][i]=t2;
                i++;
            }
            sortbn();
        }
        infile.close();
    }
    void changebooks()
    {
        string i;
        string choice;
        list&lt;Book&gt;::iterator iter;
        cout&lt;&lt;"输入要修改的书籍记录号:";
        cin &gt;&gt; i;
        // 遍历列表
        for (iter = books.begin(); iter != books.end(); ++iter)
        {
            if(i==iter-&gt;getrn())
            {
                cout&lt;&lt;"是否修书号?（y/n）"&lt;&lt;endl;
                cin&gt;&gt;choice;
                if(choice=="y"||choice=="Y")
                {
                    iter-&gt;setbn();
                }
                cout&lt;&lt;"是否修改书名?（y/n）"&lt;&lt;endl;
                cin&gt;&gt;choice;
                if(choice=="y"||choice=="Y")
                {
                    iter-&gt;settitle();
                }
                cout&lt;&lt;"是否修改作者?（y/n）"&lt;&lt;endl;
                cin&gt;&gt;choice;
                if(choice=="y"||choice=="Y")
                {
                    iter-&gt;setauthor();
                }
                cout&lt;&lt;"是否修改出版社?（y/n）"&lt;&lt;endl;
                cin&gt;&gt;choice;
                if(choice=="y"||choice=="Y")
                {
                    iter-&gt;setpress();
                }
                cout&lt;&lt;"是否修改书籍数量?（y/n）"&lt;&lt;endl;
                cin&gt;&gt;choice;
                if(choice=="y"||choice=="Y")
                {
                    iter-&gt;setnums();
                }
                cout&lt;&lt;"是否修改借出书数?（y/n）"&lt;&lt;endl;
                cin&gt;&gt;choice;
                if(choice=="y"||choice=="Y")
                {
                    iter-&gt;setouts();
                }
            }
        }
    }
    void printAllBooks() const
    {
        for (const auto &amp;b : books)
        {
            cout&lt;&lt; "记录号: "&lt;&lt;b.recordnum&lt;&lt;" ";
            cout&lt;&lt; "书号: "&lt;&lt;b.booknum &lt;&lt;" ";
            cout&lt;&lt; "书名: "&lt;&lt;b.title&lt;&lt;" ";
            cout&lt;&lt; "作者: "&lt;&lt;b.author&lt;&lt;" ";
            cout&lt;&lt; "出版社: "&lt;&lt;b.press&lt;&lt;" ";
            cout&lt;&lt; "书籍总量: "&lt;&lt;b.nums&lt;&lt;" ";
            cout&lt;&lt; "借出本数: "&lt;&lt;b.outs&lt;&lt;endl;
        }
    }
    void ReadLineData(int line)
    {
        ifstream in("books.txt");
        string temp;
        int i=0;
        while(getline(in,temp)&amp;&amp;i&lt;line-1)
        {
            i++;
        }
        in.close();
        cout&lt;&lt;temp&lt;&lt;endl;
    }
    void bnfinf()
    {
        int sh=0,i=0,t,k=0;
        list&lt;Book&gt;::iterator iter;
        iter= prev(books.end());
        string rn=iter-&gt;getrn();
        istringstream ss(rn);
        ss&gt;&gt;t;
        cout&lt;&lt;"输入要寻找的书号:";
        cin&gt;&gt;sh;
        int left = 0;
        int right = t-1;
        int mid;
        while(left&lt;=right)
        {
            mid =(left+right)&gt;&gt;1;
            if(bnf[1][mid]&lt;sh)
            {
                left = mid +1;
            }
            else if(bnf[1][mid]&gt;sh)
            {
                right = mid -1;
            }
            else
            {
                ReadLineData(bnf[0][mid]);
                break;
            }
            if(left &gt; right )
                cout&lt;&lt;"不存在该图书。"&lt;&lt;endl;
        }
    }
    string Bnfinf()
    {
        int sh=0,i=0,t,k=0;
        string choice="0";
        list&lt;Book&gt;::iterator iter;
        iter= prev(books.end());
        string rn=iter-&gt;getrn();
        istringstream ss(rn);
        ss&gt;&gt;t;
        cin&gt;&gt;sh;
        int left = 0;
        int right = t-1;
        int mid;
        while(left&lt;=right)
        {
            mid =(left+right)&gt;&gt;1;
            if(bnf[1][mid]&lt;sh)
            {
                left = mid +1;
            }
            else if(bnf[1][mid]&gt;sh)
            {
                right = mid -1;
            }
            else
            {
                ostringstream sss;
                sss &lt;&lt; bnf[1][mid];
                return  sss.str();
            }
            if(left &gt; right )
                return choice;
        }
    }
    bool bntf(string bn)
    {
        string choice;
        list&lt;Book&gt;::iterator iter;
        // 遍历列表
        for (iter = books.begin(); iter != books.end(); ++iter)
        {
            if(bn==iter-&gt;getbn())
            {
                if(iter-&gt;getnums()&gt;iter-&gt;getouts())
                    return true;
                else
                    return false;
            }

    }
    }
    void Outplus(string booknum1)
    {
         list&lt;Book&gt;::iterator iter;
        for (iter = books.begin(); iter != books.end(); ++iter)
        {
            if(booknum1==iter-&gt;getbn())
            {
                iter-&gt;outsplus();
                cout&lt;&lt;"添加成功！"&lt;&lt;endl;
                saveToFile("books.txt");
            }
    }

    }
    void Outback(string booknum1)
    {
         list&lt;Book&gt;::iterator iter;
        for (iter = books.begin(); iter != books.end(); ++iter)
        {
            if(booknum1==iter-&gt;getbn())
            {
                iter-&gt;outsback();
                cout&lt;&lt;"归还成功！"&lt;&lt;endl;
                saveToFile("books.txt");
            }
    }

    }
};

#endif // BookS_H_INCLUDED
</code></pre> 
 <h4>reader.h</h4> 
 <pre><code class="language-cpp">#ifndef readerS_H_INCLUDED
#define readerS_H_INCLUDED

#include&lt;iostream&gt;
#include&lt;string&gt;
#include&lt;list&gt;
#include &lt;fstream&gt;
using namespace std;
class Reader {
public:
    string readernums;
    string name;
    string workplace;
    string phone;
    int nums;
    int outs;

    Reader() {}
    Reader(string r, string na,string w,string p,int n, int o) : readernums(r), name(na),workplace(w),phone(p),nums(n), outs(o) {}
    string getrn(){return readernums;}
    string getname(){return name;}
    string getworkplace(){return workplace;}
    string getphone(){return phone;}
    int getnums(){return nums;}
    int getouts(){return outs;}
    void setrn(){cin&gt;&gt;readernums;}
    void setname(){cin&gt;&gt;name;}
    void setworkplace(){cin&gt;&gt;workplace;}
    void setphone(){cin&gt;&gt;phone;}
    void setnums(){cin&gt;&gt;nums;}
    void setouts(){cin&gt;&gt;outs;}
    void show(){
            cout&lt;&lt; "读者号:"&lt;&lt;readernums&lt;&lt;" ";
	        cout&lt;&lt; "读者名:"&lt;&lt;name&lt;&lt;" ";
            cout&lt;&lt; "单位:"&lt;&lt;workplace&lt;&lt;" ";
            cout&lt;&lt; "联系方式:"&lt;&lt;phone&lt;&lt;" ";
            cout&lt;&lt; "可借书数:"&lt;&lt;nums&lt;&lt;" ";
	        cout&lt;&lt; "已借书数:"&lt;&lt;outs&lt;&lt;" \n";
        }
    void outsplus()
    {
        outs++;
    }
    void outsback()
    {
        outs--;
    }
    friend ostream&amp; operator&lt;&lt;(ostream&amp; os, const  Reader&amp; b) {
        os &lt;&lt; b.readernums &lt;&lt; " " &lt;&lt; b.name &lt;&lt; " " &lt;&lt; b.workplace&lt;&lt;" "&lt;&lt;b.phone&lt;&lt; " " &lt;&lt; b.nums&lt;&lt; " " &lt;&lt; b.outs;
        return os;
    }

    friend istream&amp; operator&gt;&gt;(istream&amp; is,  Reader&amp; b) {
        getline(is, b.readernums, ' ');
        getline(is, b.name, ' ');
        getline(is, b.workplace, ' ');
        getline(is, b.phone, ' ');
        is &gt;&gt; b.nums&gt;&gt;b.outs;
        is.ignore();
        return is;

    }
};

class ReaderControl {
private:
    list&lt;Reader&gt; listrd;

public:
    void addReader(Reader reader){listrd.push_back(reader);}
    void inputReader() {
    string readernums1;
    string name1;
    string workplace1;
    string phone1;
    int nums1;
    int outs1;
    cout&lt;&lt;"输入读者号:";
    cin&gt;&gt;readernums1;
    cout&lt;&lt;"输入读者名:";
    cin&gt;&gt;name1;
    cout&lt;&lt;"输入单位:";
    cin&gt;&gt;workplace1;
    cout&lt;&lt;"输入联系方式:";
    cin&gt;&gt;phone1;
    cout&lt;&lt;"输入可借书数:";
    cin&gt;&gt;nums1;
    cout&lt;&lt;"输入已借数书数量:";
    cin&gt;&gt;outs1;
        Reader reader(readernums1,name1,workplace1,phone1,nums1,outs1);
        listrd.push_back(reader);
        }

    void saveToFile(const string&amp; filename) const {
        ofstream outfile(filename);

		if (!outfile.is_open()) {
		    cout &lt;&lt; "无法打开文件" &lt;&lt; endl;
		    return;
		}

		for (const auto &amp;b : listrd) {
			outfile &lt;&lt; b &lt;&lt; endl;
		}

		outfile.close();
    }

	void readFromFile(const string &amp;filename) {
	    ifstream infile(filename);

	    if (!infile.is_open()) {
	        cout &lt;&lt; "无法打开文件" &lt;&lt; endl;
	        return;
	    }

	    listrd.clear();

	    while (infile.good()) {
	        Reader reader;
	        infile &gt;&gt; reader;

			if (infile.fail())
				break;

	        addReader(reader);
	    }

	    infile.close();
	}
	void printAllreaders() const {
	    for (const auto &amp;b : listrd) {
            cout&lt;&lt; "读者号:"&lt;&lt;b.readernums&lt;&lt;" ";
	        cout&lt;&lt; "读者名:"&lt;&lt;b.name&lt;&lt;" ";
            cout&lt;&lt; "单位:"&lt;&lt;b.workplace&lt;&lt;" ";
            cout&lt;&lt; "联系方式:"&lt;&lt;b.phone&lt;&lt;" ";
            cout&lt;&lt; "可借书数:"&lt;&lt;b.nums&lt;&lt;" ";
	        cout&lt;&lt; "已借书数:"&lt;&lt;b.outs&lt;&lt;" \n";
	    }
	}
	void deletereader()
	{
    string i;
    string choice;
    list&lt;Reader&gt;::iterator iter;
    cout&lt;&lt;"输入要删除的读者号:";
      cin &gt;&gt; i;

    // 遍历列表
    for (iter = listrd.begin(); iter != listrd.end(); ++iter)
    {
        if(i==iter-&gt;getrn())
        {
        cout &lt;&lt; "要删除以下账号吗？(y/n)" &lt;&lt; endl;
        cout &lt;&lt; "账号：" &lt;&lt; iter-&gt;getrn() &lt;&lt; endl;
         cin &gt;&gt; choice;
        if (choice == "y" || choice == "Y")
        {
            // 删除当前元素
            iter = listrd.erase(iter);
            --iter; // 迭代器需要回退到上一个元素，因为erase函数会使迭代器失效
        }
    }
    }
	}
     string findreadernum()
     {
    string i;
    string choice="0";
    list&lt;Reader&gt;::iterator iter;
      cin &gt;&gt; i;
    // 遍历列表
    for (iter = listrd.begin(); iter != listrd.end(); ++iter)
    {
        if(i==iter-&gt;getrn())
        {
           return i;
        }
    }
    iter--;
    if(i!=iter-&gt;getrn())
    {
        return choice;
    }
     }
	 void finfreader()
    {
    string i;
    string choice;
    list&lt;Reader&gt;::iterator iter;
      cin &gt;&gt; i;
    // 遍历列表
    for (iter = listrd.begin(); iter != listrd.end(); ++iter)
    {
        if(i==iter-&gt;getrn())
        {
            iter-&gt;show();
        }
    }
    iter--;
    if(i!=iter-&gt;getrn())
    {
        cout&lt;&lt;"没有这个读者"&lt;&lt;endl;
    }
    }
	void changereaders()
	{
    string i;
    string choice;
    list&lt;Reader&gt;::iterator iter;
    cout&lt;&lt;"输入要修改的读者号:";
      cin &gt;&gt; i;
    // 遍历列表
    for (iter = listrd.begin(); iter != listrd.end(); ++iter)
    {
        if(i==iter-&gt;getrn())
        {
            cout&lt;&lt;"是否修改读者号?（y/n）"&lt;&lt;endl;
            cin&gt;&gt;choice;
            if(choice=="y"||choice=="Y")
            {
                iter-&gt;setrn();
            }
             cout&lt;&lt;"是否修改读者名?（y/n）"&lt;&lt;endl;
            cin&gt;&gt;choice;
            if(choice=="y"||choice=="Y")
            {
                iter-&gt;setname();
            }
             cout&lt;&lt;"是否修改单位?（y/n）"&lt;&lt;endl;
            cin&gt;&gt;choice;
            if(choice=="y"||choice=="Y")
            {
                iter-&gt;setworkplace();
            }
             cout&lt;&lt;"是否修改联系方式?（y/n）"&lt;&lt;endl;
            cin&gt;&gt;choice;
            if(choice=="y"||choice=="Y")
            {
                iter-&gt;setphone();
            }
            cout&lt;&lt;"是否修改可借书数?（y/n）"&lt;&lt;endl;
            cin&gt;&gt;choice;
            if(choice=="y"||choice=="Y")
            {
                iter-&gt;setnums();
            }
            cout&lt;&lt;"是否修改已借书数?（y/n）"&lt;&lt;endl;
            cin&gt;&gt;choice;
            if(choice=="y"||choice=="Y")
            {
                iter-&gt;setouts();
            }
    }
    }
	}
	void Outplus(string readernum1)
    {
         list&lt;Reader&gt;::iterator iter;
        for (iter = listrd.begin(); iter != listrd.end(); ++iter)
        {
            if(readernum1==iter-&gt;getrn())
            {
                iter-&gt;outsplus();
                cout&lt;&lt;"添加成功！"&lt;&lt;endl;
            }
    }
     saveToFile("reader.txt");
    }
   void Outback(string readernum1)
    {
         list&lt;Reader&gt;::iterator iter;
        for (iter = listrd.begin(); iter != listrd.end(); ++iter)
        {
            if(readernum1==iter-&gt;getrn())
            {
                iter-&gt;outsback();
                cout&lt;&lt;"添加成功！"&lt;&lt;endl;
            }
    }
     saveToFile("reader.txt");
    }
};

#endif // readerS_H_INCLUDED
</code></pre> 
 <h4>bookio.h</h4> 
 <pre><code class="language-cpp">#ifndef BOOKIO_H_INCLUDED
#define BOOKIO_H_INCLUDED

using namespace std;
#include"user.h"
#include"books.h"
#include"reader.h"
#include&lt;iostream&gt;
#include&lt;string&gt;
#include&lt;list&gt;
#include &lt;fstream&gt;
class bookio
{
private:
    string readernum;
    string booknum;
    string outdata;
    string indata="未归还";
    string remark;
public:
    bookio();
    bookio(string r,string b,string o):readernum(r),booknum(b),outdata(o) {};
    bookio(string r,string b,string o,string i):readernum(r),booknum(b),outdata(o),indata(i) {};
    void setrn()
    {
        cin&gt;&gt;readernum;
    }
    void setbn()
    {
        cin&gt;&gt;booknum;
    }
    void setod()
    {
        cin&gt;&gt;outdata;
    }
    void setid(string indata1)
    {
        indata=indata1;
    }
    void display();
    string getrn()
    {
        return readernum;
    }
    string getbn()
    {
        return booknum;
    }
    string getod()
    {
        return outdata;
    }
    string getid()
    {
        return indata;
    }

};
class bookioControl
{
private:
    list&lt;bookio&gt; listbio;
public:
    bookioControl() {};
    void outbook()
    {
        string readernum1;
        string booknum1;
        string outdata1;
        string indata1="未归还";
        ReaderControl rc;
        booksControl bc;
        list&lt;bookio&gt;::iterator iterbio;
        list&lt;Book&gt;::iterator iterbk;
        list&lt;Reader&gt;::iterator iterd;
        rc.readFromFile("reader.txt");
        bc.readFromFile("books.txt");
        cout&lt;&lt;"输入读者号";
        readernum1=rc.findreadernum();
        cout&lt;&lt;"输入书号：";
        booknum1=bc.Bnfinf();
        cout&lt;&lt;"输入借书日期：";
        cin&gt;&gt;outdata1;
        cout&lt;&lt;readernum1&lt;&lt;booknum1&lt;&lt;endl;
        if(readernum1=="0")
        {
            cout&lt;&lt;"不存在该读者"&lt;&lt;endl;
        }
        else if(booknum1=="0")
        {
            cout&lt;&lt;"不存在该图书"&lt;&lt;endl;
        }
        else if(bc.bntf(booknum1)==false)
        {
            cout&lt;&lt;"该图书库存为空"&lt;&lt;endl;
        }
        else
        {
            bookio bio(readernum1,booknum1,outdata1,indata1);
            listbio.push_back(bio);
            ofstream out("bookio.txt");
            if (!out)
            {
                cout &lt;&lt; "Error: Cannot open file"  &lt;&lt; endl;
                return;
            }
            for(iterbio=listbio.begin(); iterbio!=listbio.end(); iterbio++)
            {
                out   &lt;&lt; iterbio-&gt;getrn() &lt;&lt; ' '
                      &lt;&lt; iterbio-&gt;getbn() &lt;&lt; ' '
                      &lt;&lt; iterbio-&gt;getod() &lt;&lt; ' '
                      &lt;&lt; iterbio-&gt;getid() &lt;&lt; '\n';
            }
            out.close();
        }
        bc.Outplus(booknum1);
        rc.Outplus(readernum1);
    };
    void inbook()
    {
        ifstream in("bookio.txt");
        if (!in)
        {
            cout &lt;&lt; "File does not exist." &lt;&lt; endl;
            return;
        }
        string readernum1;
        string booknum1;
        string outdata1;
        string indata1;
        while(in&gt;&gt;readernum1&gt;&gt;booknum1&gt;&gt;outdata1&gt;&gt;indata1)
        {
            bookio bio(readernum1,booknum1,outdata1,indata1);
            listbio.push_back(bio);
        }
        in.close();
        ReaderControl rc;
        booksControl bc;
        list&lt;bookio&gt;::iterator iterbio;
        list&lt;Book&gt;::iterator iterbk;
        list&lt;Reader&gt;::iterator iterd;
        rc.readFromFile("reader.txt");
        bc.readFromFile("books.txt");
        cout&lt;&lt;"输入读者号";
        readernum1=rc.findreadernum();
        cout&lt;&lt;"输入书号：";
        booknum1=bc.Bnfinf();
        cout&lt;&lt;"输入还书日期：";
        cin&gt;&gt;indata1;
        if(readernum1=="0")
        {
            cout&lt;&lt;"不存在该读者"&lt;&lt;endl;
        }
        else if(booknum1=="0")
        {
            cout&lt;&lt;"不存在该图书"&lt;&lt;endl;
        }
        else
        {
            for(iterbio=listbio.begin(); iterbio!=listbio.end(); iterbio++)
            {
                if(iterbio-&gt;getrn()==readernum1 &amp;&amp; iterbio-&gt;getbn()==booknum1)
                {
                    cout&lt;&lt;"找到该借书记录"&lt;&lt;endl;
                     if(iterbio-&gt;getid()!="未归还")
                     {
                         cout&lt;&lt;"该图书已归还"&lt;&lt;endl;
                     }
                    else if(indata1&lt;outdata1)
                    {
                        string choice;
                        cout&lt;&lt;"还书日期有误！是否重新输入还书日期？（y/n）"&lt;&lt;endl;
                        cin&gt;&gt;choice;
                        if(choice=="Y"||choice=="y")
                        {
                            cin&gt;&gt;indata1;
                        }
                        else
                            return;
                    }
                    iterbio-&gt;setid(indata1);
                    ofstream out("bookio.txt");
                    for(iterbio=listbio.begin(); iterbio!=listbio.end(); iterbio++)
                    {
                        out   &lt;&lt; iterbio-&gt;getrn() &lt;&lt; ' '
                              &lt;&lt; iterbio-&gt;getbn() &lt;&lt; ' '
                              &lt;&lt; iterbio-&gt;getod() &lt;&lt; ' '
                              &lt;&lt; iterbio-&gt;getid() &lt;&lt; '\n';
                    }
                    out.close();
                    bc.Outback(booknum1);
                    rc.Outback(readernum1);
                    return;
                }
            }
            cout&lt;&lt;"不存在该图书信息"&lt;&lt;endl;
        }
        cout&lt;&lt;"还书"&lt;&lt;endl;
    };
};


#endif // BOOKIO_H_INCLUDED
</code></pre> 
 <h4>function.h</h4> 
 <pre><code class="language-cpp">#ifndef FUNCTION_H_INCLUDED
#define FUNCTION_H_INCLUDED

#include&lt;iostream&gt;
#include&lt;string&gt;
#include&lt;list&gt;
#include &lt;fstream&gt;
#include"user.h"
#include"books.h"
#include"reader.h"
#include"bookio.h"
using namespace std;
void bf(booksControl book,list&lt;user&gt;::iterator iters)
{
    int i;
    cout&lt;&lt;"*****图书信息查询*****"&lt;&lt;endl;
    do
    {
        cout&lt;&lt;"1.按书号查询"&lt;&lt;endl;
        cout&lt;&lt;"2.按书名查询"&lt;&lt;endl;
        cout&lt;&lt;"3.按作者查询"&lt;&lt;endl;
        cout&lt;&lt;"4.按出版社查询"&lt;&lt;endl;
        cout&lt;&lt;"5.返回主菜单"&lt;&lt;endl;
        cin&gt;&gt;i;
        switch(i)
        {
        case 1:
            book.bnfinf();
            break;
        case 2:

            break;
        case 3:

            break;
        case 4:

            break;
        case 5:

            break;
        }
    }
    while(i!=5);
}

void uo(userControl* uc,list&lt;user&gt;::iterator iters)
{
    int i;
    string oldps;
    string out="N";
    if(iters-&gt;getsf()==2)
    {
        cout&lt;&lt;"权限不足，无法访问"&lt;&lt;endl;
        return;
    }
    cout&lt;&lt;"******用户管理子系统*****"&lt;&lt;endl;
    do
    {
        cout&lt;&lt;"1.用户信息输入"&lt;&lt;endl;
        cout&lt;&lt;"2.用户信息修改"&lt;&lt;endl;
        cout&lt;&lt;"3.用户信息删除"&lt;&lt;endl;
        cout&lt;&lt;"4.用户信息显示"&lt;&lt;endl;
        cout&lt;&lt;"5.用户密码修改"&lt;&lt;endl;
        cout&lt;&lt;"6.返回主菜单"&lt;&lt;endl;
        cin&gt;&gt;i;
        switch(i)
        {
        case 1:
            if(iters-&gt;getsf()!=3)
            {
                cout&lt;&lt;"权限不足，无法访问"&lt;&lt;endl;
            }
            else if(iters-&gt;getsf()==3)
            {
                uc-&gt;input();
                uc-&gt;writeToFile("user.txt");
            }
            break;
        case 2:
            if(iters-&gt;getsf()==1||iters-&gt;getsf()==2)
            {
                cout&lt;&lt;"权限不足，无法访问"&lt;&lt;endl;
            }
            else if(iters-&gt;getsf()==3)
            {
                uc-&gt;change();
                uc-&gt;writeToFile("user.txt");
            }
            break;
        case 3:
            if(iters-&gt;getsf()==1||iters-&gt;getsf()==2)
            {
                cout&lt;&lt;"权限不足，无法访问"&lt;&lt;endl;
            }
            else if(iters-&gt;getsf()==3)
            {
                uc-&gt;deletes();
                uc-&gt;writeToFile("user.txt");
            }

            break;
        case 4:
            if(iters-&gt;getsf()==1||iters-&gt;getsf()==2)
            {
                cout&lt;&lt;"权限不足，无法访问"&lt;&lt;endl;
            }
            else if(iters-&gt;getsf()==3)
            {
                uc-&gt;display();
            }
            break;
        case 5:
            cout&lt;&lt;"输入原密码：";
            cin&gt;&gt;oldps;
            while(iters-&gt;getps()!=oldps)
            {
                cout&lt;&lt;"原密码错误，请重新输入或者退出（N）：";
                cin&gt;&gt;oldps;
                if(oldps==out)
                    break;
            }
            if(iters-&gt;getps()==oldps)
            {
                cout&lt;&lt;"输入新密码：";
                iters-&gt;setps();
                cout&lt;&lt;"修改成功"&lt;&lt;endl;
                uc-&gt;writeToFile("user.txt");
            }
            break;

        case 6:
            break;
        }
    }
    while(i!=6);
}

void ro(list&lt;user&gt;::iterator iters)
{
    int i;
    if(iters-&gt;getsf()!=3)
    {
        cout&lt;&lt;"权限不足"&lt;&lt;endl;
        return;
    }
    cout&lt;&lt;"******读者管理子系统*****"&lt;&lt;endl;
    ReaderControl rc;
    rc.readFromFile("reader.txt");
    do
    {
        cout&lt;&lt;"1.读者信息输入"&lt;&lt;endl;
        cout&lt;&lt;"2.读者信息修改"&lt;&lt;endl;
        cout&lt;&lt;"3.读者信息删除"&lt;&lt;endl;
        cout&lt;&lt;"4.读者信息查询"&lt;&lt;endl;
        cout&lt;&lt;"5.读者信息显示（按读者姓氏排序）"&lt;&lt;endl;
        cout&lt;&lt;"6.返回主菜单"&lt;&lt;endl;
        cin&gt;&gt;i;
        switch(i)
        {
        case 1:
            rc.inputReader();
            rc.saveToFile("reader.txt");
            break;
        case 2:
            rc.changereaders();
            rc.saveToFile("reader.txt");
            break;
        case 3:
            rc.deletereader();
            rc.saveToFile("reader.txt");
            break;
        case 4:
            rc.finfreader();
            break;
        case 5:
            rc.printAllreaders();
            break;
        case 6:

            break;
        }
    }
    while(i!=6);
}
void bo(list&lt;user&gt;::iterator iters)
{
    int i;
    if(iters-&gt;getsf()==3)
    {
        cout&lt;&lt;"权限不足"&lt;&lt;endl;
        return;
    }
    cout&lt;&lt;"******图书管理子系统*****"&lt;&lt;endl;
    booksControl book;
    book.readFromFile("books.txt");
    do
    {
        cout&lt;&lt;"1.图书信息输入"&lt;&lt;endl;
        cout&lt;&lt;"2.图书信息修改"&lt;&lt;endl;
        cout&lt;&lt;"3.图书信息查询"&lt;&lt;endl;
        cout&lt;&lt;"4.汇总统计"&lt;&lt;endl;
        cout&lt;&lt;"5.返回主菜单"&lt;&lt;endl;
        cin&gt;&gt;i;
        switch(i)
        {
        case 1:
            if(iters-&gt;getsf()==1)
            {
                cout&lt;&lt;"权限不足，无法访问"&lt;&lt;endl;
            }
            else if(iters-&gt;getsf()==3||iters-&gt;getsf()==2)
            {
                book.inputBook();
                book.saveToFile("books.txt");
            }
            break;
        case 2:
            if(iters-&gt;getsf()==1)
            {
                cout&lt;&lt;"权限不足，无法访问"&lt;&lt;endl;
            }
            else if(iters-&gt;getsf()==3||iters-&gt;getsf()==2)
            {
                book.changebooks();
                book.saveToFile("books.txt");
            }
            break;
        case 3:
            book.readFromFile("books.txt");
            bf(book,iters);
            break;
        case 4:
            book.printAllBooks();
            break;
        case 5:

            break;
        }
    }
    while(i!=5);
}
void bmo(list&lt;user&gt;::iterator iters)
{
    int i;
    if(iters-&gt;getsf()!=2)
    {
        cout&lt;&lt;"权限不足，无法访问"&lt;&lt;endl;
        return;
    }
    system("cls");
    bookioControl bioc;
    cout&lt;&lt;"******图书流通管理子系统*****"&lt;&lt;endl;
    do
    {
        cout&lt;&lt;"1.借书处理"&lt;&lt;endl;
        cout&lt;&lt;"2.还书处理"&lt;&lt;endl;
        cout&lt;&lt;"3.返回主菜单"&lt;&lt;endl;
        cin&gt;&gt;i;
        switch(i)
        {
        case 1:
            bioc.outbook();
            break;
        case 2:
            bioc.inbook();
            break;
        case 3:

            break;
        }
    }
    while(i!=3);
}
void mo(userControl* uc,list&lt;user&gt;::iterator iters)
{
    int i;
    cout&lt;&lt;"欢迎进入图书管理系统主菜单"&lt;&lt;endl;
    do
    {
        cout&lt;&lt;"1.用户管理"&lt;&lt;endl;
        cout&lt;&lt;"2.读者管理"&lt;&lt;endl;
        cout&lt;&lt;"3.图书管理"&lt;&lt;endl;
        cout&lt;&lt;"4.图书流通管理"&lt;&lt;endl;
        cout&lt;&lt;"5.退出系统"&lt;&lt;endl;
        cin&gt;&gt;i;
        switch(i)
        {
        case 1:
            uo(uc,iters);
            break;
        case 2:
            ro(iters);
            break;
        case 3:
            bo(iters);
            break;
        case 4:
            bmo(iters);
            break;
        case 5:
            break;
        }
    }
    while(i!=5);
}



#endif // FUNCTION_H_INCLUDED
</code></pre> 
 <p>可执行的代码就是上面的部分，有人就会问了，“为什么出了user有cpp文件，其他头文件没有cpp文件呢？”，这个地方作者本人比较懒，在写头文件的时候之间就实现了函数，所以不需要cpp文件去实现头文件中定义的函数，一来这样写我认为比较方便修改与临时添加函数，二来就是windows上移植到linux时可以减少文件的传送量。</p> 
 <h4>main.cpp</h4> 
 <p>在主函数中只有短短几行，是整个系统进入的开始。</p> 
 <h4>user.cpp</h4> 
 <p>我的想法是先就创建一个空的user对象，从user对象的函数中设置了登录的函数，登录函数从user.txt文件中读取比对用户输入的账号是否存在，如果存在着继续输入密码，由于我将用户的信息都是读取到user对象组成的list列表，所以可以通过迭代器寻找到该账号所对应对象，在通过该对象的函数返回密码的字符串进行比对，如果正确则进行下一步进入到菜单界面。</p> 
 <h4>function.h</h4> 
 <p>该文件是整个系统的核心，说白了就是全部的菜单都在这一个文件中，感觉这应该是最简单的部分，就是一大堆的switch和case组合的东西，要注意的就是在每个菜单的函数中要传入最开始登录用户这个对象，因为要通过这个对象（当前对象）获取相应的权限（其实就是判断1，2，3这几个数），同理每个不同的子系统要传入不同类型对象的list链表，这样才能便于在对应的函数中调用对应模块的功能。</p> 
 <h4>reader.h</h4> 
 <p>由于user，reader，books三个文件中实现的部分功能存在相似之处，所以我在这里只详细介绍一下reader（读者管理）的功能实现。</p> 
 <p>首先，我们要定义reader类，用来实现存储每个单独的读者信息，由于未知后续的操作，所以我编写了返回每个成员变量的函数，以及相应的修改函数。并且这里还使用到了友元函数用来文件的读取与输出。接下来就是编写readerControl类，他的作用就像是一根绳子将每个单独的对象串在一起来管理，其中最基础的部分就是如何将文件中的内容准确的读取到链表中去，我在这里展示了其中的一种做法，当然只要能将数据读取与输出，用什么方法都无所谓了。</p> 
 <p>使用push_back将构造函数初始化好的对象直接加入链表，这一步对于c++而言十分简便，所以该系统并不推荐使用c语言编写，至于输入，修改，删除等一系列操作则都是对迭代器遍历链表的反复操作，具体细节见详细代码。</p> 
 <h4>books.h</h4> 
 <p>该文件中较为特殊的就是对于书籍的查询，将文件书的记录号以及书号通过迭代器一一获取，（由于本人在初次编写时将记录号以及书号的类型定义为了string类型，故需要将其转换为int类型，如果你的记录号以及书号原本就是int类型则不需要这一步），将获取到的书号以及记录号存入一个长度为迭代器返回最后一个对象的记录号长度（n）的二维数组之中（2列n行）,然后对书号进行从小到大的排序（该过程在将文件信息导入链表中同步进行），排序之后的数组就可以使用二分法查找对应的书号，再过书号获取对应的记录号，返回记录号之后就可以定位文件中书籍所在的具体位置进行输出。（由于时间有限，暂时只完成主索引部分）</p> 
 <h4>bookio.h</h4> 
 <p>借书还书部分是整个系统最综合的部分，需要使用到前面的reader和books文件，还需添加相应的函数实现对于书籍数目的变动，以及对于读者借阅书籍数量的变动。</p> 
 <p>总的来说也没多少人看到这里，爱看就看，不看拿上代码就肘也无所谓，但我希望读者能够保持自己的独立思考，结合我的代码对于自己的系统进行修改，而不是照搬使用。</p> 
 <p></p> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/aded3c50da4fad9cdc0d931cb5843c8d/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">生产环境部署与协同开发 Docker</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/aef09ff5ba2eb06b62e49595c1c992e9/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">AES加密解密</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 追风少年的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>