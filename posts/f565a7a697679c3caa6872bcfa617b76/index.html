<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【51单片机篇】LCD1602显示 - 追风少年的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="【51单片机篇】LCD1602显示" />
<meta property="og:description" content="一、初识LCD1602 1.LCD1602是一种工业字符型液晶，能够同时显示 16×02 即 32 字符(16列两行)。
2.引脚说明
二、显示逻辑 1.搞明白在哪里显示（地址）？显示什么（内容）？
在哪里显示 显示什么 三、时序分析 1.写操作时序
（1）RS=1:写内容；RS=0:写地址;
（2） RW = 0：写操作;
（3）E：从低电平上升到高电平（这个过程中延时25ns）,然后高电平持续150ns，最后从高电平下降到低电平（这个过程中延时25ns），延时时间可以用_nop_()函数代替。
2.读操作时序
（1）RS：通过指令9可知，RS=0;
（2）RW=1:读操作;
（3）E:从低电平上升到高电平（这个过程中延时25ns）,然后高电平持续150ns，最后从高电平下降到低电平（这个过程中延时25ns），延时时间可以用_nop_()函数代替。
四、代码示例 1.编程实现LCD1602显示字符&#39;C&#39;
#include &#34;reg52.h&#34; #include &lt;intrins.h&gt; #define databuffer P0//定义8位数据线，P0端口组 sbit RS = P1^0; sbit RW = P1^1; sbit EN = P1^4; void Check_Busy() { char tmp = 0x80; databuffer = 0x80; while(tmp &amp; 0x80){//比较最高位 RS = 0; RW = 1; EN = 0; _nop_(); EN = 1; _nop_(); _nop_(); tmp = databuffer; EN = 0; _nop_(); } } void Write_Cmd_Func(char cmd)//写指令，RS低电平 { Check_Busy(); RS = 0; RW = 0; EN = 0; _nop_();//空函数，延时1us databuffer = cmd; _nop_(); EN = 1; _nop_(); _nop_(); EN = 0; _nop_(); } void Write_Data_Func(char cmd)//写数据，RS高电平 { Check_Busy(); RS = 1; RW = 0; EN = 0; _nop_();//空函数，延时1us databuffer = cmd; _nop_(); EN = 1; _nop_(); _nop_(); EN = 0; _nop_(); } void Delay15ms()	//@11." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://zhuifengsn.github.io/posts/f565a7a697679c3caa6872bcfa617b76/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-08-13T23:56:17+08:00" />
<meta property="article:modified_time" content="2023-08-13T23:56:17+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="追风少年的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">追风少年的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【51单片机篇】LCD1602显示</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2><strong>一、初识LCD1602</strong></h2> 
<p>1.LCD1602是一种工业字符型液晶，能够同时显示 16×02 即 32 字符(16列两行)。<br>  2.引脚说明</p> 
<p><img alt="" height="364" src="https://images2.imgbox.com/f8/e9/9GmAm4Dy_o.png" width="726"></p> 
<p><img alt="" height="453" src="https://images2.imgbox.com/41/ba/Yk9RdBUh_o.png" width="689"></p> 
<h2><strong> 二、显示逻辑</strong></h2> 
<p>1.搞明白在哪里显示（地址）？显示什么（内容）？</p> 
<figure class="image"> 
 <img alt="" height="390" src="https://images2.imgbox.com/d1/01/H6BPe69c_o.png" width="731"> 
 <figcaption>
   在哪里显示 
 </figcaption> 
</figure> 
<figure class="image"> 
 <img alt="" height="814" src="https://images2.imgbox.com/50/5f/UidOYBIq_o.png" width="689"> 
 <figcaption>
   显示什么 
 </figcaption> 
</figure> 
<h2><strong> 三、时序分析</strong></h2> 
<p>1.写操作时序</p> 
<p><img alt="" height="338" src="https://images2.imgbox.com/30/48/mwVWYw77_o.png" width="716"></p> 
<p><img alt="" height="294" src="https://images2.imgbox.com/a4/c9/C3sLHIwG_o.png" width="748"></p> 
<p>（1）RS=1:写内容；RS=0:写地址;</p> 
<p>（2） RW = 0：写操作;</p> 
<p>（3）E：从低电平上升到高电平（这个过程中延时25ns）,然后高电平持续150ns，最后从高电平下降到低电平（这个过程中延时25ns），延时时间可以用_nop_()函数代替。</p> 
<p> 2.读操作时序</p> 
<p><img alt="" height="319" src="https://images2.imgbox.com/91/6c/8lpnrOZt_o.png" width="716"></p> 
<p><img alt="" height="494" src="https://images2.imgbox.com/c4/38/KVqdwnpZ_o.png" width="711"></p> 
<p>（1）RS：通过指令9可知，RS=0;</p> 
<p>（2）RW=1:读操作;</p> 
<p>（3）E:从低电平上升到高电平（这个过程中延时25ns）,然后高电平持续150ns，最后从高电平下降到低电平（这个过程中延时25ns），延时时间可以用_nop_()函数代替。</p> 
<h2><strong>四、代码示例</strong></h2> 
<p>1.编程实现LCD1602显示字符'C'</p> 
<pre><code class="language-cpp">#include "reg52.h"
#include &lt;intrins.h&gt;

#define databuffer  P0//定义8位数据线，P0端口组

sbit RS = P1^0;
sbit RW = P1^1;
sbit EN = P1^4;

void Check_Busy()
{
	char tmp = 0x80;
	databuffer = 0x80;
	
	while(tmp &amp; 0x80){//比较最高位
		RS = 0;
		RW = 1;
		EN = 0;
		_nop_();
		EN = 1;
		_nop_();
		_nop_();
		tmp = databuffer;
		EN = 0;
		_nop_();
	}
}

void Write_Cmd_Func(char cmd)//写指令，RS低电平 
{
	Check_Busy();
	RS = 0;
	RW = 0;
	EN = 0;
	_nop_();//空函数，延时1us
	databuffer = cmd;
	_nop_();
	EN = 1;
	_nop_();
	_nop_();
	EN = 0;
	_nop_();
}

void Write_Data_Func(char cmd)//写数据，RS高电平
{
	Check_Busy();
	RS = 1;
	RW = 0;
	
	EN = 0;
	_nop_();//空函数，延时1us
	databuffer = cmd;
	_nop_();
	EN = 1;
	_nop_();
	_nop_();
	EN = 0;
	_nop_();
}

void Delay15ms()		//@11.0592MHz
{
	unsigned char i, j;

	i = 27;
	j = 226;
	do
	{
		while (--j);
	} while (--i);
}

void Delay5ms()		//@11.0592MHz
{
	unsigned char i, j;

	i = 9;
	j = 244;
	do
	{
		while (--j);
	} while (--i);
}

void LCD1602_Init()
{
	//1.延时15ms
	Delay15ms();
	//2.写指令38H（不检测忙信号）
	Write_Cmd_Func(0x38);
	//3.延时5ms
	Delay5ms();
	//4.以后每次写指令，读/写数据操作均需要检测忙信号
	//5.写指令38H：显示模式设置
	Write_Cmd_Func(0x38);
	//6.写指令08H：显示关闭
	Write_Cmd_Func(0x08);
	//7.写指令01H：显示清屏
	Write_Cmd_Func(0x01);
	//8.写指令06H：显示光标移动设置
	Write_Cmd_Func(0x06);
	//9.写指令0CH:显示开及光标设置
	Write_Cmd_Func(0x0c);
}

void main()
{
	char pposition = 0x80 + 0x05;
	char dataShow = 'C';
	
	LCD1602_Init();
	
	Write_Cmd_Func(pposition);//要显示的地址
	Write_Data_Func(dataShow);//要显示的内容
}</code></pre> 
<p style="text-align:center;"><img alt="" height="284" src="https://images2.imgbox.com/57/f5/7lvUvGUO_o.jpg" width="557"></p> 
<p> 2.编程实现LCD1602显示一行</p> 
<pre><code class="language-cpp">#include "reg52.h"
#include &lt;intrins.h&gt;

#define databuffer  P0//定义8位数据线，P0端口组

sbit RS = P1^0;
sbit RW = P1^1;
sbit EN = P1^4;

void Check_Busy()
{
	char tmp = 0x80;
	databuffer = 0x80;
	
	while(tmp &amp; 0x80){//比较最高位
		RS = 0;
		RW = 1;
		EN = 0;
		_nop_();
		EN = 1;
		_nop_();
		_nop_();
		tmp = databuffer;
		EN = 0;
		_nop_();
	}
}

void Write_Cmd_Func(char cmd)//写指令，RS低电平 
{
	Check_Busy();
	RS = 0;
	RW = 0;
	EN = 0;
	_nop_();//空函数，延时1us
	databuffer = cmd;
	_nop_();
	EN = 1;
	_nop_();
	_nop_();
	EN = 0;
	_nop_();
}

void Write_Data_Func(char cmd)//写数据，RS高电平
{
	Check_Busy();
	RS = 1;
	RW = 0;
	
	EN = 0;
	_nop_();//空函数，延时1us
	databuffer = cmd;
	_nop_();
	EN = 1;
	_nop_();
	_nop_();
	EN = 0;
	_nop_();
}

void Delay15ms()		//@11.0592MHz
{
	unsigned char i, j;

	i = 27;
	j = 226;
	do
	{
		while (--j);
	} while (--i);
}

void Delay5ms()		//@11.0592MHz
{
	unsigned char i, j;

	i = 9;
	j = 244;
	do
	{
		while (--j);
	} while (--i);
}

void LCD1602_Init()
{
	//1.延时15ms
	Delay15ms();
	//2.写指令38H（不检测忙信号）
	Write_Cmd_Func(0x38);
	//3.延时5ms
	Delay5ms();
	//4.以后每次写指令，读/写数据操作均需要检测忙信号
	//5.写指令38H：显示模式设置
	Write_Cmd_Func(0x38);
	//6.写指令08H：显示关闭
	Write_Cmd_Func(0x08);
	//7.写指令01H：显示清屏
	Write_Cmd_Func(0x01);
	//8.写指令06H：显示光标移动设置
	Write_Cmd_Func(0x06);
	//9.写指令0CH:显示开及光标设置
	Write_Cmd_Func(0x0c);
}

void LCD1602_showLine(char row,char col,char *string)
{
	switch(row){
		case 1:
			Write_Cmd_Func(0x80+col);
			while(*string){
				Write_Data_Func(*string);
				string++;
			}
			break;
		case 2:
			Write_Cmd_Func(0x80+0x40+col);
			while(*string){
				Write_Data_Func(*string);
				string++;
			}
			break;
	}
}

void main()
{
	char pposition = 0x80 + 0x05;
	
	LCD1602_Init();
	LCD1602_showLine(1,5,"NO.1");
	LCD1602_showLine(2,2,"Hello China");
}</code></pre> 
<p style="text-align:center;"><img alt="" height="284" src="https://images2.imgbox.com/0b/b2/6GlkEHrw_o.jpg" width="582"></p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/17417f2c515ace4ad371594049419b21/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">《VM虚拟机网线已拔出解决方案》</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/091f089e0545a66893be9be4fcaeda98/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">玩转 JS 逆向：RPC 加持，爬虫效率飙升</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 追风少年的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>