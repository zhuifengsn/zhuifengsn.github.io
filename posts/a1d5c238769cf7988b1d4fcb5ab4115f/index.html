<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>C语言字符串详解 - 追风少年的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="C语言字符串详解" />
<meta property="og:description" content="目录
一、字符串的概念
二、占用内存的情况
三、字符串的初始化
四、字符串与指针
五、字符串的结尾标志
六、字符串常用的库函数
1、获取字符串的长度（strlen）
举个例子
运行效果
自己实现一个 strlen 函数
运行效果
2、字符串复制或赋值（strcpy）
自己实现一个 strcpy 函数
运行效果
3、字符串复制或赋值（strncpy）
自己实现一个 strncpy 函数
运行效果
4、字符串拼接（strcat）
自己实现一个 strncpy 函数 运行效果
5、字符串拼接（strncat）
自己实现一个 strncat 函数 运行效果
6、字符串比较（strcmp、strncmp）
自己实现一个strcmp 函数
运行效果 自己实现一个strncmp函数
运行效果
7、字符查找（strchr、strrchr）
自己实现一个strchr函数
运行效果 自己实现一个strrchr函数
8、字符串查找（strstr）
自己实现一个 strstr 函数
运行效果
一、字符串的概念 我们可以把字符串储存在char类型的数组中，如果char类型的数组末尾包含一个表示字符串末尾的空字符\0，则该数组中的内容就构成了一个字符串
因为字符串需要用\0结尾，所以在定义字符串的时候，字符数组的长度要预留多一个字节用来存放\0，\0就是数字0
例如
char name[21]; // 定义一个最多存放20个英文字符或十个中文的字符串 字符串也可以存放中文和全角的标点符号，一个中文字符占两个字节（GBK编码）。char strname[21]用于存放中文的时候，最多只能存10个汉字。字符串采用双引号包含起来，如：&#34;hello，world&#34;、&#34;你好C语言&#34; 二、占用内存的情况 一个字符占用一字节的内存，字符串定义时数组的大小就是字符串占用内存的大小
char str[21]; // 占用21字节的内存 char str[1024]; // 占用1024字节的内存 三、字符串的初始化 char name[21]; memset(name,0,sizeof(name));//采用memset函数初始化字符串 四、字符串与指针 数组名是数组元素的首地址，字符串是字符数组，所以在获取字符串的地址的时候，不需要用&amp;取地址" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://zhuifengsn.github.io/posts/a1d5c238769cf7988b1d4fcb5ab4115f/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-10-07T19:16:32+08:00" />
<meta property="article:modified_time" content="2022-10-07T19:16:32+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="追风少年的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">追风少年的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">C语言字符串详解</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p id="main-toc"><strong>目录</strong></p> 
<p id="-toc" style="margin-left:0px;"></p> 
<p id="%E4%B8%80%E3%80%81%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E6%A6%82%E5%BF%B5-toc" style="margin-left:0px;"><a href="#%E4%B8%80%E3%80%81%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E6%A6%82%E5%BF%B5" rel="nofollow">一、字符串的概念</a></p> 
<p id="%E4%BA%8C%E3%80%81%E5%8D%A0%E7%94%A8%E5%86%85%E5%AD%98%E7%9A%84%E6%83%85%E5%86%B5-toc" style="margin-left:0px;"><a href="#%E4%BA%8C%E3%80%81%E5%8D%A0%E7%94%A8%E5%86%85%E5%AD%98%E7%9A%84%E6%83%85%E5%86%B5" rel="nofollow">二、占用内存的情况</a></p> 
<p id="%E4%B8%89%E3%80%81%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E5%88%9D%E5%A7%8B%E5%8C%96-toc" style="margin-left:0px;"><a href="#%E4%B8%89%E3%80%81%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E5%88%9D%E5%A7%8B%E5%8C%96" rel="nofollow">三、字符串的初始化</a></p> 
<p id="%E5%9B%9B%E3%80%81%E5%AD%97%E7%AC%A6%E4%B8%B2%E4%B8%8E%E6%8C%87%E9%92%88-toc" style="margin-left:0px;"><a href="#%E5%9B%9B%E3%80%81%E5%AD%97%E7%AC%A6%E4%B8%B2%E4%B8%8E%E6%8C%87%E9%92%88" rel="nofollow">四、字符串与指针</a></p> 
<p id="%C2%A0%E4%BA%94%E3%80%81%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E7%BB%93%E5%B0%BE%E6%A0%87%E5%BF%97-toc" style="margin-left:0px;"><a href="#%C2%A0%E4%BA%94%E3%80%81%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E7%BB%93%E5%B0%BE%E6%A0%87%E5%BF%97" rel="nofollow"> 五、字符串的结尾标志</a></p> 
<p id="%E5%85%AD%E3%80%81%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%B8%B8%E7%94%A8%E7%9A%84%E5%BA%93%E5%87%BD%E6%95%B0-toc" style="margin-left:0px;"><a href="#%E5%85%AD%E3%80%81%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%B8%B8%E7%94%A8%E7%9A%84%E5%BA%93%E5%87%BD%E6%95%B0" rel="nofollow">六、字符串常用的库函数</a></p> 
<p id="1%E3%80%81%E8%8E%B7%E5%8F%96%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E9%95%BF%E5%BA%A6%EF%BC%88strlen%EF%BC%89-toc" style="margin-left:80px;"><a href="#1%E3%80%81%E8%8E%B7%E5%8F%96%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E9%95%BF%E5%BA%A6%EF%BC%88strlen%EF%BC%89" rel="nofollow">1、获取字符串的长度（strlen）</a></p> 
<p id="%E4%B8%BE%E4%B8%AA%E4%BE%8B%E5%AD%90-toc" style="margin-left:80px;"><a href="#%E4%B8%BE%E4%B8%AA%E4%BE%8B%E5%AD%90" rel="nofollow">举个例子</a></p> 
<p id="%E8%BF%90%E8%A1%8C%E6%95%88%E6%9E%9C-toc" style="margin-left:80px;"><a href="#%E8%BF%90%E8%A1%8C%E6%95%88%E6%9E%9C" rel="nofollow">运行效果</a></p> 
<p id="%E8%87%AA%E5%B7%B1%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%20strlen%20%E5%87%BD%E6%95%B0-toc" style="margin-left:80px;"><a href="#%E8%87%AA%E5%B7%B1%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%20strlen%20%E5%87%BD%E6%95%B0" rel="nofollow">自己实现一个 strlen 函数</a></p> 
<p id="%E8%BF%90%E8%A1%8C%E6%95%88%E6%9E%9C-toc" style="margin-left:80px;"><a href="#%E8%BF%90%E8%A1%8C%E6%95%88%E6%9E%9C" rel="nofollow">运行效果</a></p> 
<p id="2%E3%80%81%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%A4%8D%E5%88%B6%E6%88%96%E8%B5%8B%E5%80%BC%EF%BC%88strcpy%EF%BC%89-toc" style="margin-left:80px;"><a href="#2%E3%80%81%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%A4%8D%E5%88%B6%E6%88%96%E8%B5%8B%E5%80%BC%EF%BC%88strcpy%EF%BC%89" rel="nofollow">2、字符串复制或赋值（strcpy）</a></p> 
<p id="%C2%A0%E8%87%AA%E5%B7%B1%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%20strcpy%C2%A0%E5%87%BD%E6%95%B0-toc" style="margin-left:80px;"><a href="#%C2%A0%E8%87%AA%E5%B7%B1%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%20strcpy%C2%A0%E5%87%BD%E6%95%B0" rel="nofollow"> 自己实现一个 strcpy 函数</a></p> 
<p id="%E8%BF%90%E8%A1%8C%E6%95%88%E6%9E%9C-toc" style="margin-left:80px;"><a href="#%E8%BF%90%E8%A1%8C%E6%95%88%E6%9E%9C" rel="nofollow">运行效果</a></p> 
<p id="3%E3%80%81%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%A4%8D%E5%88%B6%E6%88%96%E8%B5%8B%E5%80%BC%EF%BC%88strncpy%EF%BC%89-toc" style="margin-left:40px;"><a href="#3%E3%80%81%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%A4%8D%E5%88%B6%E6%88%96%E8%B5%8B%E5%80%BC%EF%BC%88strncpy%EF%BC%89" rel="nofollow">3、字符串复制或赋值（strncpy）</a></p> 
<p id="%E8%87%AA%E5%B7%B1%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%20strncpy%C2%A0%E5%87%BD%E6%95%B0-toc" style="margin-left:80px;"><a href="#%E8%87%AA%E5%B7%B1%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%20strncpy%C2%A0%E5%87%BD%E6%95%B0" rel="nofollow">自己实现一个 strncpy 函数</a></p> 
<p id="%E8%BF%90%E8%A1%8C%E6%95%88%E6%9E%9C-toc" style="margin-left:80px;"><a href="#%E8%BF%90%E8%A1%8C%E6%95%88%E6%9E%9C" rel="nofollow">运行效果</a></p> 
<p id="4%E3%80%81%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%8B%BC%E6%8E%A5%EF%BC%88strcat%EF%BC%89-toc" style="margin-left:40px;"><a href="#4%E3%80%81%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%8B%BC%E6%8E%A5%EF%BC%88strcat%EF%BC%89" rel="nofollow">4、字符串拼接（strcat）</a></p> 
<p id="%E8%87%AA%E5%B7%B1%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%20strncpy%C2%A0%E5%87%BD%E6%95%B0%C2%A0-toc" style="margin-left:80px;"><a href="#%E8%87%AA%E5%B7%B1%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%20strncpy%C2%A0%E5%87%BD%E6%95%B0%C2%A0" rel="nofollow">自己实现一个 strncpy 函数 </a></p> 
<p id="%E8%BF%90%E8%A1%8C%E6%95%88%E6%9E%9C-toc" style="margin-left:80px;"><a href="#%E8%BF%90%E8%A1%8C%E6%95%88%E6%9E%9C" rel="nofollow">运行效果</a></p> 
<p id="%C2%A05%E3%80%81%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%8B%BC%E6%8E%A5%EF%BC%88strncat%EF%BC%89-toc" style="margin-left:40px;"><a href="#%C2%A05%E3%80%81%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%8B%BC%E6%8E%A5%EF%BC%88strncat%EF%BC%89" rel="nofollow"> 5、字符串拼接（strncat）</a></p> 
<p id="%E8%87%AA%E5%B7%B1%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%20strncat%C2%A0%E5%87%BD%E6%95%B0%C2%A0%C2%A0-toc" style="margin-left:80px;"><a href="#%E8%87%AA%E5%B7%B1%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%20strncat%C2%A0%E5%87%BD%E6%95%B0%C2%A0%C2%A0" rel="nofollow">自己实现一个 strncat 函数  </a></p> 
<p id="%E8%BF%90%E8%A1%8C%E6%95%88%E6%9E%9C-toc" style="margin-left:80px;"><a href="#%E8%BF%90%E8%A1%8C%E6%95%88%E6%9E%9C" rel="nofollow">运行效果</a></p> 
<p id="6%E3%80%81%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%AF%94%E8%BE%83%EF%BC%88strcmp%E3%80%81strncmp%EF%BC%89-toc" style="margin-left:40px;"><a href="#6%E3%80%81%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%AF%94%E8%BE%83%EF%BC%88strcmp%E3%80%81strncmp%EF%BC%89" rel="nofollow">6、字符串比较（strcmp、strncmp）</a></p> 
<p id="%E8%87%AA%E5%B7%B1%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AAstrcmp%20%E5%87%BD%E6%95%B0-toc" style="margin-left:80px;"><a href="#%E8%87%AA%E5%B7%B1%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AAstrcmp%20%E5%87%BD%E6%95%B0" rel="nofollow">自己实现一个strcmp 函数</a></p> 
<p id="%E8%BF%90%E8%A1%8C%E6%95%88%E6%9E%9C%C2%A0-toc" style="margin-left:80px;"><a href="#%E8%BF%90%E8%A1%8C%E6%95%88%E6%9E%9C%C2%A0" rel="nofollow">运行效果 </a></p> 
<p id="%E8%87%AA%E5%B7%B1%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AAstrncmp%E5%87%BD%E6%95%B0-toc" style="margin-left:80px;"><a href="#%E8%87%AA%E5%B7%B1%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AAstrncmp%E5%87%BD%E6%95%B0" rel="nofollow">自己实现一个strncmp函数</a></p> 
<p id="%E8%BF%90%E8%A1%8C%E6%95%88%E6%9E%9C-toc" style="margin-left:80px;"><a href="#%E8%BF%90%E8%A1%8C%E6%95%88%E6%9E%9C" rel="nofollow">运行效果</a></p> 
<p id="7%E3%80%81%E5%AD%97%E7%AC%A6%E6%9F%A5%E6%89%BE%EF%BC%88strchr%E3%80%81strrchr%EF%BC%89-toc" style="margin-left:40px;"><a href="#7%E3%80%81%E5%AD%97%E7%AC%A6%E6%9F%A5%E6%89%BE%EF%BC%88strchr%E3%80%81strrchr%EF%BC%89" rel="nofollow">7、字符查找（strchr、strrchr）</a></p> 
<p id="%E8%87%AA%E5%B7%B1%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AAstrchr%E5%87%BD%E6%95%B0-toc" style="margin-left:80px;"><a href="#%E8%87%AA%E5%B7%B1%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AAstrchr%E5%87%BD%E6%95%B0" rel="nofollow">自己实现一个strchr函数</a></p> 
<p id="%E8%BF%90%E8%A1%8C%E6%95%88%E6%9E%9C%C2%A0-toc" style="margin-left:80px;"><a href="#%E8%BF%90%E8%A1%8C%E6%95%88%E6%9E%9C%C2%A0" rel="nofollow">运行效果 </a></p> 
<p id="%E8%87%AA%E5%B7%B1%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AAstrrchr%E5%87%BD%E6%95%B0-toc" style="margin-left:80px;"><a href="#%E8%87%AA%E5%B7%B1%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AAstrrchr%E5%87%BD%E6%95%B0" rel="nofollow">自己实现一个strrchr函数</a></p> 
<p id="8%E3%80%81%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%9F%A5%E6%89%BE%EF%BC%88strstr%EF%BC%89-toc" style="margin-left:40px;"><a href="#8%E3%80%81%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%9F%A5%E6%89%BE%EF%BC%88strstr%EF%BC%89" rel="nofollow">8、字符串查找（strstr）</a></p> 
<p id="%C2%A0%E8%87%AA%E5%B7%B1%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%20strstr%20%E5%87%BD%E6%95%B0-toc" style="margin-left:80px;"><a href="#%C2%A0%E8%87%AA%E5%B7%B1%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%20strstr%20%E5%87%BD%E6%95%B0" rel="nofollow"> 自己实现一个 strstr 函数</a></p> 
<p id="%E8%BF%90%E8%A1%8C%E6%95%88%E6%9E%9C-toc" style="margin-left:80px;"><a href="#%E8%BF%90%E8%A1%8C%E6%95%88%E6%9E%9C" rel="nofollow">运行效果</a></p> 
<hr id="hr-toc"> 
<p></p> 
<h2 id="%E4%B8%80%E3%80%81%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E6%A6%82%E5%BF%B5">一、字符串的概念</h2> 
<p></p> 
<blockquote> 
 <p>我们可以把字符串储存在char类型的数组中，如果char类型的数组末尾包含一个表示字符串末尾的空字符<span style="color:#a2e043;">\0</span>，则该数组中的内容就构成了一个字符串</p> 
</blockquote> 
<p><img alt="" height="296" src="https://images2.imgbox.com/5c/51/ZWc1K2Nr_o.png" width="748"></p> 
<p>因为字符串需要用\0结尾，所以在定义字符串的时候，字符数组的长度要预留多一个字节用来存放\0，\0就是数字0</p> 
<p>例如</p> 
<pre><code class="language-cpp">char name[21];  // 定义一个最多存放20个英文字符或十个中文的字符串</code></pre> 
<ul><li>字符串也可以存放中文和全角的标点符号，一个中文字符占两个字节（GBK编码）。char strname[21]用于存放中文的时候，最多只能存10个汉字。</li><li>字符串采用双引号包含起来，如："hello，world"、"你好C语言"</li></ul> 
<h2 id="%E4%BA%8C%E3%80%81%E5%8D%A0%E7%94%A8%E5%86%85%E5%AD%98%E7%9A%84%E6%83%85%E5%86%B5">二、占用内存的情况</h2> 
<blockquote> 
 <p>一个字符占用一字节的内存，字符串定义时数组的大小就是字符串占用内存的大小</p> 
</blockquote> 
<pre><code class="language-cpp">  char str[21];     // 占用21字节的内存
  char str[1024];   // 占用1024字节的内存</code></pre> 
<h2 id="%E4%B8%89%E3%80%81%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E5%88%9D%E5%A7%8B%E5%8C%96">三、字符串的初始化</h2> 
<pre><code class="language-cpp">char name[21];
memset(name,0,sizeof(name));//采用memset函数初始化字符串</code></pre> 
<h2 id="%E5%9B%9B%E3%80%81%E5%AD%97%E7%AC%A6%E4%B8%B2%E4%B8%8E%E6%8C%87%E9%92%88">四、字符串与指针</h2> 
<blockquote> 
 <p><span style="color:#a2e043;">数组名是数组元素的首地址</span>，字符串是字符数组，<a name="_GoBack"></a>所以在获取字符串的地址的时候，不需要用&amp;取地址</p> 
</blockquote> 
<pre><code class="language-cpp">char name[21];
memset(name,0,sizeof(name));
strcpy(name,"hello,xiaoqiu");//把hello,xiaoqiu赋值给name
printf("%s\n",name);</code></pre> 
<h2 id="%C2%A0%E4%BA%94%E3%80%81%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E7%BB%93%E5%B0%BE%E6%A0%87%E5%BF%97"> 五、字符串的结尾标志</h2> 
<blockquote> 
 <ol><li>字符串的结尾标志是0，如果没有结尾标志，<span style="color:#a2e043;">后面的内容将被丢弃</span></li><li>结尾标志后面的内容如何处理</li></ol> 
</blockquote> 
<pre><code class="language-cpp">#include &lt;stdio.h&gt;
#include &lt;string.h&gt;

int main()
{

   char name[21];
   memset(name,0,sizeof(name));
   strcpy(name,"hello,xiaoqiu");//把hello,xiaoqiu赋值给name

   name[5]=0;//强制把第6个元素赋值为0   

   printf("%s\n",name);

   return 0;
}
</code></pre> 
<p>运行效果</p> 
<p><img alt="" height="107" src="https://images2.imgbox.com/84/4e/8WJC13c6_o.png" width="510"></p> 
<p>以上代码输出的结果是 <span style="color:#a2e043;">hello </span>，但是，在内存中的值仍是<span style="color:#a2e043;">hello0xiaoqiu</span>，后面的<span style="color:#a2e043;"> xiaoqiu</span> 成了内存中的垃圾值</p> 
<p>不要让字符串的内存中有垃圾值，容易产生意外的后果。这就是字符串的初始化不建议采用把第一个元素的值置为0的原因（name[0]=0）</p> 
<h2 id="%E5%85%AD%E3%80%81%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%B8%B8%E7%94%A8%E7%9A%84%E5%BA%93%E5%87%BD%E6%95%B0">六、字符串常用的库函数</h2> 
<h4 id="1%E3%80%81%E8%8E%B7%E5%8F%96%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E9%95%BF%E5%BA%A6%EF%BC%88strlen%EF%BC%89">1、获取字符串的长度（strlen）</h4> 
<pre><code class="language-cpp">size_t  strlen( const char*  str);</code></pre> 
<blockquote> 
 <ol><li>功能：计算字符串的有效长度，不包含 \0</li><li>返回值：返回字符串的字符数 </li><li>strlen 函数计算的是字符串的实际长度，遇到第一个\0结束</li><li>函数返回值一定是size_t，是无符号的整数，即typedef unsigned int size_t</li><li>如果您只定义字符串没有初始化，求它的长度是没意义的，它会从首地址一直找下去，遇到0停止</li><li>很多人对 <span style="color:#a2e043;">sizeof</span> 和 <span style="color:#a2e043;">strlen</span> 有点分不清楚 。sizeof 返回的是变量所占的内存数，不是实际内容的长度</li></ol> 
</blockquote> 
<h4 id="%E4%B8%BE%E4%B8%AA%E4%BE%8B%E5%AD%90">举个例子</h4> 
<pre><code class="language-cpp">#include &lt;stdio.h&gt;
#include &lt;string.h&gt;
int main()
{
    char name[21];
    memset(name,0,sizeof(0));
    strcpy(name,"xiaoqiu");

    printf("strlen=%d\n",strlen(name)); // 7
    printf("sizeof=%d\n",sizeof(name)); // 21  sizeof 返回的是变量所占的内存数

    return 0;
}
</code></pre> 
<h4 id="%E8%BF%90%E8%A1%8C%E6%95%88%E6%9E%9C">运行效果</h4> 
<p><img alt="" height="126" src="https://images2.imgbox.com/b8/ce/fbxYLmIE_o.png" width="452"></p> 
<h4 id="%E8%87%AA%E5%B7%B1%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%20strlen%20%E5%87%BD%E6%95%B0">自己实现一个 strlen 函数</h4> 
<pre><code class="language-cpp">#include &lt;stdio.h&gt;
#include &lt;string.h&gt;

int mystrlen(const char* str)
{   
    int i = 0;
    while( str[i]!='\0' ) {
     i++;
    }
    return i;
}

int main()
{
    char name1[21];
    memset(name1,0,sizeof(0));
    strcpy(name1,"xiaoqiu");

    char name2[21];
    memset(name2,0,sizeof(0));
    strcpy(name2,"baidu");

    printf("mystrlen=%d\n",mystrlen(name1)); // 7
    printf("mystrlen=%d\n",mystrlen(name2)); // 5

    return 0;
}
</code></pre> 
<h4>运行效果</h4> 
<p><img alt="" height="124" src="https://images2.imgbox.com/ee/4e/x7aCwCbL_o.png" width="447"></p> 
<h4 id="2%E3%80%81%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%A4%8D%E5%88%B6%E6%88%96%E8%B5%8B%E5%80%BC%EF%BC%88strcpy%EF%BC%89">2、字符串复制或赋值（strcpy）</h4> 
<pre><code class="language-cpp">char *strcpy(char* dest, const char* src);</code></pre> 
<blockquote> 
 <ol><li>功 能: 将参数src字符串拷贝至参数dest所指的地址</li><li>返回值: 返回参数dest的字符串起始地址</li><li>复制完字符串后，在dest后追加0</li><li>如果参数dest所指的内存空间不够大，可能会造成缓冲溢出的错误情况</li></ol> 
</blockquote> 
<h4 id="%C2%A0%E8%87%AA%E5%B7%B1%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%20strcpy%C2%A0%E5%87%BD%E6%95%B0"> 自己实现一个 strcpy 函数</h4> 
<pre><code class="language-cpp">#include &lt;stdio.h&gt;
#include &lt;string.h&gt;

char *mystrcpy(char* dest,const char* src)
{   
    size_t i = 0;
    
    while (src[i] != '\0') {
      dest[i] = src[i];
      i++;
    }
    
    dest[i]='\0';
    
    return dest;
}

int main()
{
    char name[21];
    memset(name,0,sizeof(0));
    mystrcpy(name,"xiaoqiu");

    printf("strlen=%d\n",strlen(name)); // 7
    printf("sizeof=%d\n",sizeof(name)); // 21

    return 0;
}
</code></pre> 
<h4>运行效果</h4> 
<p><img alt="" height="131" src="https://images2.imgbox.com/b2/85/3YqA8v43_o.png" width="439"></p> 
<h3 id="3%E3%80%81%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%A4%8D%E5%88%B6%E6%88%96%E8%B5%8B%E5%80%BC%EF%BC%88strncpy%EF%BC%89">3、字符串复制或赋值（strncpy）</h3> 
<pre><code class="language-cpp">char * strncpy(char* dest,const char* src, const size_t n);</code></pre> 
<blockquote> 
 <ol><li><strong>功能：把src前n字符的内容复制到dest中</strong></li><li><strong>返回值：dest字符串起始地址</strong></li><li><span style="color:#a2e043;"><strong>如果src字符串长度小于n，则拷贝完字符串后，在dest后追加0，直到n个</strong></span></li><li><span style="color:#a2e043;"><strong>如果src的长度大于等于n，就截取src的前n个字符，不会在dest后追加0</strong></span></li><li><strong>dest必须有足够的空间放置n个字符，否则可能会造成缓冲溢出的错误情况</strong></li></ol> 
</blockquote> 
<h4 id="%E8%87%AA%E5%B7%B1%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%20strncpy%C2%A0%E5%87%BD%E6%95%B0">自己实现一个 strncpy 函数</h4> 
<pre><code class="language-cpp">#include &lt;stdio.h&gt;
#include &lt;string.h&gt;

char *mystrncpy(char* dest,const char* src,const size_t n)
{
    int len = (strlen(src)&gt;n)?n:strlen(src);

    size_t i = 0;

    for (i=0;i&lt;len;i++) {
       dest[i] = src[i];
    }

    dest[i]='\0';

    return dest;
}

int main()
{
    char name[21];
    memset(name,0,sizeof(0));
    mystrncpy(name,"xiaoqiu",4);

    printf("strlen=%d\n",strlen(name)); // 4
    printf("sizeof=%d\n",sizeof(name)); // 21

    return 0;
}
</code></pre> 
<h4>运行效果</h4> 
<p><img alt="" height="124" src="https://images2.imgbox.com/b3/4a/WBAFcvGR_o.png" width="500"></p> 
<h3 id="4%E3%80%81%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%8B%BC%E6%8E%A5%EF%BC%88strcat%EF%BC%89">4、字符串拼接（strcat）</h3> 
<pre><code class="language-cpp">char *strcat(char* dest,const char* src);</code></pre> 
<blockquote> 
 <ol><li>功能：将src字符串拼接到dest所指的字符串尾部</li><li>返回值：返回dest字符串起始地址</li><li>dest最后原有的结尾字符0会被覆盖掉，并在连接后的字符串的尾部再增加一个0</li><li>dest要有足够的空间来容纳要拼接的字符串，否则可能会造成缓冲溢出的错误情况</li></ol> 
</blockquote> 
<h4 id="%E8%87%AA%E5%B7%B1%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%20strncpy%C2%A0%E5%87%BD%E6%95%B0%C2%A0">自己实现一个 strncpy 函数 </h4> 
<pre><code class="language-cpp">#include &lt;stdio.h&gt;
#include &lt;string.h&gt;

char *mystrcat(char* dest,const char* src)
{   
    int destlen = strlen(dest);
    
    int i = 0;
    
    for (i=0;i&lt;strlen(src);i++) {
     dest[destlen+i]=src[i];
    }
    
    dest[destlen+i]='\0';
}

int main()
{
    char name1[21];
    memset(name1,0,sizeof(0));
    strcpy(name1,"xiaoqiu");

    char name2[21];
    memset(name2,0,sizeof(0));
    strcpy(name2,"hello");
    mystrcat(name2,name1);

    printf("%s\n",name2);

    return 0;
}
</code></pre> 
<h4>运行效果</h4> 
<p><img alt="" height="108" src="https://images2.imgbox.com/2c/fa/21zgKSDE_o.png" width="524"></p> 
<h3 id="%C2%A05%E3%80%81%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%8B%BC%E6%8E%A5%EF%BC%88strncat%EF%BC%89"> 5、字符串拼接（strncat）</h3> 
<pre><code class="language-cpp">char *strncat (char* dest,const char* src, const size_t n);</code></pre> 
<blockquote> 
 <ol><li>功能：将src字符串的前n个字符拼接到dest所指的字符串尾部</li><li>返回值：返回dest字符串的起始地址</li><li>如果n大于等于字符串src的长度，那么将src全部追加到dest的尾部，如果n小于字符串src的长度，只追加src的前n个字符</li><li>strncat会将dest字符串最后的0覆盖掉，字符追加完成后，再追加0</li><li>dest要有足够的空间来容纳要拼接的字符串，否则可能会造成缓冲溢出的错误情况</li></ol> 
</blockquote> 
<h4 id="%E8%87%AA%E5%B7%B1%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%20strncat%C2%A0%E5%87%BD%E6%95%B0%C2%A0%C2%A0">自己实现一个 strncat 函数  </h4> 
<pre><code class="language-cpp">#include &lt;stdio.h&gt;
#include &lt;string.h&gt;

char *mystrncat(char* dest,const char* src,size_t n)
{
    /*  方法一
    int len = strlen(src);

    if (len &gt; n) len = n;

    else if (len &lt; n) len = strlen(src);
    */

    // 方法二
    int len = (strlen(src)&gt;n)?n:strlen(src);


    int destlen = strlen(dest);

    int i = 0;

    for (i=0;i&lt;len;i++) {
     dest[destlen+i]=src[i];
    }

    dest[destlen+i]='\0';
}

int main()
{
    char name1[21];
    memset(name1,0,sizeof(0));
    strcpy(name1,"xiaoqiu");

    char name2[21];
    memset(name2,0,sizeof(0));
    strcpy(name2,"hello");
    mystrncat(name2,name1,4);

    printf("%s\n",name2);

    return 0;
}</code></pre> 
<h4>运行效果</h4> 
<p><img alt="" height="103" src="https://images2.imgbox.com/22/26/YbLrSXx8_o.png" width="490"></p> 
<h3 id="6%E3%80%81%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%AF%94%E8%BE%83%EF%BC%88strcmp%E3%80%81strncmp%EF%BC%89">6、字符串比较（strcmp、strncmp）</h3> 
<pre><code class="language-cpp">int strcmp(const char *str1, const char *str2 );</code></pre> 
<blockquote> 
 <p>功能：比较str1和str2的大小</p> 
 <p>返回值：相等返回0，str1大于str2返回1，str1小于str2返回-1</p> 
</blockquote> 
<h4 id="%E8%87%AA%E5%B7%B1%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AAstrcmp%20%E5%87%BD%E6%95%B0">自己实现一个strcmp 函数</h4> 
<pre><code class="language-cpp">#include &lt;stdio.h&gt;
#include &lt;string.h&gt;

int mystrcmp(const char *str1,const char *str2)
{    
     int i = 0;
     int len = 0;//  str1 和 str2 较短的字符串长度
     
     if ( strlen(str1) &gt; strlen(str2) )  len = strlen(str2);
     
     else len = strlen(str1);
     
     for (i = 0;i &lt; len;i++) {
       if (str1[i]==str2[i]) continue;
       else break;
     }
     
     // 两个字符串相等
     if ( (i==len) &amp;&amp; (strlen(str1)==strlen(str2))  ) return 0;
     
     // 两个字符串不相等
     else if (str1[i]&gt;str2[i]) return 1;
     
     else return -1;
}    

int main()
{
    char name1[21];
    memset(name1,0,sizeof(0));
    strcpy(name1,",xiaoqiu");

    char name2[21];
    memset(name2,0,sizeof(0));
    strcpy(name2,"hello");

    printf("%d\n",mystrcmp(name1,name2));

    return 0;
}
                               </code></pre> 
<h4 id="%E8%BF%90%E8%A1%8C%E6%95%88%E6%9E%9C%C2%A0">运行效果 </h4> 
<p><img alt="" height="99" src="https://images2.imgbox.com/f0/5b/j2MXCyME_o.png" width="452"></p> 
<pre><code class="language-cpp">int strncmp(const char *str1,const char *str2 ,const size_t n);</code></pre> 
<blockquote> 
 <p>功能：比较str1和str2前n个字符的大小</p> 
 <p>返回值：相等返回0，str1大于str2返回1，str1小于str2返回-1</p> 
 <p>两个字符串比较的方法是比较字符的ASCII码的大小，从两个字符串的第一个字符开始，如果分不出大小，就比较第二个字符，如果全部的字符都分不出大小，就返回0，表示两个字符串相等</p> 
</blockquote> 
<h4 id="%E8%87%AA%E5%B7%B1%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AAstrncmp%E5%87%BD%E6%95%B0">自己实现一个strncmp函数</h4> 
<pre><code class="language-cpp">#include &lt;stdio.h&gt;
#include &lt;string.h&gt;

int mystrcmp(const char *str1,const char *str2,size_t n)
{   
    int i = 0;
    
    for (i = 0;i &lt; n;i++) {
     if (str1[i]==str2[i]) continue;
     else break;
    }
    
    if (i==n) return 0;
    
    else if (str1[i]&gt;str2[i]) return 1;
    
    else return -1;
}

int main()
{
    char name1[21];
    memset(name1,0,sizeof(0));
    strcpy(name1,",xiaoqiu");

    char name2[21];
    memset(name2,0,sizeof(0));
    strcpy(name2,"hello");

    printf("%d\n",mystrcmp(name1,name2,4));

    return 0;
}
</code></pre> 
<h4>运行效果</h4> 
<p><img alt="" height="106" src="https://images2.imgbox.com/be/6b/59ulCkX2_o.png" width="475"></p> 
<h3 id="7%E3%80%81%E5%AD%97%E7%AC%A6%E6%9F%A5%E6%89%BE%EF%BC%88strchr%E3%80%81strrchr%EF%BC%89">7、字符查找（strchr、strrchr）</h3> 
<pre><code class="language-cpp">char *strchr(const char *s,const int c);</code></pre> 
<p>返回一个指向在字符串s中第一个出现c的位置，如果找不到，返回0</p> 
<h4 id="%E8%87%AA%E5%B7%B1%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AAstrchr%E5%87%BD%E6%95%B0">自己实现一个strchr函数</h4> 
<pre><code class="language-cpp">#include &lt;stdio.h&gt;
#include &lt;string.h&gt;

char *mystrchr(const char *s,const int c)
{   
    int i = 0;
    
    int len = strlen(s);
    
    for (i = 0;i&lt;len;i++) {
       if (s[i]==c) 
       return (char *)s+i;
    }
    return 0;
}

int main()
{
    char name1[21];
    memset(name1,0,sizeof(0));
    strcpy(name1,",xiaoqiu");

    printf("%s\n",mystrchr(name1,'q'));

    return 0;
}
</code></pre> 
<h4>运行效果 </h4> 
<p><img alt="" height="102" src="https://images2.imgbox.com/b3/ce/EsRi9GgZ_o.png" width="495"> </p> 
<pre><code class="language-cpp">char *strrchr(const char *s,const int c);</code></pre> 
<p>返回一个指向在字符串s中最后一个出现c的位置，如果找不到，返回0</p> 
<h4 id="%E8%87%AA%E5%B7%B1%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AAstrrchr%E5%87%BD%E6%95%B0">自己实现一个strrchr函数</h4> 
<pre><code class="language-cpp">#include &lt;stdio.h&gt;
#include &lt;string.h&gt;

char *mystrrchr(const char *s,const int c)
{
    int i = 0;

    for (i = strlen(s)-1;i&gt;=0;i--) {
       if (s[i]==c)
       return (char *)s+i;
    }
    return 0;
}

int main()
{
    char name1[21];
    memset(name1,0,sizeof(0));
    strcpy(name1,",qqqxiaoqiu");

    printf("%s\n",mystrrchr(name1,'q'));

    return 0;
}
</code></pre> 
<p>运行效果</p> 
<p><img alt="" height="101" src="https://images2.imgbox.com/5d/31/6s6WjFJm_o.png" width="496">  </p> 
<h3 id="8%E3%80%81%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%9F%A5%E6%89%BE%EF%BC%88strstr%EF%BC%89">8、字符串查找（strstr）</h3> 
<pre><code class="language-cpp">char *strstr(const char* str,const char* substr);</code></pre> 
<blockquote> 
 <ol><li>功能：检索子串在字符串中首次出现的位置</li><li>返回值：返回字符串str中第一次出现子串substr的地址；如果没有检索到子串，则返回0</li></ol> 
</blockquote> 
<h4 id="%C2%A0%E8%87%AA%E5%B7%B1%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%20strstr%20%E5%87%BD%E6%95%B0"> 自己实现一个 strstr 函数</h4> 
<pre><code class="language-cpp">#include &lt;stdio.h&gt;
#include &lt;string.h&gt;

char *mystrstr(const char* str,const char* substr)
{   
    char* pos = (char *)str;//要被检索的 C 字符串
    char* pos1 = NULL;
    
    while (1) {
      
      if (pos[0]==0) break; // 如果要被检索的 C 字符串已经结束 break
      
      pos1 = strchr(pos,substr[0]); // 在pos中查找子字符串的首字符。
      
      if (pos == 0) return 0; // 如果没有找到，直接返回0
      
      if ( strncmp(pos1,substr,strlen(substr)) ==0  )  return pos1;// 如果找到了，返回找到的地址。
      
      pos++;// 待搜索的位置后移一个字节。
    }

}

int main()
{
    char name1[21];
    memset(name1,0,sizeof(0));
    strcpy(name1,",qqqxiaoqiu");

    printf("%s\n",mystrstr(name1,"xiao"));

    return 0;
}

</code></pre> 
<h4>运行效果</h4> 
<p><img alt="" height="101" src="https://images2.imgbox.com/79/78/pctLUT6q_o.png" width="476"></p> 
<p> </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/56eea08a86e31fda3fd17bf9b744cfc1/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">QQ群计数器统计器使用教程</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/6fdf64b2a53cf22dd7201b2d8d6fc963/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">告别csdn，迁移到自己的博客网站</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 追风少年的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>