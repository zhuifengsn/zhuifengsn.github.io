<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>三维视觉之数字图像处理基础（五） 图像几何变换 - 追风少年的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="三维视觉之数字图像处理基础（五） 图像几何变换" />
<meta property="og:description" content="图像几何变换 1 图像几何变换模型 刚性变换有三个参数：旋转角度θ、平移向量（tx，ty），刚性变换不改变图像内部结构的长度和角度。
相似变换有四个参数：旋转角度θ、平移向量（tx，ty）、尺度变换参数s。相当于图像的旋转平移缩放变换组合。
仿射变换有六个参数：线性变换参数abcd，平移向量（tx，ty）。会改变目标结构的长度，也会改变角度，但是原有结构里面平行关系的结构会的到保持，例如上图平行四边形，平行的边依然保持平行。
仿射变换参数求解：
例子：
投影变换（透视变换）：有8个自由度，经常应用于图像拼接，用相机拍摄后的图片就存在透视变换。
2 图像插值 为什么需要图像插值？：图像旋转或者缩放之后，对于坐标位置(x,y),x、y不是整数，如何获取(x,y)处的图像灰度值？
2.1 一维线性插值 2.2 双线性插值 在水平和竖直方向做两次线性插值。
上图，从左向右为：6464像素的图像、最近邻差值后512512像素的图像、双线性插值512*512像素的图像
3 应用举例 3.1 无人机图像拼接 图像拼接可以将无人机获得的多张图像拼接成视场更大的图像，以获得更好的整体感知效果。随着待拼接的图像数量的增加，普通的基于两两配准的图像拼接方法得到的拼接结果变形会越来越严重（几何配准的累计误差、场景非平面等因素）。
为了得到好的拼接结果，通常需要引入GPS/IMU、GCP等信息获取相机姿态；或者利用卫星图像作为基准图像，把拼接图像与参考图像配准后，叠加在参考图像上。
如果这些信息都不可用，对于成百上千的待拼接图像，如何获得良好的拼接结果？
图像变换为投影变换，拼接目标函数的数据项表示配准的特征点之间的距离（越小越好）；正则项为了保持图像变换尽量为刚性变换的模型，所以g和h要尽量为0，这样abcd趋向一个刚性变换(整个变换矩阵趋向于一个旋转矩阵)，由旋转矩阵可得：正则项的前三项表示相互正交且模为1。
拼接流程：
1、对多幅输入的图像进行特征提取和匹配，上图用到sift特征提取。
2、初始化特征变换，初始化为了效率，采用仿射变形参数
3、全局优化，
4、特征融合，消除拼接缝
随机采样一致性算法（RANSAC）
模型参数拟合时，数据中经常会有噪声。
RANSAC算法思想：
进行K次采样，根据模型获得的支持度参数，将点进行分类：
此时的模型，获得了最大的支持度，支持这个模型的点称为“内点”。用所有的内点，重新拟合一个参数，作为最终的拟合参数。
RANSAC算法是一个鲁棒的参数拟合算法" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://zhuifengsn.github.io/posts/dc3986e4888d5798aeaa1a9e855316f4/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-05-17T22:18:34+08:00" />
<meta property="article:modified_time" content="2023-05-17T22:18:34+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="追风少年的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">追风少年的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">三维视觉之数字图像处理基础（五） 图像几何变换</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="_0"></a>图像几何变换</h2> 
<h3><a id="1__1"></a>1 图像几何变换模型</h3> 
<p><img src="https://images2.imgbox.com/25/56/oXQLHiTV_o.png" alt="在这里插入图片描述"><br> <strong>刚性变换有三个参数：旋转角度θ、平移向量（tx，ty），刚性变换不改变图像内部结构的长度和角度。</strong><br> <img src="https://images2.imgbox.com/c2/2d/gK0BWt2s_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/fe/ac/V87JnGOf_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/db/6a/dmw6nzXP_o.png" alt="在这里插入图片描述"><br> <strong>相似变换有四个参数：旋转角度θ、平移向量（tx，ty）、尺度变换参数s。相当于图像的旋转平移缩放变换组合。</strong><br> <img src="https://images2.imgbox.com/1f/b8/D9RHe56W_o.png" alt="在这里插入图片描述"><br> <strong>仿射变换有六个参数：线性变换参数abcd，平移向量（tx，ty）。会改变目标结构的长度，也会改变角度，但是原有结构里面平行关系的结构会的到保持</strong>，例如上图平行四边形，平行的边依然保持平行。<br> <img src="https://images2.imgbox.com/db/56/gbpIZEt8_o.png" alt="在这里插入图片描述"><br> <strong>仿射变换参数求解</strong>：<br> <img src="https://images2.imgbox.com/4f/54/7yH5tZqt_o.png" alt="在这里插入图片描述"><br> <strong>例子：</strong><br> <img src="https://images2.imgbox.com/bd/3e/57opdSdS_o.png" alt="在这里插入图片描述"><br> <strong>投影变换（透视变换）</strong>：有8个自由度，经常应用于图像拼接，用相机拍摄后的图片就存在透视变换。<br> <img src="https://images2.imgbox.com/1b/a2/NWmFVpT7_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/6e/41/71n5xwfR_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/08/aa/czcS1i8v_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="2__21"></a>2 图像插值</h3> 
<p>为什么需要图像插值？：图像旋转或者缩放之后，对于坐标位置(x,y),x、y不是整数，如何获取(x,y)处的图像灰度值？</p> 
<p><img src="https://images2.imgbox.com/b2/b0/Uh83RH0S_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/7d/3d/mqF44JEn_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="21__26"></a>2.1 一维线性插值</h4> 
<p><img src="https://images2.imgbox.com/5c/f0/QIZhOgYQ_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="22__28"></a>2.2 双线性插值</h4> 
<p><img src="https://images2.imgbox.com/84/17/lyMJQmA7_o.png" alt="在这里插入图片描述"><br> 在水平和竖直方向做两次线性插值。<br> <img src="https://images2.imgbox.com/15/c7/Eu5dvzQO_o.png" alt="在这里插入图片描述"><br> 上图，从左向右为：64<em>64像素的图像、最近邻差值后512</em>512像素的图像、双线性插值512*512像素的图像</p> 
<h3><a id="3__34"></a>3 应用举例</h3> 
<h4><a id="31__35"></a>3.1 无人机图像拼接</h4> 
<p>图像拼接可以将无人机获得的多张图像拼接成视场更大的图像，以获得更好的整体感知效果。随着待拼接的图像数量的增加，普通的基于两两配准的图像拼接方法得到的拼接结果变形会越来越严重（几何配准的累计误差、场景非平面等因素）。<br> 为了得到好的拼接结果，通常需要引入GPS/IMU、GCP等信息获取相机姿态；或者利用卫星图像作为基准图像，把拼接图像与参考图像配准后，叠加在参考图像上。<br> 如果这些信息都不可用，对于成百上千的待拼接图像，如何获得良好的拼接结果？<br> <img src="https://images2.imgbox.com/19/1e/oQXUzUE7_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/8d/7f/ON9fcp3B_o.png" alt="在这里插入图片描述"><br> 图像变换为投影变换，拼接目标函数的<strong>数据项</strong>表示配准的特征点之间的距离（越小越好）；<strong>正则项</strong>为了保持图像变换尽量为刚性变换的模型，所以g和h要尽量为0，这样abcd趋向一个刚性变换(整个变换矩阵趋向于一个旋转矩阵)，由旋转矩阵可得：正则项的前三项表示相互正交且模为1。</p> 
<p><strong>拼接流程：</strong><br> <img src="https://images2.imgbox.com/3c/ff/8UZSDBcv_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/8b/bc/JrjZGOpe_o.png" alt="在这里插入图片描述"></p> 
<p>1、对多幅输入的图像进行特征提取和匹配，上图用到sift特征提取。<br> 2、初始化特征变换，初始化为了效率，采用仿射变形参数<br> 3、全局优化，<br> 4、特征融合，消除拼接缝</p> 
<p><strong>随机采样一致性算法（RANSAC）</strong><br> 模型参数拟合时，数据中经常会有噪声。<br> <img src="https://images2.imgbox.com/b0/da/lLqkDZKB_o.png" alt="在这里插入图片描述"><br> <strong>RANSAC算法思想：</strong><br> <img src="https://images2.imgbox.com/cf/d1/eJBTwpL0_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/2d/a2/ub3i3UkQ_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/dc/e4/P6Syj8uO_o.png" alt="在这里插入图片描述"><br> 进行K次采样，根据模型获得的支持度参数，将点进行分类：<br> <img src="https://images2.imgbox.com/ec/ed/2BemD4jd_o.png" alt="在这里插入图片描述"><br> 此时的模型，获得了最大的支持度，支持这个模型的点称为“<strong>内点</strong>”。用所有的内点，重新拟合一个参数，作为最终的拟合参数。<br> <img src="https://images2.imgbox.com/6a/db/Q0rNRMcj_o.png" alt="在这里插入图片描述"><br> RANSAC算法是一个鲁棒的参数拟合算法<br> <img src="https://images2.imgbox.com/69/b9/2zjm8tTN_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/3b/ae/CkTZc4Be_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/16/d5/YExUERB5_o.png" alt="在这里插入图片描述"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/2f32782fb5035aab8ed6bb747a17d11e/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Android Studio初学者实例：SharedPreferences 登录/注册模块实现</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/c1d0921c2f943845334413c25202b758/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">为什么spring要使用三级缓存？</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 追风少年的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>