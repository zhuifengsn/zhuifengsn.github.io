<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Linux之部署前后端分离项目 - 追风少年的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Linux之部署前后端分离项目" />
<meta property="og:description" content="Nginx配置安装 1.安装依赖 我们这里安装的依赖是有4个的
[root@localhost opt]# yum -y install gcc zlib zlib-devel pcre-devel openssl openssl-devel 2.上传解压安装包 [root@localhost opt]# tar -xvf nginx-1.13.7.tar.gz -C /usr/local/java/ 3.安装Nginx （1）进入安装包目录
cd nginx-1.13.7 （2）安装ssl证书
./configure --with-http_stub_status_module --with-http_ssl_module （3）安装编译
make &amp;&amp; make install 启动 nginx 服务 安装好的 nginx 服务在 /usr/local/nginx 下：
进入 /usr/local/nginx/sbin 目录下启动：
启动：./nginx
重启：./nginx -s reload
关闭：./nginx -s stop
下载lsof命令：yum install -y lsof
查看端口：lsof -i:端口号、kill -9 pid
开放端口 （1）开放端口
firewall-cmd --zone=public --add-port=80/tcp --permanent （2）刷新防火墙规则
firewall-cmd --reload （3）查看防火墙列表" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://zhuifengsn.github.io/posts/54d958e5d615f83d08b5988e1f0537dc/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-02-25T22:17:56+08:00" />
<meta property="article:modified_time" content="2024-02-25T22:17:56+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="追风少年的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">追风少年的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Linux之部署前后端分离项目</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h3> Nginx配置安装</h3> 
<h5>1.安装依赖</h5> 
<p>我们这里安装的依赖是有4个的</p> 
<pre><code>[root@localhost opt]# yum -y install gcc zlib zlib-devel pcre-devel openssl openssl-devel</code></pre> 
<h5>2.上传解压安装包</h5> 
<pre><code>[root@localhost opt]# tar -xvf nginx-1.13.7.tar.gz -C /usr/local/java/
</code></pre> 
<h5>3.安装Nginx</h5> 
<p>（1）进入安装包目录</p> 
<pre><code>cd nginx-1.13.7
</code></pre> 
<p>（2）安装ssl证书</p> 
<pre><code>./configure --with-http_stub_status_module --with-http_ssl_module</code></pre> 
<p>（3）安装编译</p> 
<pre><code>make &amp;&amp; make install</code></pre> 
<h4 id="4.%20%E5%90%AF%E5%8A%A8%20nginx%20%E6%9C%8D%E5%8A%A1">启动 nginx 服务</h4> 
<p>安装好的 nginx 服务在 /usr/local/nginx 下：</p> 
<p><img alt="" height="274" src="https://images2.imgbox.com/ec/d0/0pFlaCA1_o.png" width="661"></p> 
<p>进入 /usr/local/nginx/sbin 目录下启动：</p> 
<blockquote> 
 <p>启动：./nginx</p> 
</blockquote> 
<blockquote> 
 <p>重启：./nginx -s reload</p> 
</blockquote> 
<blockquote> 
 <p>关闭：./nginx -s stop</p> 
</blockquote> 
<blockquote> 
 <p>下载lsof命令：yum install -y lsof</p> 
</blockquote> 
<blockquote> 
 <p>查看端口：lsof -i:端口号、kill -9 pid</p> 
</blockquote> 
<h4 id="5.%20%E5%AF%B9%E5%A4%96%E5%BC%80%E6%94%BE%E7%AB%AF%E5%8F%A3">开放端口</h4> 
<p>（1）开放端口</p> 
<pre><code>firewall-cmd --zone=public --add-port=80/tcp --permanent</code></pre> 
<p>（2）刷新防火墙规则</p> 
<pre><code>firewall-cmd --reload</code></pre> 
<p>（3）查看防火墙列表</p> 
<pre><code>firewall-cmd --zone=public --list-ports</code></pre> 
<h4 id="6.%20%E9%85%8D%E7%BD%AE%E5%BC%80%E6%9C%BA%E8%87%AA%E5%90%AF%E5%8A%A8">配置开机自启动</h4> 
<pre><code>vim /etc/rc.d/rc.local
/usr/local/nginx/sbin/nginx</code></pre> 
<p id="7.%E4%BF%AE%E6%94%B9%2Fetc%2Frc.d%2Frc.local%E7%9A%84%E6%9D%83%E9%99%90">并且修改/etc/rc.d/rc.local的权限</p> 
<pre><code>cd /etc/rx.d/
chom 755 rc.local</code></pre> 
<h3 id="%E4%BA%8C%E3%80%81%E5%90%8E%E7%AB%AF%E9%83%A8%E7%BD%B2tomcat%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1">后端部署Tomcat负载均衡</h3> 
<p>准备工作就是我们要准备两到三个Tomcat，本文使用的是两个Tomcat</p> 
<pre><code>cp -r apache-tomcat-8.5.20/ apache-tomcat-8.5.20-8081/</code></pre> 
<h5>修改Tomcat的端口 </h5> 
<pre><code>cd apache-tomcat-8.5.20-8081/conf/</code></pre> 
<p>进入vim server.xml文件进行编写</p> 
<blockquote> 
 <p>HTTP端口，默认8080，改为8081</p> 
 <p>远程停服务端口，默认8005，改为8006</p> 
 <p>AJP端口，默认8009，如下改,8010</p> 
 <h5><img alt="" height="105" src="https://images2.imgbox.com/21/f1/PEmc1ghp_o.png" width="650"></h5> 
</blockquote> 
<h5 id="3.%20%E5%90%AF%E5%8A%A8%E4%B8%A4%E4%B8%AAtomcat">启动两个Tomcat</h5> 
<p>开放8081的端口：</p> 
<pre><code>firewall-cmd --zone=public --add-port=8081/tcp --permanent</code></pre> 
<h5 id="4.Nginx%E9%85%8D%E7%BD%AE%20%C2%A0"><strong>Nginx配置</strong> </h5> 
<p>进入nginx.conf目录</p> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<blockquote> 
 <p>upstream  tomcat_list {  #服务器集群名字<br>     server    127.0.0.1:8080  weight=1;   #服务器1   weight是权重的意思，权重越大，分配的概率越大。<br>     server    127.0.0.1:8081  weight=1; #服务器2   weight是权重的意思，权重越大，分配的概率越大</p> 
 <p><img alt="" height="276" src="https://images2.imgbox.com/2c/5f/h1owTbjW_o.png" width="957"></p> 
</blockquote> 
<blockquote> 
 <p>upstream  tomcat_list {  #服务器集群名字<br>     server    127.0.0.1:8080  weight=1;   #服务器1   weight是权重的意思，权重越大，分配的概率越大。<br>     server    127.0.0.1:8081  weight=1; #服务器2   weight是权重的意思，权重越大，分配的概率越大<br> } </p> 
 <p><img alt="" height="83" src="https://images2.imgbox.com/53/10/YRfIu4uO_o.png" width="600"></p> 
 <p>将后面的注示去掉，添加</p> 
 <p>proxy_pass  http://tomcat_list</p> 
</blockquote> 
<h5>重启Nginx服务</h5> 
<p>重新启动Nginx服务，我们的配置就生效了</p> 
<blockquote> 
 <p>systemct restart nginx或者进入 /usr/local/nfinx/sbin 目录下重启./nginx -s reload</p> 
</blockquote> 
<h3 id="main-toc">前端部署</h3> 
<p>在/usr/local下创建一个文件夹，进入把我们需要的项目前端放到里面进行再解压</p> 
<pre><code>[root@localhost bin]# cd /usr/local
[root@localhost local]# mkdir mypro
[root@localhost local]# cd mypro/</code></pre> 
<blockquote> 
 <p>解压要使用unzip命令，要下载，输入：yum install -y unzip</p> 
 <p>再进行解压：unzip blog.zip</p> 
 <p>并且</p> 
 <p><strong>C:\Windows\System32\drivers\etc\hosts中增加映射关系</strong> </p> 
</blockquote> 
<h5>重启nginx服务</h5> 
<blockquote> 
 <p>[root@localhost conf]# cd ../sbin<br> [root@localhost sbin]# ./nginx -s reload</p> 
</blockquote> 
<p><img alt="" height="333" src="https://images2.imgbox.com/d9/2c/YKC4pmAB_o.png" width="614"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/9d31b5956db1701e8279206b04826beb/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">智能SQL生成：后端技术与LLM的完美结合</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/c096f04e4b4d57ed6578ed397efb1105/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">HTTP---------状态码</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 追风少年的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>