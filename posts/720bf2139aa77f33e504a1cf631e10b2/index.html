<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Linux大实验 (图书管理系统) - 追风少年的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Linux大实验 (图书管理系统)" />
<meta property="og:description" content="《程序设计基础综合实验》讲义 综合实验又称为课程设计，需要学生综合运用所学知识解决与实际应用紧密结合的、规模较大的问题，通过分析、设计、编码和调试等各环节的训练，使学生深刻理解、牢固掌握、综合运用数据结构和算法设计技术，增强分析问题、解决问题的能力，培养项目管理与团队合作精神。
本课程要求实验采用基本的软件工程开发方法，将软件开发过程分为需求分析、系统设计、编码实现、系统测试4个阶段。每个阶段设置相应的里程碑进行检查，对学生的设计过程进行评价。
（1）需求分析阶段
首先要充分分析和理解问题，明确要求做什么？限制条件是什么？即要确定需要实验那些功能（任务），并对所需完成的任务做出明确的回答，如，输入数据的类型、值的范围及输入的形式；输出数据的类型、值的范围及输出的形式；若是会话式输入，结束标志是什么？是否接受非法输入？对非法输入的回答方式是什么等。另外，还应该为调试程序准备好测试数据，包括合法的输入数据与非法的输入数据。同时，实验小组应该对设计工作进行分工，并形成小组成员通过的书面记录。
（2）概要设计和详细设计阶段
设计通常分为概要设计与详细设计两步。
在进行概要设计时，确定数据的逻辑结构，并要求按照自顶向下逐步求精的原则划分模块，画出模块间的调用关系图。
在进行详细设计时，要求定义数据的存储，并画出各模块（函数）的程序流程图或写出伪代码。
（3）编码实现阶段
在详细设计的基础上，用特定的程序设计语言编写程序。良好的程序设计风格可以保证较快地完成程序测试。程序的每行不要太长，每个函数不要太大，当一个函数太大时，可以考虑将其分解为较小的函数。对函数功能、核心语句、重要的类型和变量等应给出注释。一定要按凹入格式书写程序，分清每条语句的凹入层次，上下对齐层次的括号，以便发现语法错误。
（4）测试阶段
采用测试数据进行测试，列出实际的输入、输出结果、预期结果。
（5）总结与整理报告阶段
调试正确后认真整理源程序及注释，提交带有完整注释且格式良好的源程序，并撰写课程设计报告。
课程设计报告中除了上面提到的分析、设计过程外，还用给出下面几方面的内容。
① 调试分析：调试过程中主要遇到哪些问题？如何解决的？
② 算法分析：核心算法的时间复杂性与空间复杂性分析。
③ 改进设想、经验和体会。
一、图书管理信息系统的设计与实现 (难度系数：1)
1.问题描述
图书管理信息系统实现图书馆馆藏图书的信息管理与图书借阅。图书管理信息系统包括用户管理、读者管理、图书管理、图书流通功能。
2.整体要求
该系统应具有合理的界面设计，并易于操作；
编码风格良好；
该系统用控制台程序即可实现；
编程语言为C语言，编程环境为VC&#43;&#43; 6.0
3.设计要求
（1）登录系统时，要求用户输入用户名与密码，用户名与密码无误方可使用系统，最多可以尝试三次。用户分为：普通读者、图书管理员、系统管理员三种。普通读者只能使用“用户管理子系统”中“用户密码修改”功能和“图书管理子系统”中“图书信息查询”功能；图书管理员只能使用“图书管理子系统”和“图书流通管理子系统”；系统管理员只能使用“用户管理子系统”和“读者管理子系统”。
（2）图书管理信息系统包括：用户管理、读者管理、图书管理、图书流通管理这四个子系统。“图书管理信息系统”主菜单要求包含如下选项：
**********************************
1.用户管理
2.读者管理
3.图书管理
4.图书流通管理
5.退出系统
要求在选择退出功能之前，可以反复选择系统的各项功能使用系统。 1）用户管理子系统：
应包括用户信息输入、用户信息修改、用户信息删除、用户信息显示、用户密码修改等功能。其中“普通读者”只能使用“用户密码修改”功能。
“用户管理”菜单要求包括如下选项:
1. 用户信息输入 2. 用户信息修改 用户信息删除用户信息显示用户密码修改返回主菜单 “用户管理子系统”要求用文件与链表实现。
2）读者管理子系统：
应包括读者信息输入、读者信息修改、读者信息删除、读者信息按名查询等功能。
“读者管理”菜单要求包括如下选项:
1. 读者信息输入 2. 读者信息修改 3. 读者信息删除 4. 读者信息查询 5. 读者信息显示（按读者姓氏排序） 6. 返回主菜单 ******************* “读者管理子系统”要求用文件与链表实现。 3）图书管理子系统：" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://zhuifengsn.github.io/posts/720bf2139aa77f33e504a1cf631e10b2/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-07-07T16:40:50+08:00" />
<meta property="article:modified_time" content="2020-07-07T16:40:50+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="追风少年的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">追风少年的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Linux大实验 (图书管理系统)</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3><a id="_0"></a>《程序设计基础综合实验》讲义</h3> 
<p>综合实验又称为课程设计，需要学生综合运用所学知识解决与实际应用紧密结合的、规模较大的问题，通过分析、设计、编码和调试等各环节的训练，使学生深刻理解、牢固掌握、综合运用数据结构和算法设计技术，增强分析问题、解决问题的能力，培养项目管理与团队合作精神。<br> 本课程要求实验采用基本的软件工程开发方法，将软件开发过程分为需求分析、系统设计、编码实现、系统测试4个阶段。每个阶段设置相应的里程碑进行检查，对学生的设计过程进行评价。<br> （1）需求分析阶段<br> 首先要充分分析和理解问题，明确要求做什么？限制条件是什么？即要确定需要实验那些功能（任务），并对所需完成的任务做出明确的回答，如，输入数据的类型、值的范围及输入的形式；输出数据的类型、值的范围及输出的形式；若是会话式输入，结束标志是什么？是否接受非法输入？对非法输入的回答方式是什么等。另外，还应该为调试程序准备好测试数据，包括合法的输入数据与非法的输入数据。同时，实验小组应该对设计工作进行分工，并形成小组成员通过的书面记录。<br> （2）概要设计和详细设计阶段<br> 设计通常分为概要设计与详细设计两步。<br> 在进行概要设计时，确定数据的逻辑结构，并要求按照自顶向下逐步求精的原则划分模块，画出模块间的调用关系图。<br> 在进行详细设计时，要求定义数据的存储，并画出各模块（函数）的程序流程图或写出伪代码。<br> （3）编码实现阶段<br> 在详细设计的基础上，用特定的程序设计语言编写程序。良好的程序设计风格可以保证较快地完成程序测试。程序的每行不要太长，每个函数不要太大，当一个函数太大时，可以考虑将其分解为较小的函数。对函数功能、核心语句、重要的类型和变量等应给出注释。一定要按凹入格式书写程序，分清每条语句的凹入层次，上下对齐层次的括号，以便发现语法错误。<br> （4）测试阶段<br> 采用测试数据进行测试，列出实际的输入、输出结果、预期结果。<br> （5）总结与整理报告阶段<br> 调试正确后认真整理源程序及注释，提交带有完整注释且格式良好的源程序，并撰写课程设计报告。<br> 课程设计报告中除了上面提到的分析、设计过程外，还用给出下面几方面的内容。<br> ① 调试分析：调试过程中主要遇到哪些问题？如何解决的？<br> ② 算法分析：核心算法的时间复杂性与空间复杂性分析。<br> ③ 改进设想、经验和体会。<br> 一、图书管理信息系统的设计与实现 (难度系数：1)<br> 1.问题描述<br> 图书管理信息系统实现图书馆馆藏图书的信息管理与图书借阅。图书管理信息系统包括用户管理、读者管理、图书管理、图书流通功能。<br> 2.整体要求<br> 该系统应具有合理的界面设计，并易于操作；<br> 编码风格良好；<br> 该系统用控制台程序即可实现；<br> 编程语言为C语言，编程环境为VC++ 6.0<br> 3.设计要求<br> （1）登录系统时，要求用户输入用户名与密码，用户名与密码无误方可使用系统，最多可以尝试三次。用户分为：普通读者、图书管理员、系统管理员三种。普通读者只能使用“用户管理子系统”中“用户密码修改”功能和“图书管理子系统”中“图书信息查询”功能；图书管理员只能使用“图书管理子系统”和“图书流通管理子系统”；系统管理员只能使用“用户管理子系统”和“读者管理子系统”。<br> （2）图书管理信息系统包括：用户管理、读者管理、图书管理、图书流通管理这四个子系统。“图书管理信息系统”主菜单要求包含如下选项：<br> **********************************<br> 1.用户管理<br> 2.读者管理<br> 3.图书管理<br> 4.图书流通管理<br> 5.退出系统</p> 
<hr> 
<pre><code>  要求在选择退出功能之前，可以反复选择系统的各项功能使用系统。
</code></pre> 
<p>1）用户管理子系统：<br> 应包括用户信息输入、用户信息修改、用户信息删除、用户信息显示、用户密码修改等功能。其中“普通读者”只能使用“用户密码修改”功能。<br> “用户管理”菜单要求包括如下选项:</p> 
<hr> 
<pre><code>  1. 用户信息输入
  2. 用户信息修改
</code></pre> 
<ol start="3"><li>用户信息删除</li><li>用户信息显示</li><li>用户密码修改</li><li>返回主菜单</li></ol> 
<hr> 
<p>“用户管理子系统”要求用文件与链表实现。<br> 2）读者管理子系统：<br> 应包括读者信息输入、读者信息修改、读者信息删除、读者信息按名查询等功能。<br> “读者管理”菜单要求包括如下选项:</p> 
<hr> 
<pre><code>      1. 读者信息输入
      2. 读者信息修改
      3. 读者信息删除
      4. 读者信息查询
      5. 读者信息显示（按读者姓氏排序）
      6. 返回主菜单
   *******************
 “读者管理子系统”要求用文件与链表实现。
</code></pre> 
<p>3）图书管理子系统：<br> 至少应包括图书信息输入、图书信息修改、图书信息查询、汇总统计等功能。其它功能（如图书订阅、图书编目、新书通报等功能）可根据自身情况酌情实现。<br> “图书管理”菜单至少要求包括如下选项:</p> 
<hr> 
<pre><code>      1. 图书信息输入
      2. 图书信息修改
      3. 图书信息查询
      4. 汇总统计
      5. 返回主菜单
   *******************
</code></pre> 
<p>普通用户只能使用其中的图书信息查询和图书数目统计功能（功能3和功能4），当普通用选择其它功能时应告知不能使用。<br> 如果在“图书管理”的菜单中选择了“3. 图书信息查询”，系统应提示如下子菜单：</p> 
<hr> 
<pre><code>   1. 按书号查询
   2. 按书名查询
   3. 按作者查询
   4. 按出版社查询
   5. 返回主菜单
  *******************
</code></pre> 
<p>“图书管理子系统”要求用文件和顺序表实现。<br> 4）图书流通管理子系统：<br> 至少应包括借书处理和还书处理功能。其它功能（如预约处理、逾期处理等功能）可根据自身情况酌情实现。普通用户只能使用预约处理功能。<br> “图书管流通理”菜单至少要求包括如下选项:</p> 
<hr> 
<pre><code>   1. 借书处理
   2. 还书处理
   3. 返回主菜单
  *******************
</code></pre> 
<p>“图书流通管理子系统”要求用文件和顺序表实现。<br> （3）要求建立如下文件：<br> 1）建立用户文件，包括用户的如下信息：<br> 用户名（可用读者号）、用户密码、用户类型<br> 用户类型可分为：管理员和普通用户。管理员可以使用系统的所有功能，普通用户只可以查询图书及借阅情况。<br> 2）建立读者文件，包括读者的如下信息：<br> 读者号、读者名、单位、联系方式、可借书数、已借书数<br> 3）建立与图书有关的如下文件。<br> 图书主文件，包括图书的如下信息：<br> 记录号、书号、书名、作者、出版社、藏书量、借出数、指针1、指针2、<br> 指针3<br> 图书主文件可以按主关键字（书号）有序或无序。<br> 书号（主关键字）索引表，必须按书号有序。该索引表包括如下信息：<br> 书号、该书号对应记录在主文件中记录号<br> 书名（次关键字）索引表，包括如下信息：<br> 书名、链头指针、长度<br> 作者（次关键字）索引表，包括如下信息：<br> 作者、链头指针、长度<br> 出版社（次关键字）索引表，包括如下信息：<br> 出版社、链头指针、长度<br> 图书主文件和三个次关键字索引表的样例分别如表1至表4所示。<br> 表1 图书主文件<br> 记录号 书号 书名 作者 出版社 藏书量 借出数 指针1 指针2 指针3<br> 1 1021 数据库 杨艳 人民邮电 10 8 0 0 0<br> 2 1014 数据结构 赵鹏 高等教育 9 7 0 0 0<br> 3 1106 操作系统 金虎 人民邮电 8 6 0 0 1<br> 4 1108 数据结构 高扬 清华大学 7 5 2 0 0<br> 5 1203 程序设计 杨艳 高等教育 9 4 0 1 2<br> 6 2105 数据库 金虎 清华大学 7 3 1 3 4<br> 7 1012 数据结构 杨艳 人民邮电 8 2 4 5 3<br> 8 0109 程序设计 赵鹏 清华大学 9 1 5 2 6<br> 表2 书名次关键字索引表<br> 书名 链头指针 长度<br> 数据库 6 2<br> 数据结构 7 3<br> 操作系统 3 1<br> 程序设计 8 2<br> 表3 作者次关键字索引表<br> 作者 链头指针 长度<br> 杨艳 7 3<br> 赵鹏 8 2<br> 金虎 6 2<br> 高扬 4 1<br> 表4 出版社次关键字索引表<br> 出版社 链头指针 长度<br> 人民邮电 7 3<br> 高等教育 5 2<br> 清华大学 8 3<br> 4）建立借还书文件，包括如下信息：<br> 读者号、书号、借书日期、还书日期<br> 4.设计思想<br> 下面将给出一些核心算法的设计思想。<br> （1）“登录系统”算法的设计思想<br> 打开“用户文件”，读入文件内容，建立相应的链表。请用户输入用户名及密码。若用户名或密码输入不正确，最多允许尝试三次。用户名与密码输入正确时，记住当前用户类型。<br> 当该用户为图书管理员时，打开“图书主文件”及所有的“索引表文件”，分别将文件内容读入相应的一维数组中，打开“借还书文件”，建立相应的链表，打开“读者文件”，建立相应的链表；当该用户为系统管理员时，打开“读者文件”，读入文件内容，建立相应的链表；当该用户为普通读者时，打开图书主文件及所有的索引表文件，分别将文件内容读入相应的一维数组中，并关闭所有打开的文件。<br> 普通读者只能选“用户管理”功能项中“用户密码修改”子功能和“图书管理”功能项中“图书信息查询”子功能；图书管理员只能选“图书管理”和“图书流通管理”功能项；系统管理员只能选“用户管理”和“读者管理”功能项。需要根据用户类型显示相应的菜单，请用户选择功能项。<br> 当退出系统时，需将各个链表和数组中的内容写回相应的文件。<br> （2）“图书信息输入”算法的设计思想<br> 在输入图书信息时建立图书主文件，在图书主文件中记录号从1开始。根据设计要求，在建立图书文件的同时，需要建立一个主关键字（书号）索引表。索引表按书号升序排列（用插入排序法），索引表可以先在内存中用一维数组实现，最后再将相应内容一并写入（外存）文件。<br> 根据设计要求，图书文件除了主关键字（书号）索引表外，还需要建立书名、作者、出版社三个次关键字索引表。次关键字索引表可采用头插法建立，具体做法是：根据一个主文件的记录，将要建立索引的次关键字与对应的次关键字索引表中的次关键字（如书名、作者、出版社）进行比较，若有相等的，就将主文件中的相应指针修改为索引表中的当前链头指针，并修改相应索引表中的链头指针为当前主文件的记录指针（即记录号），同时将长度加1；若没有相等的，就将主文件中的相应指针置为0，并在相应次关键字索引表中增加与该次关键字相关的一条记录，该记录的链头指针置为当前主文件的记录号，而将长度置为1。<br> （3）“图书信息查询”算法的设计思想<br> 按书号查询时，由于图书文件已按书号建立了索引表，该索引表是按书号有序的，因此，在该索引表中可采用二分查找算法。<br> 按书名查询时，先顺序查找书名次关键字索引表，找到相应的书名，取到该书名链头指针后，再回到图书主文件中顺链依次找出所有具有该书名的书。<br> 按作者和出版社查询时，与按书名查询方法类似。<br> （4）“借书处理”算法设计思想<br> 图书管理员输入读者号、书号、借书日期。系统检查读者是否为合法读者，若不是，显示提示信息，并返回；若是，则进一步检查读者借书数量是否超出限额。若超出，给出提示信息，并返回；若未超出，检查书号是否合法，若书号非法，给出提示信息，并返回；否则，继续检查该号图书是否已全部借出，若是，给出提示信息，并返回，否则，将借书文件记录数加1，借书文件追加1条相关记录，读者借书数加1，图书借出数加1，并提示借书成功。<br> （5）“还书处理”算法设计思想<br> 图书管理员输入读者号、书号、还书日期。系统根据读者文件检查读者是否为合法读者，若不是合法读者，显示提示信息，并返回。否则，在借还书文件中检查书号是否合法，若书号非法，给出提示信息，并返回。否则，在图书文件中再检查书号是否合法，若非法，给出提示信息，并返回。否则，在“读者文件”中将该读者的借书数减1，在“图书文件”中修改借出数，在“借还书文件”中填入还书日期。<br> 5.评价标准<br> 本设计是一个比较综合的练习，用到顺序表、链表、静态链表、文件、排序、查找、字符串操作等方面的知识。本课程的主要目的是培养学生的综合设计能力、编程与调试能力，以及团队合作能力。因此要求本项目必须是团队合作完成的，程序必须能够正确运行，具体评分标准如表5所示。<br> 表5 评分表<br> 项目 所占分值 得分依据 得分<br> 登录系统 10 使用“用户名”与“密码”登录系统，根据用户类<br> 型打开相关文件，建立相应的链表或数组。<br> 显示主菜单，并根据用户类型正确实现主菜单各个选项的跳转功能。 <br> 用户管理 15 子系统菜单（2分） <br> 用户信息输入（2分） <br> 用户信息修改（2分） <br> 用户信息删除（2分） <br> 用户信息显示（2分） <br> 用户密码修改（2分） <br> 完成质量与速度（3分） <br> 读者管理 15 子系统菜单（2分） <br> 读者信息输入（2分） <br> 读者信息修改（2分） <br> 读者信息删除（2分） <br> 读者信息查询（2分） <br> 读者信息显示（2分） <br> 完成质量与速度（3分） <br> 图书管理 20 子系统菜单（2分） <br> 图书信息输入（2分） <br> 图书信息修改（2分） <br> 图书信息查询功能共9分，其中：<br> 查询子菜单（1分）<br> 按书号查询（2分）<br> 按书名查询（2分）<br> 按作者查询（2分）<br> 按出版社查询（2分） <br> 汇总统计（2分） <br> 完成质量与速度（3分） <br> 图书流通管理 10 子系统菜单（2分） <br> 借书处理（3分） <br> 还书处理（3分） <br> 完成质量与速度（2分） <br> 总体表现 10 根据完成附加功能情况、系统总体运行情况、完成的质量（包括算法的正确性、算法的复杂性、容错性、用户友好等因素）、团队合作情况等酌情加分。<br> 旷课1次扣3分，缺勤1次扣1分。 <br> 报告 20 <br> 总分 100</p> 
<p>二、银行卡管理系统（难度系数0.9）</p> 
<ol><li>需求分析<br> 随着社会经济的发展，信息化程度的不断深入，银行的传统业务己愈来愈不能满足银行客户的需要。<br> 现今，人们的金融意识、科技意识己经有了很大的提高，在紧张忙碌的生活中，己越来越来不习惯每月奔忙于各银行营业柜台之问去排队缴各种各样的费用了；同时，各种经营单位如电信、移动、供电、煤气、自来水、证券等等一是为了提高服务质量、方便客户，二是为了减轻自己日趋繁重的工作量，纷纷委托银行为其开展代收代付业务：同时，随着我国加入世贸组织的日益临近，我国的银行业将面临更加激烈的同业竞争，如何提供更多的金融产品和更优质的服务，如何吸引更多的客户，如何利用计算机技术加强银行帐户信息管理、进行银行业务再造，提高银行的工作效率和业务竟争能力是摆在各家银行面前的一个迫切需要解诀的问题。</li><li>问题描述<br> 近几年来，各商业银行加快了与社会各业的合作，利用自身的网点优势和业务特点，为其提供各种高效、快捷的代收代付业务，也就是中间代理业务，目前以与广大人民群众生活密切相关的各项缴费业务如水电费、电话费、手机费等代收业务为主，这些业务开展方式多种多样，但一般都离不开计算机的高效管理支持。<br> 随着代理业务不断发展，业务品种越来越多，各项业务做法互有差异，这就对银行的电子化水平和相应的管理水平提出了更高的要求。如何利用电子化的手段构建一个高效统一的、通用灵活的系统来管理各种各样的业务，是每个商业银行所要研究的课题。支持决策系统的，需要在数据库的基础上，进行联机分析处理，每次处理的数据量大，响应时间长。特别是银行每天要处理大量的存取款事件，做好存取款是银行工作重要的环节，然而要有效处理必须要有良好的程序和数据管理系统来建立一个良好的软件系统来实现快速、有效、准确、安全的处理银行事物。</li><li>基本要求<br> (1)开户：创建一个新的账户，接受用户输入的身份证号，以及账户密码，判断用户输入的身份证号是否唯一且账户密码是否符合要求，如验证成功则为该用户生成一个唯一的帐号。<br> (2)存款：在用户输入正确的帐号和密码的情况下，接受用户输入的存款金额，并对该帐号的存款信息进行更新。<br> (3)取款：在用户输入正确的帐号和密码的情况下，接受用户输入的取款金额。取款金额不应该大于当前帐号存款金额，当取款金额不大于当前帐号存款金额时，执行取款操作，并对该帐户的存款信息进行更新。<br> (4)挂失：在用户输入正确的帐号和密码的情况下，接受用户挂失操作。当帐号挂失后，与该帐号相关的操作都将被禁止。<br> (5)销户：在用户输入正确的帐号和密码的情况下，接受用户销户。当用户销户后，该帐号将被永久删除。<br> (6)转帐：在用户输入正确的帐号和密码的情况下，接受用户转账操作，转帐金额不应该大于当前帐号存款金额，当转帐金额不大于当前帐号存款金额时，执行转帐操作，并对该帐户的存款信息及转帐的接受账户的存款信息进行更新。<br> (7)修改账户密码：在用户输入正确的帐号和密码的情况下，接受用户修改密码操作，用户输入的原密码，若用户输入的密码与原密码匹配，则接受用户输入的新密码，若用户两个输入的密码相同，则修改账户密码，并对数据文件进行更新操作。<br> (8)查看余额：在用户输入正确的帐号和密码的情况下，接受用户查看余额操作，该模块只涉及数据查询，并不涉及数据文件更新操作。<br> (9)查看用户交易历史：在用户输入正确的帐号和密码的情况下，接受用户查看用户交易历史操作，系统将显示当前账户的最近的存、取款操作记录，该模块只涉及数据查询，并不涉及数据文件更新操作。</li><li>数据结构<br> 完成本程序需要两个结构体来存储相应的信息，并且所以信息最终保存在文件中。<br> 银行卡基本信息结构：<br> 卡号：16位数字构成的字符串，前12位表示开户行、城市、网点等信息，后4位代表序号。<br> 姓名：持卡人姓名，长度为13的字符串。<br> 密码：字符+数字，不得少于6位。<br> 余额：doube类型。<br> 标记：short类型，0 表示正常，1 表示注销，2 表示冻结（注：如为1或2，该卡不能进行正常操作）。<br> 交易记录信息结构：<br> 卡号：与上面相同。<br> 交易日期：10位字符串，例如2017-03-01。<br> 交易金额：double类型。<br> 标记：short类型，0代表存款，1代表取款，2代表转账。<br> 对方卡号：与卡号说明相同，如标记为0或1，此项为空。</li><li>程序模块说明<br> 本系统采用结构化，自顶向下的设计思想实现。具体各个模块功能说明如下：<br> 第一个模块——主函数main（）的功能是：根据菜单单的选项调用各函数，并完成相应的功能。<br> 第二个模块——oaccount（）的功能是：用户开户信息将存入文件中。<br> 第三个模块——saving（）的功能是：存款函数的实现。<br> 第四个模块——withdraw（）的功能是：取款功能的实现。<br> 第五个模块——transfer（）的功能是：转帐功能的实现。<br> 第六个模块——changemima（）的功能是：修改密码的功能实现。<br> 第七个模块——serach（）的功能是：查询余额的功能实现。<br> 第八个模块——guashi（）的功能是：挂失（银行卡冻结）功能的实现。<br> 第九个模块——Tradejilu（）的功能是：查询交易记录的功能实现。<br> 第十个模块——delete（）的功能：删除银行卡信息的实现（要求用链表实现）。<br> 第十一个模块——welcome（）的功能是：界面进入的功能实现。<br> 除主函数外，其他函数都通过welcome函数连接。</li><li>测试与分析<br> 系统运行参考界面<br> 欢迎界面：</li></ol> 
<p>管理登录操作主界面：</p> 
<p>用户功能选择界面：</p> 
<p>三、学生信息管理系统模拟 （难度系数0.8）</p> 
<ol><li> <p>整体要求<br> 该系统应具有合理的界面设计，并易于操作；<br> 编码风格良好；<br> 该系统用控制台程序即可实现；<br> 编程语言为C语言，编程环境为VC++ 6.0。</p> </li><li> <p>存储结构设计<br> 设计学生结构体。</p> </li><li> <p>编程要求<br> （1）结构体设计<br> “学生”结构体包含“学号”、“姓名”、“性别”、“英语成绩”、“C语言成绩”。<br> （2）存储结构要求<br> 学生信息要求保存到文件中。</p> </li><li> <p>菜单（界面）设计<br> 编程实现系统的整体菜单<br> “登陆”菜单（选做，有加分）<br> 1----------用户登陆<br> 0----------退出系统<br> 主菜单样式如下：<br> 1----------学生录入<br> 2----------学生浏览<br> 3----------学生查询<br> 4----------学生删除<br> 5----------成绩统计<br> 0----------退出系统</p> </li><li> <p>功能和函数设计<br> 任务<br> 通过函数完成各个菜单模块的功能，要求合理设计主函数和各个子函数，合理设计各个函数之间的调用关系。<br> 编程要求<br> 1.主函数：显示主菜单。<br> 2.如果设计并编写登陆菜单，要求合理设计登陆界面，要求用户输入用户名和密码，如果全都正确则进入主菜单，如果有一项不对，系统再提供两次机会输入，三次都错退出系统。（此部分有加分）<br> 3.编写函数完成“学生录入”功能，要求能将用户由键盘输入的若干学生信息追加到student.txt或student.dat中，存储结构可以使用数组，也可以使用链表。<br> 4.编写函数完成“学生浏览”功能，要求能将student.txt或student.dat文件中的全部学生信息显示出来，存储结构可以使用数组，也可以使用链表。<br> 5.编写函数完成“学生查询”功能，要求能按照学号或姓名对学生进行查询。<br> 6.编写函数完成“学生删除”功能，要求按照学号或姓名将某个学生删除，并将删除后的结果写回到文件中，此功能要求存储结构必须使用链表。<br> 7.设计并编写编写函数完成“成绩统计”功能，可以对“英语成绩”、“C语言成绩”进行单科浏览（降序排列），按某个学生统计总分和平均分，按英语和C语言两科成绩对学生进行排序。</p> </li></ol> 
<h3><a id="userh_293"></a>user.h</h3> 
<pre><code class="prism language-cpp"><span class="token macro property">#<span class="token directive keyword">ifndef</span> USER_H</span>
<span class="token macro property">#<span class="token directive keyword">define</span> USER_H</span>
<span class="token macro property">#<span class="token directive keyword">include</span><span class="token string">&lt;string&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
<span class="token keyword">class</span> <span class="token class-name">user</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">public</span><span class="token operator">:</span>
		<span class="token function">user</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token operator">~</span><span class="token function">user</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">user</span><span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span>u<span class="token punctuation">,</span><span class="token keyword">char</span> <span class="token operator">*</span>p<span class="token punctuation">,</span><span class="token keyword">char</span> <span class="token operator">*</span>n<span class="token punctuation">,</span><span class="token keyword">char</span> <span class="token operator">*</span>w<span class="token punctuation">,</span><span class="token keyword">long</span> t<span class="token punctuation">,</span><span class="token keyword">int</span> a<span class="token punctuation">,</span><span class="token keyword">int</span> h<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">void</span> <span class="token function">set</span><span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span>u<span class="token punctuation">,</span><span class="token keyword">char</span> <span class="token operator">*</span>p<span class="token punctuation">,</span><span class="token keyword">char</span> <span class="token operator">*</span>n<span class="token punctuation">,</span><span class="token keyword">char</span> <span class="token operator">*</span>w<span class="token punctuation">,</span><span class="token keyword">long</span> t<span class="token punctuation">,</span><span class="token keyword">int</span> a<span class="token punctuation">,</span><span class="token keyword">int</span> h<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">void</span> <span class="token function">setvalue</span><span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span>u<span class="token punctuation">,</span><span class="token keyword">char</span> <span class="token operator">*</span>p<span class="token punctuation">,</span><span class="token keyword">char</span> <span class="token operator">*</span>n<span class="token punctuation">,</span><span class="token keyword">char</span> <span class="token operator">*</span>w<span class="token punctuation">,</span><span class="token keyword">long</span> t<span class="token punctuation">,</span><span class="token keyword">int</span> a<span class="token punctuation">,</span><span class="token keyword">int</span> h<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">void</span> <span class="token function">delete_</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">void</span> <span class="token function">mdf_s</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">void</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">void</span> <span class="token function">mdf_pw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">char</span><span class="token operator">*</span> <span class="token function">getname</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">char</span><span class="token operator">*</span> <span class="token function">getpw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">char</span><span class="token operator">*</span> <span class="token function">rname</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">char</span><span class="token operator">*</span> <span class="token function">getwp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">long</span> <span class="token function">gettel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">int</span> <span class="token function">geta</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">int</span> <span class="token function">geth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">void</span> <span class="token function">query</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">bool</span> <span class="token keyword">operator</span><span class="token operator">&lt;</span><span class="token punctuation">(</span>user a<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">void</span> <span class="token function">sortshow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">protected</span><span class="token operator">:</span>
		<span class="token keyword">char</span> user_name<span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token keyword">char</span> password<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token keyword">char</span> name<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token keyword">char</span> workplace<span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token keyword">long</span> tel<span class="token punctuation">;</span>
		<span class="token keyword">int</span> ableb<span class="token punctuation">,</span>hadb<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token macro property">#<span class="token directive keyword">endif</span></span>

</code></pre> 
<h3><a id="usercpp_334"></a>user.cpp</h3> 
<pre><code class="prism language-cpp"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">"user.h"</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span><span class="token string">&lt;string.h&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span><span class="token string">&lt;fstream&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span><span class="token string">&lt;list&gt;</span></span>
<span class="token keyword">bool</span> <span class="token function">scmp</span><span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span>a<span class="token punctuation">,</span><span class="token keyword">char</span> <span class="token operator">*</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
user<span class="token operator">::</span><span class="token function">user</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">//</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">memset</span><span class="token punctuation">(</span>user_name<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>user_name<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">memset</span><span class="token punctuation">(</span>password<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>password<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">memset</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">memset</span><span class="token punctuation">(</span>workplace<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>workplace<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	tel<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
	ableb<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
	hadb<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

user<span class="token operator">::</span><span class="token function">user</span><span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span>u<span class="token punctuation">,</span><span class="token keyword">char</span> <span class="token operator">*</span>p<span class="token punctuation">,</span><span class="token keyword">char</span> <span class="token operator">*</span>n<span class="token punctuation">,</span><span class="token keyword">char</span> <span class="token operator">*</span>w<span class="token punctuation">,</span><span class="token keyword">long</span> t<span class="token punctuation">,</span><span class="token keyword">int</span> a<span class="token punctuation">,</span><span class="token keyword">int</span> h<span class="token punctuation">)</span> <span class="token comment">//</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">memset</span><span class="token punctuation">(</span>user_name<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>user_name<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">memset</span><span class="token punctuation">(</span>password<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>password<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">memset</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">memset</span><span class="token punctuation">(</span>workplace<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>workplace<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token function">strlen</span><span class="token punctuation">(</span>u<span class="token punctuation">)</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
	user_name<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>u<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token function">strlen</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
	password<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>p<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token function">strlen</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
	name<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>n<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token function">strlen</span><span class="token punctuation">(</span>w<span class="token punctuation">)</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
	workplace<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>w<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
	tel<span class="token operator">=</span>t<span class="token punctuation">;</span>
	ableb<span class="token operator">=</span>a<span class="token punctuation">;</span>
	hadb<span class="token operator">=</span>h<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> user<span class="token operator">::</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span>u<span class="token punctuation">,</span><span class="token keyword">char</span> <span class="token operator">*</span>p<span class="token punctuation">,</span><span class="token keyword">char</span> <span class="token operator">*</span>n<span class="token punctuation">,</span><span class="token keyword">char</span> <span class="token operator">*</span>w<span class="token punctuation">,</span><span class="token keyword">long</span> t<span class="token punctuation">,</span><span class="token keyword">int</span> a<span class="token punctuation">,</span><span class="token keyword">int</span> h<span class="token punctuation">)</span> <span class="token comment">//</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">memset</span><span class="token punctuation">(</span>user_name<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>user_name<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">memset</span><span class="token punctuation">(</span>password<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>password<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">memset</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">memset</span><span class="token punctuation">(</span>workplace<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>workplace<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token function">strlen</span><span class="token punctuation">(</span>u<span class="token punctuation">)</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
	user_name<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>u<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token function">strlen</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
	password<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>p<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token function">strlen</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
	name<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>n<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token function">strlen</span><span class="token punctuation">(</span>w<span class="token punctuation">)</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
	workplace<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>w<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
	tel<span class="token operator">=</span>t<span class="token punctuation">;</span>
	ableb<span class="token operator">=</span>a<span class="token punctuation">;</span>
	hadb<span class="token operator">=</span>h<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> user<span class="token operator">::</span><span class="token function">delete_</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//</span>
<span class="token punctuation">{<!-- --></span>
	ifstream <span class="token function">inf</span><span class="token punctuation">(</span><span class="token string">"user.txt"</span><span class="token punctuation">,</span>ios<span class="token operator">::</span>in<span class="token operator">|</span>ios<span class="token operator">::</span>binary<span class="token punctuation">)</span><span class="token punctuation">;</span>
	inf<span class="token punctuation">.</span><span class="token function">seekg</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>ios<span class="token operator">::</span>end<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> n<span class="token operator">=</span>inf<span class="token punctuation">.</span><span class="token function">tellg</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	n<span class="token operator">/</span><span class="token operator">=</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>
	inf<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	ifstream <span class="token function">in</span><span class="token punctuation">(</span><span class="token string">"user.txt"</span><span class="token punctuation">,</span>ios<span class="token operator">::</span>in<span class="token operator">|</span>ios<span class="token operator">::</span>binary<span class="token punctuation">)</span><span class="token punctuation">;</span>
	list<span class="token operator">&lt;</span>user<span class="token operator">&gt;</span> lt<span class="token punctuation">;</span>
	ofstream <span class="token function">out</span><span class="token punctuation">(</span><span class="token string">"user.txt"</span><span class="token punctuation">,</span>ios<span class="token operator">::</span>out<span class="token operator">|</span>ios<span class="token operator">::</span>binary<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">while</span><span class="token punctuation">(</span>n<span class="token operator">--</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		user temp<span class="token punctuation">;</span>
		in<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>temp<span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">scmp</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getname</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>temp<span class="token punctuation">.</span><span class="token function">getname</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token function">scmp</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getpw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>temp<span class="token punctuation">.</span><span class="token function">getpw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
            cout<span class="token operator">&lt;&lt;</span><span class="token string">"你的用户信息已从文件里删除,改系统自动退出"</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">else</span> lt<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>temp<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	in<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">while</span><span class="token punctuation">(</span><span class="token operator">!</span>lt<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		user <span class="token function">temp</span><span class="token punctuation">(</span>lt<span class="token punctuation">.</span><span class="token function">front</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getname</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>lt<span class="token punctuation">.</span><span class="token function">front</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getpw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>lt<span class="token punctuation">.</span><span class="token function">front</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">rname</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>lt<span class="token punctuation">.</span><span class="token function">front</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getwp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>lt<span class="token punctuation">.</span><span class="token function">front</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">gettel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>lt<span class="token punctuation">.</span><span class="token function">front</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">geta</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>lt<span class="token punctuation">.</span><span class="token function">front</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">geth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		out<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>temp<span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		lt<span class="token punctuation">.</span><span class="token function">pop_front</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	out<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> user<span class="token operator">::</span><span class="token function">setvalue</span><span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span>u<span class="token punctuation">,</span><span class="token keyword">char</span> <span class="token operator">*</span>p<span class="token punctuation">,</span><span class="token keyword">char</span> <span class="token operator">*</span>n<span class="token punctuation">,</span><span class="token keyword">char</span> <span class="token operator">*</span>w<span class="token punctuation">,</span><span class="token keyword">long</span> t<span class="token punctuation">,</span><span class="token keyword">int</span> a<span class="token punctuation">,</span><span class="token keyword">int</span> h<span class="token punctuation">)</span> <span class="token comment">//</span>
<span class="token punctuation">{<!-- --></span>
	ifstream <span class="token function">inf</span><span class="token punctuation">(</span><span class="token string">"user.txt"</span><span class="token punctuation">,</span>ios<span class="token operator">::</span>in<span class="token operator">|</span>ios<span class="token operator">::</span>binary<span class="token punctuation">)</span><span class="token punctuation">;</span>
	inf<span class="token punctuation">.</span><span class="token function">seekg</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>ios<span class="token operator">::</span>end<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> ncnt<span class="token operator">=</span>inf<span class="token punctuation">.</span><span class="token function">tellg</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	ncnt<span class="token operator">/</span><span class="token operator">=</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>
	inf<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	ifstream <span class="token function">in</span><span class="token punctuation">(</span><span class="token string">"user.txt"</span><span class="token punctuation">,</span>ios<span class="token operator">::</span>in<span class="token operator">|</span>ios<span class="token operator">::</span>binary<span class="token punctuation">)</span><span class="token punctuation">;</span>
	list<span class="token operator">&lt;</span>user<span class="token operator">&gt;</span> lt<span class="token punctuation">;</span>
	<span class="token comment">//cout&lt;&lt;ncnt&lt;&lt;endl;</span>
	<span class="token keyword">while</span><span class="token punctuation">(</span>ncnt<span class="token operator">--</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		user temp<span class="token punctuation">;</span>
		in<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>temp<span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">scmp</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getname</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>temp<span class="token punctuation">.</span><span class="token function">getname</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token function">scmp</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getpw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>temp<span class="token punctuation">.</span><span class="token function">getpw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
		    <span class="token function">memset</span><span class="token punctuation">(</span>user_name<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>user_name<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">memset</span><span class="token punctuation">(</span>password<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>password<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	        <span class="token function">memset</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">memset</span><span class="token punctuation">(</span>workplace<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>workplace<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token function">strlen</span><span class="token punctuation">(</span>u<span class="token punctuation">)</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
	        user_name<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>u<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
         	<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token function">strlen</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
        	password<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>p<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
        	<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token function">strlen</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
        	name<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>n<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
         	<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token function">strlen</span><span class="token punctuation">(</span>w<span class="token punctuation">)</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
	        workplace<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>w<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
        	tel<span class="token operator">=</span>t<span class="token punctuation">;</span>
	        ableb<span class="token operator">=</span>a<span class="token punctuation">;</span>
	        hadb<span class="token operator">=</span>h<span class="token punctuation">;</span>
	        temp<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>u<span class="token punctuation">,</span>p<span class="token punctuation">,</span>n<span class="token punctuation">,</span>w<span class="token punctuation">,</span>t<span class="token punctuation">,</span>a<span class="token punctuation">,</span>h<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		lt<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>temp<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	in<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	ofstream <span class="token function">out</span><span class="token punctuation">(</span><span class="token string">"user.txt"</span><span class="token punctuation">,</span>ios<span class="token operator">::</span>out<span class="token operator">|</span>ios<span class="token operator">::</span>binary<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">while</span><span class="token punctuation">(</span><span class="token operator">!</span>lt<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
	    user <span class="token function">temp</span><span class="token punctuation">(</span>lt<span class="token punctuation">.</span><span class="token function">front</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getname</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>lt<span class="token punctuation">.</span><span class="token function">front</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getpw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>lt<span class="token punctuation">.</span><span class="token function">front</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">rname</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>lt<span class="token punctuation">.</span><span class="token function">front</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getwp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>lt<span class="token punctuation">.</span><span class="token function">front</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">gettel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>lt<span class="token punctuation">.</span><span class="token function">front</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">geta</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>lt<span class="token punctuation">.</span><span class="token function">front</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">geth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		out<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>temp<span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		lt<span class="token punctuation">.</span><span class="token function">pop_front</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	out<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> user<span class="token operator">::</span><span class="token function">mdf_pw</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//</span>
<span class="token punctuation">{<!-- --></span>
	cout<span class="token operator">&lt;&lt;</span><span class="token string">"请输入新密码\n"</span><span class="token punctuation">;</span>
	<span class="token keyword">char</span> p<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">,</span>u<span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">,</span>n<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">,</span>w<span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	cin<span class="token operator">&gt;&gt;</span>p<span class="token punctuation">;</span>
	<span class="token function">strcpy</span><span class="token punctuation">(</span>u<span class="token punctuation">,</span><span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getname</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">strcpy</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span><span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">rname</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">strcpy</span><span class="token punctuation">(</span>w<span class="token punctuation">,</span><span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getwp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">setvalue</span><span class="token punctuation">(</span>u<span class="token punctuation">,</span>p<span class="token punctuation">,</span>n<span class="token punctuation">,</span>w<span class="token punctuation">,</span><span class="token function">gettel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">geta</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">geth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    cout<span class="token operator">&lt;&lt;</span><span class="token string">"你的密码修改完毕\n"</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> user<span class="token operator">::</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//</span>
<span class="token punctuation">{<!-- --></span>
    cout<span class="token operator">&lt;&lt;</span><span class="token string">"读者"</span><span class="token operator">&lt;&lt;</span>name<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
	cout<span class="token operator">&lt;&lt;</span><span class="token string">"您的用户名为\n"</span><span class="token operator">&lt;&lt;</span>user_name<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
	cout<span class="token operator">&lt;&lt;</span><span class="token string">"您的密码为\n"</span><span class="token operator">&lt;&lt;</span>password<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
	cout<span class="token operator">&lt;&lt;</span><span class="token string">"您的单位\n"</span><span class="token operator">&lt;&lt;</span>workplace<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
	cout<span class="token operator">&lt;&lt;</span><span class="token string">"电话号码\n"</span><span class="token operator">&lt;&lt;</span>tel<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
	cout<span class="token operator">&lt;&lt;</span><span class="token string">"可借书数\n"</span><span class="token operator">&lt;&lt;</span>ableb<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
	cout<span class="token operator">&lt;&lt;</span><span class="token string">"已借书数\n"</span><span class="token operator">&lt;&lt;</span>hadb<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">bool</span> user<span class="token operator">::</span><span class="token keyword">operator</span><span class="token operator">&lt;</span><span class="token punctuation">(</span>user a<span class="token punctuation">)</span> <span class="token comment">//</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token function">strcmp</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">rname</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>a<span class="token punctuation">.</span><span class="token function">rname</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> user<span class="token operator">::</span><span class="token function">sortshow</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//</span>
<span class="token punctuation">{<!-- --></span>
    ifstream <span class="token function">inf</span><span class="token punctuation">(</span><span class="token string">"user.txt"</span><span class="token punctuation">,</span>ios<span class="token operator">::</span>in<span class="token operator">|</span>ios<span class="token operator">::</span>binary<span class="token punctuation">)</span><span class="token punctuation">;</span>
	inf<span class="token punctuation">.</span><span class="token function">seekg</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>ios<span class="token operator">::</span>end<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> ncnt<span class="token operator">=</span>inf<span class="token punctuation">.</span><span class="token function">tellg</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	ncnt<span class="token operator">/</span><span class="token operator">=</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>
	inf<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	ifstream <span class="token function">in</span><span class="token punctuation">(</span><span class="token string">"user.txt"</span><span class="token punctuation">,</span>ios<span class="token operator">::</span>in<span class="token operator">|</span>ios<span class="token operator">::</span>binary<span class="token punctuation">)</span><span class="token punctuation">;</span>
	list<span class="token operator">&lt;</span>user<span class="token operator">&gt;</span> lt<span class="token punctuation">;</span>
	<span class="token keyword">int</span> cnt<span class="token operator">=</span>ncnt<span class="token punctuation">;</span>
	<span class="token keyword">while</span><span class="token punctuation">(</span>ncnt<span class="token operator">--</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		user temp<span class="token punctuation">;</span>
		in<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>temp<span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		lt<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>temp<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	cout<span class="token operator">&lt;&lt;</span><span class="token string">"所有的读者信息如下\n"</span><span class="token punctuation">;</span>
	lt<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">while</span><span class="token punctuation">(</span>cnt<span class="token operator">--</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        lt<span class="token punctuation">.</span><span class="token function">front</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        lt<span class="token punctuation">.</span><span class="token function">pop_front</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">char</span><span class="token operator">*</span> user<span class="token operator">::</span><span class="token function">getname</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">char</span> <span class="token operator">*</span>u<span class="token operator">=</span><span class="token keyword">new</span> <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token function">strlen</span><span class="token punctuation">(</span>user_name<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token function">strcpy</span><span class="token punctuation">(</span>u<span class="token punctuation">,</span>user_name<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> u<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">char</span> <span class="token operator">*</span>user<span class="token operator">::</span><span class="token function">getpw</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">char</span> <span class="token operator">*</span>u<span class="token operator">=</span><span class="token keyword">new</span> <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token function">strlen</span><span class="token punctuation">(</span>password<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token function">strcpy</span><span class="token punctuation">(</span>u<span class="token punctuation">,</span>password<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> u<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">char</span><span class="token operator">*</span> user<span class="token operator">::</span><span class="token function">rname</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">char</span> <span class="token operator">*</span>u<span class="token operator">=</span><span class="token keyword">new</span> <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token function">strlen</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token function">strcpy</span><span class="token punctuation">(</span>u<span class="token punctuation">,</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> u<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">char</span><span class="token operator">*</span> user<span class="token operator">::</span><span class="token function">getwp</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">char</span> <span class="token operator">*</span>u<span class="token operator">=</span><span class="token keyword">new</span> <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token function">strlen</span><span class="token punctuation">(</span>workplace<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token function">strcpy</span><span class="token punctuation">(</span>u<span class="token punctuation">,</span>workplace<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> u<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">long</span> user<span class="token operator">::</span><span class="token function">gettel</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span>tel<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> user<span class="token operator">::</span><span class="token function">geta</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> ableb<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> user<span class="token operator">::</span><span class="token function">geth</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> hadb<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> user<span class="token operator">::</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    cout<span class="token operator">&lt;&lt;</span><span class="token string">"请输入你要查询的读者用户名和密码\n"</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> flag<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">char</span> u<span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">,</span>p<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    cin<span class="token operator">&gt;&gt;</span>u<span class="token operator">&gt;&gt;</span>p<span class="token punctuation">;</span>
    ifstream <span class="token function">inf</span><span class="token punctuation">(</span><span class="token string">"user.txt"</span><span class="token punctuation">,</span>ios<span class="token operator">::</span>in<span class="token operator">|</span>ios<span class="token operator">::</span>binary<span class="token punctuation">)</span><span class="token punctuation">;</span>
	inf<span class="token punctuation">.</span><span class="token function">seekg</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>ios<span class="token operator">::</span>end<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> ncnt<span class="token operator">=</span>inf<span class="token punctuation">.</span><span class="token function">tellg</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	ncnt<span class="token operator">/</span><span class="token operator">=</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>
	inf<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	ifstream <span class="token function">in</span><span class="token punctuation">(</span><span class="token string">"user.txt"</span><span class="token punctuation">,</span>ios<span class="token operator">::</span>in<span class="token operator">|</span>ios<span class="token operator">::</span>binary<span class="token punctuation">)</span><span class="token punctuation">;</span>
	list<span class="token operator">&lt;</span>user<span class="token operator">&gt;</span> lt<span class="token punctuation">;</span>
	<span class="token keyword">while</span><span class="token punctuation">(</span>ncnt<span class="token operator">--</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		user temp<span class="token punctuation">;</span>
		in<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>temp<span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">scmp</span><span class="token punctuation">(</span>u<span class="token punctuation">,</span>temp<span class="token punctuation">.</span><span class="token function">getname</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token function">scmp</span><span class="token punctuation">(</span>p<span class="token punctuation">,</span>temp<span class="token punctuation">.</span><span class="token function">getpw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
		    flag<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
            cout<span class="token operator">&lt;&lt;</span><span class="token string">"请输入你要对该读者进行的操作1 删除 2 修改\n"</span><span class="token punctuation">;</span>
            <span class="token keyword">int</span> tint<span class="token punctuation">;</span>
            cin<span class="token operator">&gt;&gt;</span>tint<span class="token punctuation">;</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>tint<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span>
            <span class="token punctuation">{<!-- --></span>
                cout<span class="token operator">&lt;&lt;</span><span class="token string">"该读者信息已被删除\n"</span><span class="token punctuation">;</span>
                <span class="token keyword">continue</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>tint<span class="token operator">==</span><span class="token number">2</span><span class="token punctuation">)</span>
            <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">char</span> tu<span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">,</span>tp<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">,</span>tn<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">,</span>tw<span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
                <span class="token function">memset</span><span class="token punctuation">(</span>tu<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>tu<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token function">memset</span><span class="token punctuation">(</span>tp<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>tp<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token function">memset</span><span class="token punctuation">(</span>tn<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>tn<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token function">memset</span><span class="token punctuation">(</span>tw<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>tw<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">long</span> tt<span class="token punctuation">;</span>
                <span class="token keyword">int</span> ta<span class="token punctuation">,</span>th<span class="token punctuation">;</span>
                <span class="token keyword">int</span> anx<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
                cout<span class="token operator">&lt;&lt;</span><span class="token string">"是否修改用户名 1 是 0 否\n"</span><span class="token punctuation">;</span>
                cin<span class="token operator">&gt;&gt;</span>anx<span class="token punctuation">;</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>anx<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span>
                <span class="token punctuation">{<!-- --></span>
                    cout<span class="token operator">&lt;&lt;</span><span class="token string">"请输入\n"</span><span class="token punctuation">;</span>
                    cin<span class="token operator">&gt;&gt;</span>tu<span class="token punctuation">;</span>
                    <span class="token function">memset</span><span class="token punctuation">(</span>user_name<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>user_name<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token function">strcpy</span><span class="token punctuation">(</span>user_name<span class="token punctuation">,</span>tu<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                anx<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
                cout<span class="token operator">&lt;&lt;</span><span class="token string">"是否修改密码 1 是 0 否\n"</span><span class="token punctuation">;</span>
                cin<span class="token operator">&gt;&gt;</span>anx<span class="token punctuation">;</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>anx<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span>
                <span class="token punctuation">{<!-- --></span>
                    cout<span class="token operator">&lt;&lt;</span><span class="token string">"请输入\n"</span><span class="token punctuation">;</span>
                    cin<span class="token operator">&gt;&gt;</span>tp<span class="token punctuation">;</span>
                    <span class="token function">memset</span><span class="token punctuation">(</span>password<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>password<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token function">strcpy</span><span class="token punctuation">(</span>password<span class="token punctuation">,</span>tp<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                anx<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
                cout<span class="token operator">&lt;&lt;</span><span class="token string">"是否修改姓名 1 是 0 否\n"</span><span class="token punctuation">;</span>
                cin<span class="token operator">&gt;&gt;</span>anx<span class="token punctuation">;</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>anx<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span>
                <span class="token punctuation">{<!-- --></span>
                    cout<span class="token operator">&lt;&lt;</span><span class="token string">"请输入\n"</span><span class="token punctuation">;</span>
                    cin<span class="token operator">&gt;&gt;</span>tn<span class="token punctuation">;</span>
                    <span class="token function">memset</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token function">strcpy</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span>tn<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                anx<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
                cout<span class="token operator">&lt;&lt;</span><span class="token string">"是否修改单位 1 是 0 否\n"</span><span class="token punctuation">;</span>
                cin<span class="token operator">&gt;&gt;</span>anx<span class="token punctuation">;</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>anx<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span>
                <span class="token punctuation">{<!-- --></span>
                    cout<span class="token operator">&lt;&lt;</span><span class="token string">"请输入\n"</span><span class="token punctuation">;</span>
                    cin<span class="token operator">&gt;&gt;</span>tw<span class="token punctuation">;</span>
                    <span class="token function">memset</span><span class="token punctuation">(</span>workplace<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>workplace<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token function">strcpy</span><span class="token punctuation">(</span>workplace<span class="token punctuation">,</span>tw<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                anx<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
                cout<span class="token operator">&lt;&lt;</span><span class="token string">"是否修改电话号码 1 是 0 否\n"</span><span class="token punctuation">;</span>
                cin<span class="token operator">&gt;&gt;</span>anx<span class="token punctuation">;</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>anx<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span>
                <span class="token punctuation">{<!-- --></span>
                    cout<span class="token operator">&lt;&lt;</span><span class="token string">"请输入\n"</span><span class="token punctuation">;</span>
                    cin<span class="token operator">&gt;&gt;</span>tt<span class="token punctuation">;</span>
                    tel<span class="token operator">=</span>tt<span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                anx<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
                cout<span class="token operator">&lt;&lt;</span><span class="token string">"是否修改可借书数 1 是 0 否\n"</span><span class="token punctuation">;</span>
                cin<span class="token operator">&gt;&gt;</span>anx<span class="token punctuation">;</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>anx<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span>
                <span class="token punctuation">{<!-- --></span>
                    cout<span class="token operator">&lt;&lt;</span><span class="token string">"请输入\n"</span><span class="token punctuation">;</span>
                    cin<span class="token operator">&gt;&gt;</span>ta<span class="token punctuation">;</span>
                    ableb<span class="token operator">=</span>ta<span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                anx<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
                cout<span class="token operator">&lt;&lt;</span><span class="token string">"是否修改已借书数 1 是 0 否\n"</span><span class="token punctuation">;</span>
                cin<span class="token operator">&gt;&gt;</span>anx<span class="token punctuation">;</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>anx<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span>
                <span class="token punctuation">{<!-- --></span>
                    cout<span class="token operator">&lt;&lt;</span><span class="token string">"请输入\n"</span><span class="token punctuation">;</span>
                    cin<span class="token operator">&gt;&gt;</span>th<span class="token punctuation">;</span>
                    hadb<span class="token operator">=</span>th<span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                temp<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getname</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getpw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">rname</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getwp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">gettel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">geta</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">geth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                lt<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>temp<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">else</span> lt<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>temp<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	in<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>flag<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        cout<span class="token operator">&lt;&lt;</span><span class="token string">"该读者信息不存在\n"</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    ofstream <span class="token function">out</span><span class="token punctuation">(</span><span class="token string">"user.txt"</span><span class="token punctuation">,</span>ios<span class="token operator">::</span>out<span class="token operator">|</span>ios<span class="token operator">::</span>binary<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">while</span><span class="token punctuation">(</span><span class="token operator">!</span>lt<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
	    user <span class="token function">temp</span><span class="token punctuation">(</span>lt<span class="token punctuation">.</span><span class="token function">front</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getname</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>lt<span class="token punctuation">.</span><span class="token function">front</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getpw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>lt<span class="token punctuation">.</span><span class="token function">front</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">rname</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>lt<span class="token punctuation">.</span><span class="token function">front</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getwp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>lt<span class="token punctuation">.</span><span class="token function">front</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">gettel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>lt<span class="token punctuation">.</span><span class="token function">front</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">geta</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>lt<span class="token punctuation">.</span><span class="token function">front</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">geth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		out<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>temp<span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		lt<span class="token punctuation">.</span><span class="token function">pop_front</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	out<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> user<span class="token operator">::</span><span class="token function">mdf_s</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">char</span> tu<span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">,</span>tp<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">,</span>tn<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">,</span>tw<span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token function">memset</span><span class="token punctuation">(</span>tu<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>tu<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">memset</span><span class="token punctuation">(</span>tp<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>tp<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">memset</span><span class="token punctuation">(</span>tn<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>tn<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">memset</span><span class="token punctuation">(</span>tw<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>tw<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">long</span> tt<span class="token punctuation">;</span>
    <span class="token keyword">int</span> ta<span class="token punctuation">,</span>th<span class="token punctuation">;</span>
    <span class="token keyword">int</span> anx<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
    cout<span class="token operator">&lt;&lt;</span><span class="token string">"是否修改用户名 1 是 0 否\n"</span><span class="token punctuation">;</span>
    cin<span class="token operator">&gt;&gt;</span>anx<span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>anx<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        cout<span class="token operator">&lt;&lt;</span><span class="token string">"请输入\n"</span><span class="token punctuation">;</span>
        cin<span class="token operator">&gt;&gt;</span>tu<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span> <span class="token function">strcpy</span><span class="token punctuation">(</span>tu<span class="token punctuation">,</span>user_name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    anx<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
    cout<span class="token operator">&lt;&lt;</span><span class="token string">"是否修改密码 1 是 0 否\n"</span><span class="token punctuation">;</span>
    cin<span class="token operator">&gt;&gt;</span>anx<span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>anx<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        cout<span class="token operator">&lt;&lt;</span><span class="token string">"请输入\n"</span><span class="token punctuation">;</span>
        cin<span class="token operator">&gt;&gt;</span>tp<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span> <span class="token function">strcpy</span><span class="token punctuation">(</span>tp<span class="token punctuation">,</span>password<span class="token punctuation">)</span><span class="token punctuation">;</span>
    anx<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
    cout<span class="token operator">&lt;&lt;</span><span class="token string">"是否修改姓名 1 是 0 否\n"</span><span class="token punctuation">;</span>
    cin<span class="token operator">&gt;&gt;</span>anx<span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>anx<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        cout<span class="token operator">&lt;&lt;</span><span class="token string">"请输入\n"</span><span class="token punctuation">;</span>
        cin<span class="token operator">&gt;&gt;</span>tn<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span> <span class="token function">strcpy</span><span class="token punctuation">(</span>tn<span class="token punctuation">,</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    anx<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
    cout<span class="token operator">&lt;&lt;</span><span class="token string">"是否修改单位 1 是 0 否\n"</span><span class="token punctuation">;</span>
    cin<span class="token operator">&gt;&gt;</span>anx<span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>anx<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        cout<span class="token operator">&lt;&lt;</span><span class="token string">"请输入\n"</span><span class="token punctuation">;</span>
        cin<span class="token operator">&gt;&gt;</span>tw<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span> <span class="token function">strcpy</span><span class="token punctuation">(</span>tw<span class="token punctuation">,</span>workplace<span class="token punctuation">)</span><span class="token punctuation">;</span>
    anx<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
    cout<span class="token operator">&lt;&lt;</span><span class="token string">"是否修改电话号码 1 是 0 否\n"</span><span class="token punctuation">;</span>
    cin<span class="token operator">&gt;&gt;</span>anx<span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>anx<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        cout<span class="token operator">&lt;&lt;</span><span class="token string">"请输入\n"</span><span class="token punctuation">;</span>
        cin<span class="token operator">&gt;&gt;</span>tt<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span> tt<span class="token operator">=</span>tel<span class="token punctuation">;</span>
    anx<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
    cout<span class="token operator">&lt;&lt;</span><span class="token string">"是否修改可借书数 1 是 0 否\n"</span><span class="token punctuation">;</span>
    cin<span class="token operator">&gt;&gt;</span>anx<span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>anx<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        cout<span class="token operator">&lt;&lt;</span><span class="token string">"请输入\n"</span><span class="token punctuation">;</span>
        cin<span class="token operator">&gt;&gt;</span>ta<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span> ta<span class="token operator">=</span>ableb<span class="token punctuation">;</span>
    anx<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
    cout<span class="token operator">&lt;&lt;</span><span class="token string">"是否修改已借书数 1 是 0 否\n"</span><span class="token punctuation">;</span>
    cin<span class="token operator">&gt;&gt;</span>anx<span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>anx<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        cout<span class="token operator">&lt;&lt;</span><span class="token string">"请输入\n"</span><span class="token punctuation">;</span>
        cin<span class="token operator">&gt;&gt;</span>th<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span> th<span class="token operator">=</span>hadb<span class="token punctuation">;</span>
    <span class="token function">setvalue</span><span class="token punctuation">(</span>tu<span class="token punctuation">,</span>tp<span class="token punctuation">,</span>tn<span class="token punctuation">,</span>tw<span class="token punctuation">,</span>tt<span class="token punctuation">,</span>ta<span class="token punctuation">,</span>th<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

user<span class="token operator">::</span><span class="token operator">~</span><span class="token function">user</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>

<span class="token punctuation">}</span>

</code></pre> 
<h3><a id="bookh_768"></a>book.h</h3> 
<pre><code class="prism language-cpp"><span class="token macro property">#<span class="token directive keyword">ifndef</span> BOOK_H</span>
<span class="token macro property">#<span class="token directive keyword">define</span> BOOK_H</span>


<span class="token keyword">class</span> <span class="token class-name">book</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span><span class="token operator">:</span>
        <span class="token keyword">void</span> <span class="token function">cinbook</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">void</span> <span class="token function">mof_book</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">book</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">book</span><span class="token punctuation">(</span><span class="token keyword">const</span> book<span class="token operator">&amp;</span> other<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">void</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span><span class="token operator">:</span>
        <span class="token keyword">int</span> rec<span class="token punctuation">;</span>
        <span class="token keyword">int</span> book_num<span class="token punctuation">;</span>
        <span class="token keyword">char</span> book_name<span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">char</span> aut<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">char</span> ph<span class="token punctuation">[</span><span class="token number">50</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> sum<span class="token punctuation">;</span>
        <span class="token keyword">int</span> bor<span class="token punctuation">;</span>
        <span class="token keyword">int</span> p1<span class="token punctuation">,</span>p2<span class="token punctuation">,</span>p3<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token macro property">#<span class="token directive keyword">endif</span> </span><span class="token comment">// BOOK_H</span>

</code></pre> 
<h3><a id="bookcpp_797"></a>book.cpp</h3> 
<pre><code class="prism language-cpp"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">"book.h"</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span><span class="token string">&lt;fstream&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span><span class="token string">&lt;vector&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span><span class="token string">&lt;string.h&gt;</span></span>
<span class="token keyword">bool</span> <span class="token function">scmp</span><span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span>a<span class="token punctuation">,</span><span class="token keyword">char</span> <span class="token operator">*</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
<span class="token keyword">struct</span> bname
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">char</span> b_name<span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> len<span class="token punctuation">;</span>
    <span class="token keyword">int</span> v<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token function">bname</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        len<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">10</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
        v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token function">memset</span><span class="token punctuation">(</span>b_name<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>b_name<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">struct</span> baut
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">char</span> b_aut<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> len<span class="token punctuation">;</span>
    <span class="token keyword">int</span> v<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token function">baut</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        len<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">10</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
        v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token function">memset</span><span class="token punctuation">(</span>b_aut<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>b_aut<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">struct</span> bph
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">char</span> b_ph<span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> len<span class="token punctuation">;</span>
    <span class="token keyword">int</span> v<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token function">bph</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        len<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">10</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
        v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token function">memset</span><span class="token punctuation">(</span>b_ph<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>b_ph<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
book<span class="token operator">::</span><span class="token function">book</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token function">memset</span><span class="token punctuation">(</span>book_name<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>book_name<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">memset</span><span class="token punctuation">(</span>aut<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>aut<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">memset</span><span class="token punctuation">(</span>ph<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>ph<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    book_num<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
    rec<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
    p1<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
    p2<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
    p3<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
    bor<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
    sum<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

book<span class="token operator">::</span><span class="token function">book</span><span class="token punctuation">(</span><span class="token keyword">const</span> book<span class="token operator">&amp;</span> other<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token function">memset</span><span class="token punctuation">(</span>book_name<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>book_name<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">memset</span><span class="token punctuation">(</span>aut<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>aut<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">memset</span><span class="token punctuation">(</span>ph<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>ph<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">strcpy</span><span class="token punctuation">(</span>book_name<span class="token punctuation">,</span>other<span class="token punctuation">.</span>book_name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">strcpy</span><span class="token punctuation">(</span>aut<span class="token punctuation">,</span>other<span class="token punctuation">.</span>aut<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">strcpy</span><span class="token punctuation">(</span>ph<span class="token punctuation">,</span>other<span class="token punctuation">.</span>ph<span class="token punctuation">)</span><span class="token punctuation">;</span>
    rec<span class="token operator">=</span>other<span class="token punctuation">.</span>rec<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span>book_num<span class="token operator">=</span>other<span class="token punctuation">.</span>book_num<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span>sum<span class="token operator">=</span>other<span class="token punctuation">.</span>sum<span class="token punctuation">;</span>
    bor<span class="token operator">=</span>other<span class="token punctuation">.</span>bor<span class="token punctuation">;</span>
    p1<span class="token operator">=</span>other<span class="token punctuation">.</span>p1<span class="token punctuation">;</span>
    p2<span class="token operator">=</span>other<span class="token punctuation">.</span>p2<span class="token punctuation">;</span>
    p3<span class="token operator">=</span>other<span class="token punctuation">.</span>p3<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> book<span class="token operator">::</span><span class="token function">cinbook</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token function">memset</span><span class="token punctuation">(</span>book_name<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>book_name<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">memset</span><span class="token punctuation">(</span>aut<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>aut<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">memset</span><span class="token punctuation">(</span>ph<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>ph<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    cout<span class="token operator">&lt;&lt;</span><span class="token string">"请输入该书的记录号\n"</span><span class="token punctuation">;</span>
    cin<span class="token operator">&gt;&gt;</span>rec<span class="token punctuation">;</span>
    cout<span class="token operator">&lt;&lt;</span><span class="token string">"请输入该书的书号\n"</span><span class="token punctuation">;</span>
    cin<span class="token operator">&gt;&gt;</span>book_num<span class="token punctuation">;</span>
    cout<span class="token operator">&lt;&lt;</span><span class="token string">"请输入该书的书名\n"</span><span class="token punctuation">;</span>
    cin<span class="token operator">&gt;&gt;</span>book_name<span class="token punctuation">;</span>
    cout<span class="token operator">&lt;&lt;</span><span class="token string">"请输入该书的作者\n"</span><span class="token punctuation">;</span>
    cin<span class="token operator">&gt;&gt;</span>aut<span class="token punctuation">;</span>
    cout<span class="token operator">&lt;&lt;</span><span class="token string">"请输入该书的出版社\n"</span><span class="token punctuation">;</span>
    cin<span class="token operator">&gt;&gt;</span>ph<span class="token punctuation">;</span>
    cout<span class="token operator">&lt;&lt;</span><span class="token string">"请输入该书的藏书量\n"</span><span class="token punctuation">;</span>
    cin<span class="token operator">&gt;&gt;</span>sum<span class="token punctuation">;</span>
    <span class="token comment">// bname</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">int</span> flag<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
        ifstream <span class="token function">in</span><span class="token punctuation">(</span><span class="token string">"name.txt"</span><span class="token punctuation">,</span>ios<span class="token operator">::</span>in<span class="token operator">|</span>ios<span class="token operator">::</span>binary<span class="token punctuation">)</span><span class="token punctuation">;</span>
        in<span class="token punctuation">.</span><span class="token function">seekg</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>ios<span class="token operator">::</span>end<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> n<span class="token operator">=</span>in<span class="token punctuation">.</span><span class="token function">tellg</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>n<span class="token operator">&lt;</span><span class="token number">0</span><span class="token punctuation">)</span> n<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
        n<span class="token operator">/</span><span class="token operator">=</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>bname<span class="token punctuation">)</span><span class="token punctuation">;</span>
        bname btemp<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">;</span>
        in<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ifstream <span class="token function">inf</span><span class="token punctuation">(</span><span class="token string">"name.txt"</span><span class="token punctuation">,</span>ios<span class="token operator">::</span>in<span class="token operator">|</span>ios<span class="token operator">::</span>binary<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            inf<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>btemp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>bname<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">scmp</span><span class="token punctuation">(</span>btemp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>b_name<span class="token punctuation">,</span>book_name<span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">{<!-- --></span>
                flag<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
                p1<span class="token operator">=</span>btemp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>v<span class="token punctuation">[</span>btemp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>len<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
                btemp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>len<span class="token operator">++</span><span class="token punctuation">;</span>
                btemp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>v<span class="token punctuation">[</span>btemp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>len<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span>rec<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        inf<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ofstream <span class="token function">out</span><span class="token punctuation">(</span><span class="token string">"name.txt"</span><span class="token punctuation">,</span>ios<span class="token operator">::</span>out<span class="token operator">|</span>ios<span class="token operator">::</span>binary<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            out<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>btemp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>bname<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>flag<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            bname btem<span class="token punctuation">;</span>
            btem<span class="token punctuation">.</span>v<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">=</span>rec<span class="token punctuation">;</span>
            <span class="token function">strcpy</span><span class="token punctuation">(</span>btem<span class="token punctuation">.</span>b_name<span class="token punctuation">,</span>book_name<span class="token punctuation">)</span><span class="token punctuation">;</span>
            out<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>btem<span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>bname<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        out<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token punctuation">{<!-- --></span>
     <span class="token comment">// baut</span>
        <span class="token keyword">int</span> flag<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
        ifstream <span class="token function">in</span><span class="token punctuation">(</span><span class="token string">"aut.txt"</span><span class="token punctuation">,</span>ios<span class="token operator">::</span>in<span class="token operator">|</span>ios<span class="token operator">::</span>binary<span class="token punctuation">)</span><span class="token punctuation">;</span>
        in<span class="token punctuation">.</span><span class="token function">seekg</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>ios<span class="token operator">::</span>end<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> n<span class="token operator">=</span>in<span class="token punctuation">.</span><span class="token function">tellg</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>n<span class="token operator">&lt;</span><span class="token number">0</span><span class="token punctuation">)</span> n<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
        n<span class="token operator">/</span><span class="token operator">=</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>baut<span class="token punctuation">)</span><span class="token punctuation">;</span>
        baut btemp<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">;</span>
        in<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ifstream <span class="token function">inf</span><span class="token punctuation">(</span><span class="token string">"aut.txt"</span><span class="token punctuation">,</span>ios<span class="token operator">::</span>in<span class="token operator">|</span>ios<span class="token operator">::</span>binary<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            inf<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>btemp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>baut<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">scmp</span><span class="token punctuation">(</span>btemp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>b_aut<span class="token punctuation">,</span>aut<span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">{<!-- --></span>
                flag<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
                p2<span class="token operator">=</span>btemp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>v<span class="token punctuation">[</span>btemp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>len<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
                btemp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>len<span class="token operator">++</span><span class="token punctuation">;</span>
                btemp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>v<span class="token punctuation">[</span>btemp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>len<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span>rec<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        inf<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ofstream <span class="token function">out</span><span class="token punctuation">(</span><span class="token string">"aut.txt"</span><span class="token punctuation">,</span>ios<span class="token operator">::</span>out<span class="token operator">|</span>ios<span class="token operator">::</span>binary<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            out<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>btemp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>baut<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>flag<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            baut btem<span class="token punctuation">;</span>
            btem<span class="token punctuation">.</span>v<span class="token punctuation">[</span>btem<span class="token punctuation">.</span>len<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span>rec<span class="token punctuation">;</span>
            <span class="token function">strcpy</span><span class="token punctuation">(</span>btem<span class="token punctuation">.</span>b_aut<span class="token punctuation">,</span>aut<span class="token punctuation">)</span><span class="token punctuation">;</span>
            out<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>btem<span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>baut<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        out<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// bph</span>
        <span class="token keyword">int</span> flag<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
        ifstream <span class="token function">in</span><span class="token punctuation">(</span><span class="token string">"ph.txt"</span><span class="token punctuation">,</span>ios<span class="token operator">::</span>in<span class="token operator">|</span>ios<span class="token operator">::</span>binary<span class="token punctuation">)</span><span class="token punctuation">;</span>
        in<span class="token punctuation">.</span><span class="token function">seekg</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>ios<span class="token operator">::</span>end<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> n<span class="token operator">=</span>in<span class="token punctuation">.</span><span class="token function">tellg</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>n<span class="token operator">&lt;</span><span class="token number">0</span><span class="token punctuation">)</span> n<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
        n<span class="token operator">/</span><span class="token operator">=</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>bph<span class="token punctuation">)</span><span class="token punctuation">;</span>
        bph btemp<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">;</span>
        in<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ifstream <span class="token function">inf</span><span class="token punctuation">(</span><span class="token string">"ph.txt"</span><span class="token punctuation">,</span>ios<span class="token operator">::</span>in<span class="token operator">|</span>ios<span class="token operator">::</span>binary<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            inf<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>btemp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>bph<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">scmp</span><span class="token punctuation">(</span>btemp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>b_ph<span class="token punctuation">,</span>ph<span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">{<!-- --></span>
                flag<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
                p3<span class="token operator">=</span>btemp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>v<span class="token punctuation">[</span>btemp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>len<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
                btemp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>len<span class="token operator">++</span><span class="token punctuation">;</span>
                btemp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>v<span class="token punctuation">[</span>btemp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>len<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span>rec<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        inf<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ofstream <span class="token function">out</span><span class="token punctuation">(</span><span class="token string">"ph.txt"</span><span class="token punctuation">,</span>ios<span class="token operator">::</span>out<span class="token operator">|</span>ios<span class="token operator">::</span>binary<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            out<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>btemp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>bph<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>flag<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            bph btem<span class="token punctuation">;</span>
            btem<span class="token punctuation">.</span>v<span class="token punctuation">[</span>btem<span class="token punctuation">.</span>len<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span>rec<span class="token punctuation">;</span>
            <span class="token function">strcpy</span><span class="token punctuation">(</span>btem<span class="token punctuation">.</span>b_ph<span class="token punctuation">,</span>ph<span class="token punctuation">)</span><span class="token punctuation">;</span>
            out<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>btem<span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>bph<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        out<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    cout<span class="token operator">&lt;&lt;</span><span class="token string">"正在将该书注册到文件中\n"</span><span class="token punctuation">;</span>
    ofstream <span class="token function">out</span><span class="token punctuation">(</span><span class="token string">"book.txt"</span><span class="token punctuation">,</span>ios<span class="token operator">::</span>out<span class="token operator">|</span>ios<span class="token operator">::</span>binary<span class="token operator">|</span>ios<span class="token operator">::</span>app<span class="token punctuation">)</span><span class="token punctuation">;</span>
    book <span class="token function">temp</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    out<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>temp<span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>book<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    out<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    cout<span class="token operator">&lt;&lt;</span><span class="token string">"注册成功\n"</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> book<span class="token operator">::</span><span class="token function">mof_book</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">int</span> r<span class="token punctuation">;</span>
    cout<span class="token operator">&lt;&lt;</span><span class="token string">"请输入你想修改书的记录号\n"</span><span class="token punctuation">;</span>
    cin<span class="token operator">&gt;&gt;</span>r<span class="token punctuation">;</span>
    ifstream <span class="token function">inf</span><span class="token punctuation">(</span><span class="token string">"book.txt"</span><span class="token punctuation">,</span>ios<span class="token operator">::</span>in<span class="token operator">|</span>ios<span class="token operator">::</span>binary<span class="token punctuation">)</span><span class="token punctuation">;</span>
	inf<span class="token punctuation">.</span><span class="token function">seekg</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>ios<span class="token operator">::</span>end<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> ncnt<span class="token operator">=</span>inf<span class="token punctuation">.</span><span class="token function">tellg</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	ncnt<span class="token operator">/</span><span class="token operator">=</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>book<span class="token punctuation">)</span><span class="token punctuation">;</span>
	inf<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	ifstream <span class="token function">in</span><span class="token punctuation">(</span><span class="token string">"book.txt"</span><span class="token punctuation">,</span>ios<span class="token operator">::</span>in<span class="token operator">|</span>ios<span class="token operator">::</span>binary<span class="token punctuation">)</span><span class="token punctuation">;</span>
	vector<span class="token operator">&lt;</span>book<span class="token operator">&gt;</span>vt<span class="token punctuation">;</span>
	<span class="token keyword">while</span><span class="token punctuation">(</span>ncnt<span class="token operator">--</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        book temp<span class="token punctuation">;</span>
        in<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>temp<span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>book<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>temp<span class="token punctuation">.</span>rec<span class="token operator">==</span>r<span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            cout<span class="token operator">&lt;&lt;</span><span class="token string">"接下来请按照指示修改\n"</span><span class="token punctuation">;</span>
            <span class="token keyword">int</span> cnt<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
            cout<span class="token operator">&lt;&lt;</span><span class="token string">"是否修改该书的书号 0 否 1是\n"</span><span class="token punctuation">;</span>
            cin<span class="token operator">&gt;&gt;</span>cnt<span class="token punctuation">;</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>cnt<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span>cin<span class="token operator">&gt;&gt;</span>temp<span class="token punctuation">.</span>book_num<span class="token punctuation">;</span>
            cnt<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
            cout<span class="token operator">&lt;&lt;</span><span class="token string">"是否修改该书的藏书量 0 否 1是\n"</span><span class="token punctuation">;</span>
            cin<span class="token operator">&gt;&gt;</span>cnt<span class="token punctuation">;</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>cnt<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span>cin<span class="token operator">&gt;&gt;</span>temp<span class="token punctuation">.</span>sum<span class="token punctuation">;</span>
            vt<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>temp<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span> vt<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>temp<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    in<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ofstream <span class="token function">out</span><span class="token punctuation">(</span><span class="token string">"book.txt"</span><span class="token punctuation">,</span>ios<span class="token operator">::</span>out<span class="token operator">|</span>ios<span class="token operator">::</span>binary<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>vt<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        book <span class="token function">temp</span><span class="token punctuation">(</span>vt<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>temp<span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>book<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    vt<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    out<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> book<span class="token operator">::</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    cout<span class="token operator">&lt;&lt;</span><span class="token string">"该书的信息如下\n"</span><span class="token punctuation">;</span>
    cout<span class="token operator">&lt;&lt;</span><span class="token string">"记录号  "</span><span class="token operator">&lt;&lt;</span>rec<span class="token punctuation">;</span>
    cout<span class="token operator">&lt;&lt;</span><span class="token string">" 书号  "</span><span class="token operator">&lt;&lt;</span>book_num<span class="token punctuation">;</span>
    cout<span class="token operator">&lt;&lt;</span><span class="token string">" 书名  "</span><span class="token operator">&lt;&lt;</span>book_name<span class="token punctuation">;</span>
    cout<span class="token operator">&lt;&lt;</span><span class="token string">" 作者  "</span><span class="token operator">&lt;&lt;</span>aut<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
    cout<span class="token operator">&lt;&lt;</span><span class="token string">"出版社  "</span><span class="token operator">&lt;&lt;</span>ph<span class="token punctuation">;</span>
    cout<span class="token operator">&lt;&lt;</span><span class="token string">" 总书量  "</span><span class="token operator">&lt;&lt;</span>sum<span class="token punctuation">;</span>
    cout<span class="token operator">&lt;&lt;</span><span class="token string">" 已借出量  "</span><span class="token operator">&lt;&lt;</span>bor<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre> 
<h3><a id="maincpp_1068"></a>main.cpp</h3> 
<pre><code class="prism language-cpp"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;fstream&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;cstring&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">"user.h"</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;termios.h&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;unistd.h&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">"book.h"</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;vector&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;time.h&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">search_rec</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">BC</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//图书流通系统</span>
<span class="token keyword">struct</span> BR
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">int</span> rthis<span class="token punctuation">;</span>
    <span class="token keyword">int</span> byear<span class="token punctuation">,</span>bmouth<span class="token punctuation">,</span>bday<span class="token punctuation">,</span>bhour<span class="token punctuation">,</span>bmin<span class="token punctuation">,</span>bsec<span class="token punctuation">;</span>
    <span class="token keyword">int</span> ryear<span class="token punctuation">,</span>rmouth<span class="token punctuation">,</span>rday<span class="token punctuation">,</span>rhour<span class="token punctuation">,</span>rmin<span class="token punctuation">,</span>rsec<span class="token punctuation">;</span>
    <span class="token function">BR</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        rthis<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
        byear<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>bmouth<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>bday<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>bhour<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>bmin<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>bsec<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
        ryear<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>rmouth<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>rday<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>rhour<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>rmin<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>rsec<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">BR</span><span class="token punctuation">(</span><span class="token keyword">const</span> BR<span class="token operator">&amp;</span>b<span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        rthis<span class="token operator">=</span>b<span class="token punctuation">.</span>rthis<span class="token punctuation">;</span>
        byear<span class="token operator">=</span>b<span class="token punctuation">.</span>byear<span class="token punctuation">,</span>bmouth<span class="token operator">=</span>b<span class="token punctuation">.</span>bmouth<span class="token punctuation">,</span>bday<span class="token operator">=</span>b<span class="token punctuation">.</span>bday<span class="token punctuation">,</span>bhour<span class="token operator">=</span>b<span class="token punctuation">.</span>bhour<span class="token punctuation">,</span>bmin<span class="token operator">=</span>b<span class="token punctuation">.</span>bmin<span class="token punctuation">,</span>bsec<span class="token operator">=</span>b<span class="token punctuation">.</span>bsec<span class="token punctuation">;</span>
        ryear<span class="token operator">=</span>b<span class="token punctuation">.</span>ryear<span class="token punctuation">,</span>rmouth<span class="token operator">=</span>b<span class="token punctuation">.</span>rmouth<span class="token punctuation">,</span>rday<span class="token operator">=</span>b<span class="token punctuation">.</span>rday<span class="token punctuation">,</span>rhour<span class="token operator">=</span>b<span class="token punctuation">.</span>rhour<span class="token punctuation">,</span>rmin<span class="token operator">=</span>b<span class="token punctuation">.</span>rmin<span class="token punctuation">,</span>rsec<span class="token operator">=</span>b<span class="token punctuation">.</span>rsec<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">void</span> <span class="token function">set</span><span class="token punctuation">(</span>BR b<span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        rthis<span class="token operator">=</span>b<span class="token punctuation">.</span>rthis<span class="token punctuation">;</span>
        byear<span class="token operator">=</span>b<span class="token punctuation">.</span>byear<span class="token punctuation">,</span>bmouth<span class="token operator">=</span>b<span class="token punctuation">.</span>bmouth<span class="token punctuation">,</span>bday<span class="token operator">=</span>b<span class="token punctuation">.</span>bday<span class="token punctuation">,</span>bhour<span class="token operator">=</span>b<span class="token punctuation">.</span>bhour<span class="token punctuation">,</span>bmin<span class="token operator">=</span>b<span class="token punctuation">.</span>bmin<span class="token punctuation">,</span>bsec<span class="token operator">=</span>b<span class="token punctuation">.</span>bsec<span class="token punctuation">;</span>
        ryear<span class="token operator">=</span>b<span class="token punctuation">.</span>ryear<span class="token punctuation">,</span>rmouth<span class="token operator">=</span>b<span class="token punctuation">.</span>rmouth<span class="token punctuation">,</span>rday<span class="token operator">=</span>b<span class="token punctuation">.</span>rday<span class="token punctuation">,</span>rhour<span class="token operator">=</span>b<span class="token punctuation">.</span>rhour<span class="token punctuation">,</span>rmin<span class="token operator">=</span>b<span class="token punctuation">.</span>rmin<span class="token punctuation">,</span>rsec<span class="token operator">=</span>b<span class="token punctuation">.</span>rsec<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">int</span> <span class="token function">sum_BR</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        ifstream <span class="token function">inf</span><span class="token punctuation">(</span><span class="token string">"BR.txt"</span><span class="token punctuation">,</span>ios<span class="token operator">::</span>in<span class="token operator">|</span>ios<span class="token operator">::</span>binary<span class="token punctuation">)</span><span class="token punctuation">;</span>
        inf<span class="token punctuation">.</span><span class="token function">seekg</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>ios<span class="token operator">::</span>end<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> n<span class="token operator">=</span>inf<span class="token punctuation">.</span><span class="token function">tellg</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        n<span class="token operator">/</span><span class="token operator">=</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>BR<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> n<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">void</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        cout<span class="token operator">&lt;&lt;</span>rthis<span class="token punctuation">;</span>
        cout<span class="token operator">&lt;&lt;</span>rday<span class="token operator">&lt;&lt;</span><span class="token string">" \n"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">struct</span> ubr
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">char</span> un<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> len<span class="token punctuation">;</span>
    BR v<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token function">ubr</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token function">memset</span><span class="token punctuation">(</span>un<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>un<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        len<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">int</span> <span class="token function">sum_ubr</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        ifstream <span class="token function">inf</span><span class="token punctuation">(</span><span class="token string">"UBR.txt"</span><span class="token punctuation">,</span>ios<span class="token operator">::</span>in<span class="token operator">|</span>ios<span class="token operator">::</span>binary<span class="token punctuation">)</span><span class="token punctuation">;</span>
        inf<span class="token punctuation">.</span><span class="token function">seekg</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>ios<span class="token operator">::</span>end<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> n<span class="token operator">=</span>inf<span class="token punctuation">.</span><span class="token function">tellg</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        n<span class="token operator">/</span><span class="token operator">=</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>ubr<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> n<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">struct</span> bname
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">char</span> b_name<span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> len<span class="token punctuation">;</span>
    <span class="token keyword">int</span> v<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token function">bname</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        len<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">10</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
        v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token function">memset</span><span class="token punctuation">(</span>b_name<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>b_name<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">struct</span> baut
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">char</span> b_aut<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> len<span class="token punctuation">;</span>
    <span class="token keyword">int</span> v<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token function">baut</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        len<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">10</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
        v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token function">memset</span><span class="token punctuation">(</span>b_aut<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>b_aut<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">struct</span> bph
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">char</span> b_ph<span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> len<span class="token punctuation">;</span>
    <span class="token keyword">int</span> v<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token function">bph</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        len<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">10</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
        v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token function">memset</span><span class="token punctuation">(</span>b_ph<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>b_ph<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
user now<span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">B_a</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//图书管理系统</span>
<span class="token keyword">int</span> <span class="token function">sum_book</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">search_book</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">getch</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">struct</span> termios oldt<span class="token punctuation">,</span>newt<span class="token punctuation">;</span>
    <span class="token keyword">int</span> ch<span class="token punctuation">;</span>
    <span class="token function">tcgetattr</span><span class="token punctuation">(</span> STDIN_FILENO<span class="token punctuation">,</span> <span class="token operator">&amp;</span>oldt <span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//获得标准输入的终端参数，将获得的信息保存在oldt变量中</span>
    newt <span class="token operator">=</span> oldt<span class="token punctuation">;</span>
    newt<span class="token punctuation">.</span>c_lflag <span class="token operator">&amp;</span><span class="token operator">=</span> <span class="token operator">~</span><span class="token punctuation">(</span> ICANON <span class="token operator">|</span> ECHO <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">tcsetattr</span><span class="token punctuation">(</span> STDIN_FILENO<span class="token punctuation">,</span> TCSANOW<span class="token punctuation">,</span> <span class="token operator">&amp;</span>newt <span class="token punctuation">)</span><span class="token punctuation">;</span>
    ch <span class="token operator">=</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">tcsetattr</span><span class="token punctuation">(</span> STDIN_FILENO<span class="token punctuation">,</span> TCSANOW<span class="token punctuation">,</span> <span class="token operator">&amp;</span>oldt <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> ch<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">/* run this program using the console pauser or add your own getch, system("pause") or input loop */</span>
<span class="token keyword">bool</span> <span class="token function">pwcnt</span><span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span>u<span class="token punctuation">,</span><span class="token keyword">char</span> <span class="token operator">*</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 判断用户名，密码函数</span>
<span class="token keyword">void</span> <span class="token function">HZ</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//汇总</span>
<span class="token keyword">void</span> <span class="token function">N_r</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//读者界面</span>
<span class="token keyword">void</span> <span class="token function">S_a</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 系统管理员界面</span>
<span class="token keyword">void</span> <span class="token function">regs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//注册函数</span>
<span class="token keyword">bool</span> <span class="token function">scmp</span><span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span>a<span class="token punctuation">,</span><span class="token keyword">char</span> <span class="token operator">*</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// strcmp 函数</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span><span class="token operator">*</span> argv<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    cout<span class="token operator">&lt;&lt;</span><span class="token string">"按 1 表示登录系统\n"</span><span class="token punctuation">;</span>
	cout<span class="token operator">&lt;&lt;</span><span class="token string">"按 2 表示注册用户\n"</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> x<span class="token punctuation">;</span>
	cin<span class="token operator">&gt;&gt;</span>x<span class="token punctuation">;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>x<span class="token operator">==</span><span class="token number">2</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">regs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		cout<span class="token operator">&lt;&lt;</span><span class="token string">"你已经成功注册了一个账号,请登录\n"</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">int</span> t<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>t<span class="token operator">&lt;=</span><span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
	    cout<span class="token operator">&lt;&lt;</span><span class="token string">"您已输错3次用户名密码,该系统将自动退出\n"</span><span class="token punctuation">;</span>
	    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">while</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
    	<span class="token keyword">char</span> u<span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">,</span>p<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        cout<span class="token operator">&lt;&lt;</span><span class="token string">"请输入您的用户名\n"</span><span class="token punctuation">;</span>
        <span class="token function">memset</span><span class="token punctuation">(</span>u<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>u<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	    cin<span class="token operator">&gt;&gt;</span>u<span class="token punctuation">;</span>
	    <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	    <span class="token function">memset</span><span class="token punctuation">(</span>p<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	    cout<span class="token operator">&lt;&lt;</span><span class="token string">"请输入您的密码\n"</span><span class="token punctuation">;</span>
	    <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">6</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
            <span class="token punctuation">{<!-- --></span>
                p<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span><span class="token function">getch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                cout<span class="token operator">&lt;&lt;</span><span class="token string">'*'</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
			cout<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
	    <span class="token punctuation">}</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">pwcnt</span><span class="token punctuation">(</span>u<span class="token punctuation">,</span>p<span class="token punctuation">)</span><span class="token punctuation">)</span>
	    <span class="token punctuation">{<!-- --></span>
		    cout<span class="token operator">&lt;&lt;</span><span class="token string">"你以成功进入系统\n"</span><span class="token punctuation">;</span>
			cout<span class="token operator">&lt;&lt;</span><span class="token string">"请选择你的身份类型\n"</span><span class="token punctuation">;</span>
		    cout<span class="token operator">&lt;&lt;</span><span class="token string">"1.普通读者\n"</span><span class="token punctuation">;</span>
		    cout<span class="token operator">&lt;&lt;</span><span class="token string">"2.图书管理员\n"</span><span class="token punctuation">;</span>
		    cout<span class="token operator">&lt;&lt;</span><span class="token string">"3.系统管理员\n"</span><span class="token punctuation">;</span>
		    cout<span class="token operator">&lt;&lt;</span><span class="token string">"4.退出主菜单\n"</span><span class="token punctuation">;</span>
		    <span class="token keyword">int</span> n<span class="token punctuation">;</span>
		    cin<span class="token operator">&gt;&gt;</span>n<span class="token punctuation">;</span>
		    <span class="token keyword">if</span><span class="token punctuation">(</span>n<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span>
		    <span class="token punctuation">{<!-- --></span>
		        <span class="token function">N_r</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		        t<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		    <span class="token keyword">if</span><span class="token punctuation">(</span>n<span class="token operator">==</span><span class="token number">2</span><span class="token punctuation">)</span>
		    <span class="token punctuation">{<!-- --></span>
		        <span class="token function">B_a</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		        t<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">;</span>
		    <span class="token punctuation">}</span>
		    <span class="token keyword">if</span><span class="token punctuation">(</span>n<span class="token operator">==</span><span class="token number">3</span><span class="token punctuation">)</span>
		    <span class="token punctuation">{<!-- --></span>
		        <span class="token function">S_a</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		        t<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">;</span>
		    <span class="token punctuation">}</span>
		    <span class="token keyword">if</span><span class="token punctuation">(</span>n<span class="token operator">==</span><span class="token number">4</span><span class="token punctuation">)</span>
            <span class="token punctuation">{<!-- --></span>
                cout<span class="token operator">&lt;&lt;</span><span class="token string">"您已退出主菜单\n"</span><span class="token punctuation">;</span>
                t<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">;</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
	    <span class="token punctuation">}</span>
	    <span class="token keyword">else</span>
	    <span class="token punctuation">{<!-- --></span>
		    cout<span class="token operator">&lt;&lt;</span><span class="token string">"您的用户名密码错误，请重新输入\n"</span><span class="token punctuation">;</span>
		    t<span class="token operator">--</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">bool</span> <span class="token function">scmp</span><span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span>a<span class="token punctuation">,</span><span class="token keyword">char</span> <span class="token operator">*</span>b<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token function">min</span><span class="token punctuation">(</span><span class="token function">strlen</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">strlen</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">!=</span>b<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">bool</span> <span class="token function">pwcnt</span><span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span>u<span class="token punctuation">,</span><span class="token keyword">char</span> <span class="token operator">*</span>p<span class="token punctuation">)</span> <span class="token comment">//</span>
<span class="token punctuation">{<!-- --></span>
	ifstream <span class="token function">in</span><span class="token punctuation">(</span><span class="token string">"user.txt"</span><span class="token punctuation">,</span>ios<span class="token operator">::</span>in<span class="token operator">|</span>ios<span class="token operator">::</span>binary<span class="token punctuation">)</span><span class="token punctuation">;</span>
	in<span class="token punctuation">.</span><span class="token function">seekg</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>ios<span class="token operator">::</span>end<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> n<span class="token operator">=</span>in<span class="token punctuation">.</span><span class="token function">tellg</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	n<span class="token operator">/</span><span class="token operator">=</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>
	in<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	ifstream <span class="token function">inf</span><span class="token punctuation">(</span><span class="token string">"user.txt"</span><span class="token punctuation">,</span>ios<span class="token operator">::</span>in<span class="token operator">|</span>ios<span class="token operator">::</span>binary<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">while</span><span class="token punctuation">(</span>n<span class="token operator">--</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		user temp<span class="token punctuation">;</span>
		inf<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>temp<span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">scmp</span><span class="token punctuation">(</span>u<span class="token punctuation">,</span>temp<span class="token punctuation">.</span><span class="token function">getname</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token function">scmp</span><span class="token punctuation">(</span>p<span class="token punctuation">,</span>temp<span class="token punctuation">.</span><span class="token function">getpw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
		    now<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>temp<span class="token punctuation">.</span><span class="token function">getname</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>temp<span class="token punctuation">.</span><span class="token function">getpw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>temp<span class="token punctuation">.</span><span class="token function">rname</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>temp<span class="token punctuation">.</span><span class="token function">getwp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>temp<span class="token punctuation">.</span><span class="token function">gettel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>temp<span class="token punctuation">.</span><span class="token function">geta</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>temp<span class="token punctuation">.</span><span class="token function">geth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			inf<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	inf<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">regs</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">//</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">char</span> u<span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">,</span>p<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">,</span>n<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">,</span>w<span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token keyword">long</span> t<span class="token punctuation">;</span>
	<span class="token function">memset</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">memset</span><span class="token punctuation">(</span>p<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">memset</span><span class="token punctuation">(</span>u<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>u<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">memset</span><span class="token punctuation">(</span>w<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>w<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout<span class="token operator">&lt;&lt;</span><span class="token string">"请输入你想创建的用户名\n"</span><span class="token punctuation">;</span>
	cin<span class="token operator">&gt;&gt;</span>u<span class="token punctuation">;</span>
	cout<span class="token operator">&lt;&lt;</span><span class="token string">"请输入你的密码\n"</span><span class="token punctuation">;</span>
	cin<span class="token operator">&gt;&gt;</span>p<span class="token punctuation">;</span>
	cout<span class="token operator">&lt;&lt;</span><span class="token string">"请输入您的姓名\n"</span><span class="token punctuation">;</span>
	cin<span class="token operator">&gt;&gt;</span>n<span class="token punctuation">;</span>
	cout<span class="token operator">&lt;&lt;</span><span class="token string">"请输入您的单位\n"</span><span class="token punctuation">;</span>
	cin<span class="token operator">&gt;&gt;</span>w<span class="token punctuation">;</span>
	cout<span class="token operator">&lt;&lt;</span><span class="token string">"请输入您的电话号码\n"</span><span class="token punctuation">;</span>
	cin<span class="token operator">&gt;&gt;</span>t<span class="token punctuation">;</span>
    user <span class="token function">temp</span><span class="token punctuation">(</span>u<span class="token punctuation">,</span>p<span class="token punctuation">,</span>n<span class="token punctuation">,</span>w<span class="token punctuation">,</span>t<span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	ofstream <span class="token function">out</span><span class="token punctuation">(</span><span class="token string">"user.txt"</span><span class="token punctuation">,</span>ios<span class="token operator">::</span>out<span class="token operator">|</span>ios<span class="token operator">::</span>binary<span class="token operator">|</span>ios<span class="token operator">::</span>app<span class="token punctuation">)</span><span class="token punctuation">;</span>
	out<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>temp<span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	out<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	ofstream <span class="token function">outb</span><span class="token punctuation">(</span><span class="token string">"UBR.txt"</span><span class="token punctuation">,</span>ios<span class="token operator">::</span>out<span class="token operator">|</span>ios<span class="token operator">::</span>binary<span class="token operator">|</span>ios<span class="token operator">::</span>app<span class="token punctuation">)</span><span class="token punctuation">;</span>
	ubr ti<span class="token punctuation">;</span>
	<span class="token function">strcpy</span><span class="token punctuation">(</span>ti<span class="token punctuation">.</span>un<span class="token punctuation">,</span>u<span class="token punctuation">)</span><span class="token punctuation">;</span>
	outb<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>ti<span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>ubr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	outb<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">N_r</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    cout<span class="token operator">&lt;&lt;</span><span class="token string">"请输入你要执行的操作\n"</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> x<span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        cout<span class="token operator">&lt;&lt;</span><span class="token string">"1.密码修改\n"</span><span class="token punctuation">;</span>
        cout<span class="token operator">&lt;&lt;</span><span class="token string">"2.图书查询\n"</span><span class="token punctuation">;</span>
        cout<span class="token operator">&lt;&lt;</span><span class="token string">"3.借还书系统\n"</span><span class="token punctuation">;</span>
        cout<span class="token operator">&lt;&lt;</span><span class="token string">"4.退出系统\n"</span><span class="token punctuation">;</span>
        cin<span class="token operator">&gt;&gt;</span>x<span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>x<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            now<span class="token punctuation">.</span><span class="token function">mdf_pw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>x<span class="token operator">==</span><span class="token number">2</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token function">search_book</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>x<span class="token operator">==</span><span class="token number">3</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token function">BC</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>x<span class="token operator">==</span><span class="token number">4</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            cout<span class="token operator">&lt;&lt;</span><span class="token string">"您已成功退出系统\n"</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">S_a</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">int</span> x<span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        cout<span class="token operator">&lt;&lt;</span><span class="token string">"1.用户管理系统\n"</span><span class="token punctuation">;</span>
        cout<span class="token operator">&lt;&lt;</span><span class="token string">"2.读者管理系统\n"</span><span class="token punctuation">;</span>
        cout<span class="token operator">&lt;&lt;</span><span class="token string">"3.返回主系统\n"</span><span class="token punctuation">;</span>
        cin<span class="token operator">&gt;&gt;</span>x<span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>x<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
            <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">int</span> y<span class="token punctuation">;</span>
                cout<span class="token operator">&lt;&lt;</span><span class="token string">"1.用户信息修改\n"</span><span class="token punctuation">;</span>
                cout<span class="token operator">&lt;&lt;</span><span class="token string">"2.用户信息删除\n"</span><span class="token punctuation">;</span>
                cout<span class="token operator">&lt;&lt;</span><span class="token string">"3.用户信息显示\n"</span><span class="token punctuation">;</span>
                cout<span class="token operator">&lt;&lt;</span><span class="token string">"4.用户密码修改\n"</span><span class="token punctuation">;</span>
                cout<span class="token operator">&lt;&lt;</span><span class="token string">"5.退出\n"</span><span class="token punctuation">;</span>
                cin<span class="token operator">&gt;&gt;</span>y<span class="token punctuation">;</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>y<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span>
                <span class="token punctuation">{<!-- --></span>
                    now<span class="token punctuation">.</span><span class="token function">mdf_s</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>y<span class="token operator">==</span><span class="token number">2</span><span class="token punctuation">)</span>
                <span class="token punctuation">{<!-- --></span>
                    now<span class="token punctuation">.</span><span class="token function">delete_</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token keyword">return</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>y<span class="token operator">==</span><span class="token number">3</span><span class="token punctuation">)</span>
                <span class="token punctuation">{<!-- --></span>
                    now<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>y<span class="token operator">==</span><span class="token number">4</span><span class="token punctuation">)</span>
                <span class="token punctuation">{<!-- --></span>
                    now<span class="token punctuation">.</span><span class="token function">mdf_pw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>y<span class="token operator">==</span><span class="token number">5</span><span class="token punctuation">)</span>
                <span class="token punctuation">{<!-- --></span>
                    cout<span class="token operator">&lt;&lt;</span><span class="token string">"您已退出用户管理系统\n"</span><span class="token punctuation">;</span>
                    <span class="token keyword">break</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>x<span class="token operator">==</span><span class="token number">2</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
            <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">int</span> y<span class="token punctuation">;</span>
                cout<span class="token operator">&lt;&lt;</span><span class="token string">"1.读者信息修改\n"</span><span class="token punctuation">;</span>
                cout<span class="token operator">&lt;&lt;</span><span class="token string">"2.读者信息删除\n"</span><span class="token punctuation">;</span>
                cout<span class="token operator">&lt;&lt;</span><span class="token string">"3.读者信息查询\n"</span><span class="token punctuation">;</span>
                cout<span class="token operator">&lt;&lt;</span><span class="token string">"4.读者信息显示\n"</span><span class="token punctuation">;</span>
                cout<span class="token operator">&lt;&lt;</span><span class="token string">"5.退出\n"</span><span class="token punctuation">;</span>
                cin<span class="token operator">&gt;&gt;</span>y<span class="token punctuation">;</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>y<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span>
                <span class="token punctuation">{<!-- --></span>
                    now<span class="token punctuation">.</span><span class="token function">mdf_s</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>y<span class="token operator">==</span><span class="token number">2</span><span class="token punctuation">)</span>
                <span class="token punctuation">{<!-- --></span>
                    now<span class="token punctuation">.</span><span class="token function">delete_</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token keyword">return</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>y<span class="token operator">==</span><span class="token number">3</span><span class="token punctuation">)</span>
                <span class="token punctuation">{<!-- --></span>
                    now<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>y<span class="token operator">==</span><span class="token number">4</span><span class="token punctuation">)</span>
                <span class="token punctuation">{<!-- --></span>
                    now<span class="token punctuation">.</span><span class="token function">sortshow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>y<span class="token operator">==</span><span class="token number">5</span><span class="token punctuation">)</span>
                <span class="token punctuation">{<!-- --></span>
                    cout<span class="token operator">&lt;&lt;</span><span class="token string">"您已退出读者管理系统\n"</span><span class="token punctuation">;</span>
                    <span class="token keyword">break</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>x<span class="token operator">==</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">B_a</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">int</span> bcnt<span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        book temp<span class="token punctuation">;</span>
        cout<span class="token operator">&lt;&lt;</span><span class="token string">"你已成功进入图书管理员系统\n"</span><span class="token punctuation">;</span>
        cout<span class="token operator">&lt;&lt;</span><span class="token string">"1. 图书信息输入\n"</span><span class="token punctuation">;</span>
        cout<span class="token operator">&lt;&lt;</span><span class="token string">"2. 图书信息修改\n"</span><span class="token punctuation">;</span>
        cout<span class="token operator">&lt;&lt;</span><span class="token string">"3. 图书信息查询\n"</span><span class="token punctuation">;</span>
        cout<span class="token operator">&lt;&lt;</span><span class="token string">"4. 汇总统计\n"</span><span class="token punctuation">;</span>
        cout<span class="token operator">&lt;&lt;</span><span class="token string">"5. 退出\n"</span><span class="token punctuation">;</span>
        cin<span class="token operator">&gt;&gt;</span>bcnt<span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>bcnt<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            temp<span class="token punctuation">.</span><span class="token function">cinbook</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>bcnt<span class="token operator">==</span><span class="token number">2</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            temp<span class="token punctuation">.</span><span class="token function">mof_book</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>bcnt<span class="token operator">==</span><span class="token number">3</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token function">search_book</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>bcnt<span class="token operator">==</span><span class="token number">4</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token function">HZ</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>bcnt<span class="token operator">==</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">search_book</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">int</span> nt<span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        cout<span class="token operator">&lt;&lt;</span><span class="token string">"请输入你的查询方式\n"</span><span class="token punctuation">;</span>
        cout<span class="token operator">&lt;&lt;</span><span class="token string">"1,按书号查询\n"</span><span class="token punctuation">;</span>
        cout<span class="token operator">&lt;&lt;</span><span class="token string">"2,按书名查询\n"</span><span class="token punctuation">;</span>
        cout<span class="token operator">&lt;&lt;</span><span class="token string">"3,按作者查询\n"</span><span class="token punctuation">;</span>
        cout<span class="token operator">&lt;&lt;</span><span class="token string">"4,按出版社查询\n"</span><span class="token punctuation">;</span>
        cout<span class="token operator">&lt;&lt;</span><span class="token string">"5.退出\n"</span><span class="token punctuation">;</span>
        cin<span class="token operator">&gt;&gt;</span>nt<span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>nt<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">int</span> ncnt<span class="token operator">=</span><span class="token function">sum_book</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">int</span> num<span class="token punctuation">;</span>
            cout<span class="token operator">&lt;&lt;</span><span class="token string">"请输入书号\n"</span><span class="token punctuation">;</span>
            cin<span class="token operator">&gt;&gt;</span>num<span class="token punctuation">;</span>
            ifstream <span class="token function">in</span><span class="token punctuation">(</span><span class="token string">"book.txt"</span><span class="token punctuation">,</span>ios<span class="token operator">::</span>binary<span class="token operator">|</span>ios<span class="token operator">::</span>in<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">while</span><span class="token punctuation">(</span>ncnt<span class="token operator">--</span><span class="token punctuation">)</span>
            <span class="token punctuation">{<!-- --></span>
                book temp<span class="token punctuation">;</span>
                in<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>temp<span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>book<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>temp<span class="token punctuation">.</span>book_num<span class="token operator">==</span>num<span class="token punctuation">)</span>
                <span class="token punctuation">{<!-- --></span>
                    temp<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
            in<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>nt<span class="token operator">==</span><span class="token number">2</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            ifstream <span class="token function">inf</span><span class="token punctuation">(</span><span class="token string">"name.txt"</span><span class="token punctuation">,</span>ios<span class="token operator">::</span>in<span class="token operator">|</span>ios<span class="token operator">::</span>binary<span class="token punctuation">)</span><span class="token punctuation">;</span>
            inf<span class="token punctuation">.</span><span class="token function">seekg</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>ios<span class="token operator">::</span>end<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">int</span> ncnt<span class="token operator">=</span>inf<span class="token punctuation">.</span><span class="token function">tellg</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>ncnt<span class="token operator">&lt;</span><span class="token number">0</span><span class="token punctuation">)</span> ncnt<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
            ncnt<span class="token operator">/</span><span class="token operator">=</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>bname<span class="token punctuation">)</span><span class="token punctuation">;</span>
            inf<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            ifstream <span class="token function">in</span><span class="token punctuation">(</span><span class="token string">"name.txt"</span><span class="token punctuation">,</span>ios<span class="token operator">::</span>in<span class="token operator">|</span>ios<span class="token operator">::</span>binary<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">char</span> Tname<span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token function">memset</span><span class="token punctuation">(</span>Tname<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>Tname<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            cout<span class="token operator">&lt;&lt;</span><span class="token string">"请输入书名\n"</span><span class="token punctuation">;</span>
            cin<span class="token operator">&gt;&gt;</span>Tname<span class="token punctuation">;</span>
            <span class="token keyword">int</span> flag<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
            <span class="token keyword">while</span><span class="token punctuation">(</span>ncnt<span class="token operator">--</span><span class="token punctuation">)</span>
            <span class="token punctuation">{<!-- --></span>
                bname Ttemp<span class="token punctuation">;</span>
                in<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>Ttemp<span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>bname<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">scmp</span><span class="token punctuation">(</span>Tname<span class="token punctuation">,</span>Ttemp<span class="token punctuation">.</span>b_name<span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">{<!-- --></span>
                    flag<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
                    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">10</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
                    <span class="token keyword">if</span><span class="token punctuation">(</span>Ttemp<span class="token punctuation">.</span>v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">!=</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token function">search_rec</span><span class="token punctuation">(</span>Ttemp<span class="token punctuation">.</span>v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    cout<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>flag<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span> cout<span class="token operator">&lt;&lt;</span><span class="token string">"无名为"</span><span class="token operator">&lt;&lt;</span>Tname<span class="token operator">&lt;&lt;</span><span class="token string">"的书\n"</span><span class="token punctuation">;</span>
            in<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>nt<span class="token operator">==</span><span class="token number">3</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            ifstream <span class="token function">inf</span><span class="token punctuation">(</span><span class="token string">"aut.txt"</span><span class="token punctuation">,</span>ios<span class="token operator">::</span>in<span class="token operator">|</span>ios<span class="token operator">::</span>binary<span class="token punctuation">)</span><span class="token punctuation">;</span>
            inf<span class="token punctuation">.</span><span class="token function">seekg</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>ios<span class="token operator">::</span>end<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">int</span> ncnt<span class="token operator">=</span>inf<span class="token punctuation">.</span><span class="token function">tellg</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>ncnt<span class="token operator">&lt;</span><span class="token number">0</span><span class="token punctuation">)</span> ncnt<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
            ncnt<span class="token operator">/</span><span class="token operator">=</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>baut<span class="token punctuation">)</span><span class="token punctuation">;</span>
            inf<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            ifstream <span class="token function">in</span><span class="token punctuation">(</span><span class="token string">"aut.txt"</span><span class="token punctuation">,</span>ios<span class="token operator">::</span>in<span class="token operator">|</span>ios<span class="token operator">::</span>binary<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">char</span> Tname<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token function">memset</span><span class="token punctuation">(</span>Tname<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>Tname<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            cout<span class="token operator">&lt;&lt;</span><span class="token string">"请输入作者\n"</span><span class="token punctuation">;</span>
            cin<span class="token operator">&gt;&gt;</span>Tname<span class="token punctuation">;</span>
            <span class="token keyword">int</span> flag<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
            <span class="token keyword">while</span><span class="token punctuation">(</span>ncnt<span class="token operator">--</span><span class="token punctuation">)</span>
            <span class="token punctuation">{<!-- --></span>
                baut Ttemp<span class="token punctuation">;</span>
                in<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>Ttemp<span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>baut<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">scmp</span><span class="token punctuation">(</span>Tname<span class="token punctuation">,</span>Ttemp<span class="token punctuation">.</span>b_aut<span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">{<!-- --></span>
                    flag<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
                    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">10</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
                    <span class="token keyword">if</span><span class="token punctuation">(</span>Ttemp<span class="token punctuation">.</span>v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">!=</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token function">search_rec</span><span class="token punctuation">(</span>Ttemp<span class="token punctuation">.</span>v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    cout<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>flag<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span> cout<span class="token operator">&lt;&lt;</span><span class="token string">"无作者为"</span><span class="token operator">&lt;&lt;</span>Tname<span class="token operator">&lt;&lt;</span><span class="token string">"的书\n"</span><span class="token punctuation">;</span>
            in<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>nt<span class="token operator">==</span><span class="token number">4</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            ifstream <span class="token function">inf</span><span class="token punctuation">(</span><span class="token string">"ph.txt"</span><span class="token punctuation">,</span>ios<span class="token operator">::</span>in<span class="token operator">|</span>ios<span class="token operator">::</span>binary<span class="token punctuation">)</span><span class="token punctuation">;</span>
            inf<span class="token punctuation">.</span><span class="token function">seekg</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>ios<span class="token operator">::</span>end<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">int</span> ncnt<span class="token operator">=</span>inf<span class="token punctuation">.</span><span class="token function">tellg</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>ncnt<span class="token operator">&lt;</span><span class="token number">0</span><span class="token punctuation">)</span> ncnt<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
            ncnt<span class="token operator">/</span><span class="token operator">=</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>bph<span class="token punctuation">)</span><span class="token punctuation">;</span>
            inf<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            ifstream <span class="token function">in</span><span class="token punctuation">(</span><span class="token string">"ph.txt"</span><span class="token punctuation">,</span>ios<span class="token operator">::</span>in<span class="token operator">|</span>ios<span class="token operator">::</span>binary<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">char</span> Tname<span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token function">memset</span><span class="token punctuation">(</span>Tname<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>Tname<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            cout<span class="token operator">&lt;&lt;</span><span class="token string">"请输入出版社名称\n"</span><span class="token punctuation">;</span>
            cin<span class="token operator">&gt;&gt;</span>Tname<span class="token punctuation">;</span>
            <span class="token keyword">int</span> flag<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
            <span class="token keyword">while</span><span class="token punctuation">(</span>ncnt<span class="token operator">--</span><span class="token punctuation">)</span>
            <span class="token punctuation">{<!-- --></span>
                bph Ttemp<span class="token punctuation">;</span>
                in<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>Ttemp<span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>bph<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">scmp</span><span class="token punctuation">(</span>Tname<span class="token punctuation">,</span>Ttemp<span class="token punctuation">.</span>b_ph<span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">{<!-- --></span>
                    flag<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
                    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">10</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
                    <span class="token keyword">if</span><span class="token punctuation">(</span>Ttemp<span class="token punctuation">.</span>v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">!=</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token function">search_rec</span><span class="token punctuation">(</span>Ttemp<span class="token punctuation">.</span>v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    cout<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>flag<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span> cout<span class="token operator">&lt;&lt;</span><span class="token string">"无出版社为"</span><span class="token operator">&lt;&lt;</span>Tname<span class="token operator">&lt;&lt;</span><span class="token string">"的书\n"</span><span class="token punctuation">;</span>
            in<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>nt<span class="token operator">==</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">BC</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    cout<span class="token operator">&lt;&lt;</span><span class="token string">"您已进入图书流通子系统\n"</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> cnt<span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        cout<span class="token operator">&lt;&lt;</span><span class="token string">"1.借书处理\n"</span><span class="token punctuation">;</span>
        cout<span class="token operator">&lt;&lt;</span><span class="token string">"2.还书处理\n"</span><span class="token punctuation">;</span>
        cout<span class="token operator">&lt;&lt;</span><span class="token string">"3.逾期处理\n"</span><span class="token punctuation">;</span>
        cout<span class="token operator">&lt;&lt;</span><span class="token string">"4.返回主菜单\n"</span><span class="token punctuation">;</span>
        cin<span class="token operator">&gt;&gt;</span>cnt<span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>cnt<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token function">search_book</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            cout<span class="token operator">&lt;&lt;</span><span class="token string">"请输入您可借的书的记录号（该书的已借出数小于总数）\n"</span><span class="token punctuation">;</span>
            <span class="token keyword">int</span> ans<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
            cin<span class="token operator">&gt;&gt;</span>ans<span class="token punctuation">;</span>
            ifstream <span class="token function">inf</span><span class="token punctuation">(</span><span class="token string">"book.txt"</span><span class="token punctuation">,</span>ios<span class="token operator">::</span>in<span class="token operator">|</span>ios<span class="token operator">::</span>binary<span class="token punctuation">)</span><span class="token punctuation">;</span>
	        inf<span class="token punctuation">.</span><span class="token function">seekg</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>ios<span class="token operator">::</span>end<span class="token punctuation">)</span><span class="token punctuation">;</span>
	        <span class="token keyword">int</span> ncnt<span class="token operator">=</span>inf<span class="token punctuation">.</span><span class="token function">tellg</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	        ncnt<span class="token operator">/</span><span class="token operator">=</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>book<span class="token punctuation">)</span><span class="token punctuation">;</span>
	        inf<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	        <span class="token keyword">if</span><span class="token punctuation">(</span>ans<span class="token operator">&lt;=</span><span class="token number">0</span> <span class="token operator">||</span> ans<span class="token operator">&gt;</span>ncnt<span class="token punctuation">)</span> cout<span class="token operator">&lt;&lt;</span><span class="token string">"该系统无该书\n"</span><span class="token punctuation">;</span>
	        vector<span class="token operator">&lt;</span>book<span class="token operator">&gt;</span>vt<span class="token punctuation">;</span>
	        ifstream <span class="token function">in</span><span class="token punctuation">(</span><span class="token string">"book.txt"</span><span class="token punctuation">,</span>ios<span class="token operator">::</span>binary<span class="token operator">|</span>ios<span class="token operator">::</span>in<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>ncnt<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
            <span class="token punctuation">{<!-- --></span>
                book temp<span class="token punctuation">;</span>
                in<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>temp<span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>book<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>i<span class="token operator">==</span>ans<span class="token punctuation">)</span>
                <span class="token punctuation">{<!-- --></span>
                    temp<span class="token punctuation">.</span>bor<span class="token operator">++</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                vt<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>temp<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            in<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            ofstream <span class="token function">out</span><span class="token punctuation">(</span><span class="token string">"book.txt"</span><span class="token punctuation">,</span>ios<span class="token operator">::</span>out<span class="token operator">|</span>ios<span class="token operator">::</span>binary<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>ncnt<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
            <span class="token punctuation">{<!-- --></span>
                book <span class="token function">temp</span><span class="token punctuation">(</span>vt<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                out<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>temp<span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>book<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            out<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            BR newbr<span class="token punctuation">;</span>
            <span class="token punctuation">{<!-- --></span>
                newbr<span class="token punctuation">.</span>rthis<span class="token operator">=</span>ans<span class="token punctuation">;</span>
                time_t tt<span class="token punctuation">;</span>
                <span class="token function">time</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>tt<span class="token punctuation">)</span><span class="token punctuation">;</span>
                tt<span class="token operator">=</span>tt<span class="token operator">+</span><span class="token number">8</span><span class="token operator">*</span><span class="token number">3600</span><span class="token punctuation">;</span>  <span class="token comment">// transform the time zone</span>
                tm<span class="token operator">*</span> t<span class="token operator">=</span> <span class="token function">gmtime</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>tt<span class="token punctuation">)</span><span class="token punctuation">;</span>
                newbr<span class="token punctuation">.</span>byear<span class="token operator">=</span>t<span class="token operator">-</span><span class="token operator">&gt;</span>tm_year<span class="token operator">+</span><span class="token number">1900</span><span class="token punctuation">,</span>
                newbr<span class="token punctuation">.</span>bmouth<span class="token operator">=</span>t<span class="token operator">-</span><span class="token operator">&gt;</span>tm_mon<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>
	            newbr<span class="token punctuation">.</span>bday<span class="token operator">=</span>t<span class="token operator">-</span><span class="token operator">&gt;</span>tm_mday<span class="token punctuation">,</span>
	            newbr<span class="token punctuation">.</span>bhour<span class="token operator">=</span>t<span class="token operator">-</span><span class="token operator">&gt;</span>tm_hour<span class="token punctuation">,</span>
	            newbr<span class="token punctuation">.</span>bmin<span class="token operator">=</span>t<span class="token operator">-</span><span class="token operator">&gt;</span>tm_min<span class="token punctuation">,</span>
	            newbr<span class="token punctuation">.</span>bsec<span class="token operator">=</span>t<span class="token operator">-</span><span class="token operator">&gt;</span>tm_sec<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">int</span> ry<span class="token punctuation">,</span>rm<span class="token punctuation">,</span>rd<span class="token punctuation">;</span>
            cout<span class="token operator">&lt;&lt;</span><span class="token string">"请输入您的还书日期 (年月日)\n"</span><span class="token punctuation">;</span>
            cin<span class="token operator">&gt;&gt;</span>ry<span class="token operator">&gt;&gt;</span>rm<span class="token operator">&gt;&gt;</span>rd<span class="token punctuation">;</span>
            ubr ti<span class="token punctuation">;</span>
            <span class="token keyword">int</span> rcnt<span class="token operator">=</span>ti<span class="token punctuation">.</span><span class="token function">sum_ubr</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            vector<span class="token operator">&lt;</span>ubr<span class="token operator">&gt;</span>vbr<span class="token punctuation">;</span>
            ifstream <span class="token function">inb</span><span class="token punctuation">(</span><span class="token string">"UBR.txt"</span><span class="token punctuation">,</span>ios<span class="token operator">::</span>in<span class="token operator">|</span>ios<span class="token operator">::</span>binary<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>rcnt<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
            <span class="token punctuation">{<!-- --></span>
                ubr temp<span class="token punctuation">;</span>
                inb<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>temp<span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>ubr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">scmp</span><span class="token punctuation">(</span>temp<span class="token punctuation">.</span>un<span class="token punctuation">,</span>now<span class="token punctuation">.</span><span class="token function">getname</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">{<!-- --></span>
                    newbr<span class="token punctuation">.</span>ryear<span class="token operator">=</span>ry<span class="token punctuation">;</span>
                    newbr<span class="token punctuation">.</span>rmouth<span class="token operator">=</span>rm<span class="token punctuation">;</span>
                    newbr<span class="token punctuation">.</span>rday<span class="token operator">=</span>rd<span class="token punctuation">;</span>
                    temp<span class="token punctuation">.</span>v<span class="token punctuation">[</span>temp<span class="token punctuation">.</span>len<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>newbr<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    temp<span class="token punctuation">.</span>len<span class="token operator">++</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                vbr<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>temp<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            inb<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            ofstream <span class="token function">outb</span><span class="token punctuation">(</span><span class="token string">"UBR.txt"</span><span class="token punctuation">,</span>ios<span class="token operator">::</span>out<span class="token operator">|</span>ios<span class="token operator">::</span>binary<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>rcnt<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
            <span class="token punctuation">{<!-- --></span>
                ubr <span class="token function">temp</span><span class="token punctuation">(</span>vbr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                outb<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>temp<span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>ubr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            outb<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            cout<span class="token operator">&lt;&lt;</span><span class="token string">"借书成功\n"</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>cnt<span class="token operator">==</span><span class="token number">2</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            cout<span class="token operator">&lt;&lt;</span><span class="token string">"请输入您还的书的记录号\n"</span><span class="token punctuation">;</span>
            <span class="token keyword">int</span> ans<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
            cin<span class="token operator">&gt;&gt;</span>ans<span class="token punctuation">;</span>
            ifstream <span class="token function">inf</span><span class="token punctuation">(</span><span class="token string">"book.txt"</span><span class="token punctuation">,</span>ios<span class="token operator">::</span>in<span class="token operator">|</span>ios<span class="token operator">::</span>binary<span class="token punctuation">)</span><span class="token punctuation">;</span>
	        inf<span class="token punctuation">.</span><span class="token function">seekg</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>ios<span class="token operator">::</span>end<span class="token punctuation">)</span><span class="token punctuation">;</span>
	        <span class="token keyword">int</span> ncnt<span class="token operator">=</span>inf<span class="token punctuation">.</span><span class="token function">tellg</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	        ncnt<span class="token operator">/</span><span class="token operator">=</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>book<span class="token punctuation">)</span><span class="token punctuation">;</span>
	        inf<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	        vector<span class="token operator">&lt;</span>book<span class="token operator">&gt;</span>vt<span class="token punctuation">;</span>
	        ifstream <span class="token function">in</span><span class="token punctuation">(</span><span class="token string">"book.txt"</span><span class="token punctuation">,</span>ios<span class="token operator">::</span>binary<span class="token operator">|</span>ios<span class="token operator">::</span>in<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>ncnt<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
            <span class="token punctuation">{<!-- --></span>
                book temp<span class="token punctuation">;</span>
                in<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>temp<span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>book<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>i<span class="token operator">==</span>ans<span class="token punctuation">)</span>
                <span class="token punctuation">{<!-- --></span>
                    temp<span class="token punctuation">.</span>bor<span class="token operator">--</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                vt<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>temp<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            in<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            ofstream <span class="token function">out</span><span class="token punctuation">(</span><span class="token string">"book.txt"</span><span class="token punctuation">,</span>ios<span class="token operator">::</span>out<span class="token operator">|</span>ios<span class="token operator">::</span>binary<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>ncnt<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
            <span class="token punctuation">{<!-- --></span>
                book <span class="token function">temp</span><span class="token punctuation">(</span>vt<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                out<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>temp<span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>book<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            out<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            BR newbr<span class="token punctuation">;</span>
            <span class="token punctuation">{<!-- --></span>
                newbr<span class="token punctuation">.</span>rthis<span class="token operator">=</span>ans<span class="token punctuation">;</span>
                time_t tt<span class="token punctuation">;</span>
                <span class="token function">time</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>tt<span class="token punctuation">)</span><span class="token punctuation">;</span>
                tt<span class="token operator">=</span>tt<span class="token operator">+</span><span class="token number">8</span><span class="token operator">*</span><span class="token number">3600</span><span class="token punctuation">;</span>  <span class="token comment">// transform the time zone</span>
                tm<span class="token operator">*</span> t<span class="token operator">=</span> <span class="token function">gmtime</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>tt<span class="token punctuation">)</span><span class="token punctuation">;</span>
                newbr<span class="token punctuation">.</span>ryear<span class="token operator">=</span>t<span class="token operator">-</span><span class="token operator">&gt;</span>tm_year<span class="token operator">+</span><span class="token number">1900</span><span class="token punctuation">,</span>
                newbr<span class="token punctuation">.</span>rmouth<span class="token operator">=</span>t<span class="token operator">-</span><span class="token operator">&gt;</span>tm_mon<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>
	            newbr<span class="token punctuation">.</span>rday<span class="token operator">=</span>t<span class="token operator">-</span><span class="token operator">&gt;</span>tm_mday<span class="token punctuation">,</span>
	            newbr<span class="token punctuation">.</span>rhour<span class="token operator">=</span>t<span class="token operator">-</span><span class="token operator">&gt;</span>tm_hour<span class="token punctuation">,</span>
	            newbr<span class="token punctuation">.</span>rmin<span class="token operator">=</span>t<span class="token operator">-</span><span class="token operator">&gt;</span>tm_min<span class="token punctuation">,</span>
	            newbr<span class="token punctuation">.</span>rsec<span class="token operator">=</span>t<span class="token operator">-</span><span class="token operator">&gt;</span>tm_sec<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            ubr ti<span class="token punctuation">;</span>
            <span class="token keyword">int</span> rcnt<span class="token operator">=</span>ti<span class="token punctuation">.</span><span class="token function">sum_ubr</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            vector<span class="token operator">&lt;</span>ubr<span class="token operator">&gt;</span>vbr<span class="token punctuation">;</span>
            ifstream <span class="token function">inb</span><span class="token punctuation">(</span><span class="token string">"UBR.txt"</span><span class="token punctuation">,</span>ios<span class="token operator">::</span>in<span class="token operator">|</span>ios<span class="token operator">::</span>binary<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>rcnt<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
            <span class="token punctuation">{<!-- --></span>
                ubr temp<span class="token punctuation">;</span>
                inb<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>temp<span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>ubr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">scmp</span><span class="token punctuation">(</span>temp<span class="token punctuation">.</span>un<span class="token punctuation">,</span>now<span class="token punctuation">.</span><span class="token function">getname</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">{<!-- --></span>
                    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>temp<span class="token punctuation">.</span>len<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
                    <span class="token punctuation">{<!-- --></span>
                        <span class="token keyword">if</span><span class="token punctuation">(</span>temp<span class="token punctuation">.</span>v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>rthis<span class="token operator">==</span>newbr<span class="token punctuation">.</span>rthis<span class="token punctuation">)</span>
                        <span class="token punctuation">{<!-- --></span>
                            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span>temp<span class="token punctuation">.</span>len<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span>
                            <span class="token punctuation">{<!-- --></span>
                                temp<span class="token punctuation">.</span>v<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>temp<span class="token punctuation">.</span>v<span class="token punctuation">[</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                            <span class="token punctuation">}</span>
                            BR tj<span class="token punctuation">;</span>
                            temp<span class="token punctuation">.</span>len<span class="token operator">--</span><span class="token punctuation">;</span>
                            temp<span class="token punctuation">.</span>v<span class="token punctuation">[</span>temp<span class="token punctuation">.</span>len<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>tj<span class="token punctuation">)</span><span class="token punctuation">;</span>
                            <span class="token keyword">break</span><span class="token punctuation">;</span>
                        <span class="token punctuation">}</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
                vbr<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>temp<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            inb<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            ofstream <span class="token function">outb</span><span class="token punctuation">(</span><span class="token string">"UBR.txt"</span><span class="token punctuation">,</span>ios<span class="token operator">::</span>out<span class="token operator">|</span>ios<span class="token operator">::</span>binary<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>rcnt<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
            <span class="token punctuation">{<!-- --></span>
                ubr <span class="token function">temp</span><span class="token punctuation">(</span>vbr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                outb<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>temp<span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>ubr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            outb<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            cout<span class="token operator">&lt;&lt;</span><span class="token string">"还书成功\n"</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>cnt<span class="token operator">==</span><span class="token number">3</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            BR newbr<span class="token punctuation">;</span>
            cout<span class="token operator">&lt;&lt;</span><span class="token string">"正在查询您的借书记录\n"</span><span class="token punctuation">;</span>
            time_t tt<span class="token punctuation">;</span>
            <span class="token function">time</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>tt<span class="token punctuation">)</span><span class="token punctuation">;</span>
            tt<span class="token operator">=</span>tt<span class="token operator">+</span><span class="token number">8</span><span class="token operator">*</span><span class="token number">3600</span><span class="token punctuation">;</span>  <span class="token comment">// transform the time zone</span>
            tm<span class="token operator">*</span> t<span class="token operator">=</span> <span class="token function">gmtime</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>tt<span class="token punctuation">)</span><span class="token punctuation">;</span>
            newbr<span class="token punctuation">.</span>ryear<span class="token operator">=</span>t<span class="token operator">-</span><span class="token operator">&gt;</span>tm_year<span class="token operator">+</span><span class="token number">1900</span><span class="token punctuation">,</span>
            newbr<span class="token punctuation">.</span>rmouth<span class="token operator">=</span>t<span class="token operator">-</span><span class="token operator">&gt;</span>tm_mon<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>
            newbr<span class="token punctuation">.</span>rday<span class="token operator">=</span>t<span class="token operator">-</span><span class="token operator">&gt;</span>tm_mday<span class="token punctuation">,</span>
            newbr<span class="token punctuation">.</span>rhour<span class="token operator">=</span>t<span class="token operator">-</span><span class="token operator">&gt;</span>tm_hour<span class="token punctuation">,</span>
            newbr<span class="token punctuation">.</span>rmin<span class="token operator">=</span>t<span class="token operator">-</span><span class="token operator">&gt;</span>tm_min<span class="token punctuation">,</span>
            newbr<span class="token punctuation">.</span>rsec<span class="token operator">=</span>t<span class="token operator">-</span><span class="token operator">&gt;</span>tm_sec<span class="token punctuation">;</span>
            ubr ti<span class="token punctuation">;</span>
            <span class="token keyword">int</span> rcnt<span class="token operator">=</span>ti<span class="token punctuation">.</span><span class="token function">sum_ubr</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">int</span> flag<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
            ifstream <span class="token function">inb</span><span class="token punctuation">(</span><span class="token string">"UBR.txt"</span><span class="token punctuation">,</span>ios<span class="token operator">::</span>in<span class="token operator">|</span>ios<span class="token operator">::</span>binary<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>rcnt<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
            <span class="token punctuation">{<!-- --></span>
                ubr temp<span class="token punctuation">;</span>
                inb<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>temp<span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>ubr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">scmp</span><span class="token punctuation">(</span>temp<span class="token punctuation">.</span>un<span class="token punctuation">,</span>now<span class="token punctuation">.</span><span class="token function">getname</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">{<!-- --></span>
                    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>temp<span class="token punctuation">.</span>len<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
                    <span class="token punctuation">{<!-- --></span>
                        <span class="token keyword">if</span><span class="token punctuation">(</span>temp<span class="token punctuation">.</span>v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>ryear<span class="token operator">&lt;=</span>newbr<span class="token punctuation">.</span>ryear <span class="token operator">&amp;&amp;</span>
                           temp<span class="token punctuation">.</span>v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>rmouth<span class="token operator">&lt;=</span>newbr<span class="token punctuation">.</span>rmouth <span class="token operator">&amp;&amp;</span>
                           temp<span class="token punctuation">.</span>v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>rday<span class="token operator">&lt;=</span>newbr<span class="token punctuation">.</span>rday<span class="token punctuation">)</span>
                        <span class="token punctuation">{<!-- --></span>
                            flag<span class="token operator">++</span><span class="token punctuation">;</span>
                            cout<span class="token operator">&lt;&lt;</span><span class="token string">"你的记录号为"</span><span class="token operator">&lt;&lt;</span>temp<span class="token punctuation">.</span>v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>rthis<span class="token operator">&lt;&lt;</span><span class="token string">"的书已逾期,请尽快归还\n"</span><span class="token punctuation">;</span>
                        <span class="token punctuation">}</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>flag<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span> cout<span class="token operator">&lt;&lt;</span><span class="token string">"你无书逾期！！\n"</span><span class="token punctuation">;</span>
            inb<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>cnt<span class="token operator">==</span><span class="token number">4</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">search_rec</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    ifstream <span class="token function">in</span><span class="token punctuation">(</span><span class="token string">"book.txt"</span><span class="token punctuation">,</span>ios<span class="token operator">::</span>binary<span class="token operator">|</span>ios<span class="token operator">::</span>in<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>x<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        book temp<span class="token punctuation">;</span>
        in<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>temp<span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>book<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>i<span class="token operator">==</span>x<span class="token punctuation">)</span>temp<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    in<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">int</span> <span class="token function">sum_book</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    ifstream <span class="token function">inf</span><span class="token punctuation">(</span><span class="token string">"book.txt"</span><span class="token punctuation">,</span>ios<span class="token operator">::</span>in<span class="token operator">|</span>ios<span class="token operator">::</span>binary<span class="token punctuation">)</span><span class="token punctuation">;</span>
	inf<span class="token punctuation">.</span><span class="token function">seekg</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>ios<span class="token operator">::</span>end<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> ncnt<span class="token operator">=</span>inf<span class="token punctuation">.</span><span class="token function">tellg</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	ncnt<span class="token operator">/</span><span class="token operator">=</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>book<span class="token punctuation">)</span><span class="token punctuation">;</span>
	inf<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> ncnt<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">HZ</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    cout<span class="token operator">&lt;&lt;</span><span class="token string">"图书主文件\n"</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> n<span class="token operator">=</span><span class="token function">sum_book</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ifstream <span class="token function">in</span><span class="token punctuation">(</span><span class="token string">"book.txt"</span><span class="token punctuation">,</span>ios<span class="token operator">::</span>in<span class="token operator">|</span>ios<span class="token operator">::</span>binary<span class="token punctuation">)</span><span class="token punctuation">;</span>
    cout<span class="token operator">&lt;&lt;</span><span class="token string">"记录号  "</span><span class="token punctuation">;</span>
    cout<span class="token operator">&lt;&lt;</span><span class="token string">"书号  "</span><span class="token punctuation">;</span>
    cout<span class="token operator">&lt;&lt;</span><span class="token string">"书名  "</span><span class="token punctuation">;</span>
    cout<span class="token operator">&lt;&lt;</span><span class="token string">"作者  "</span><span class="token punctuation">;</span>
    cout<span class="token operator">&lt;&lt;</span><span class="token string">"出版社  "</span><span class="token punctuation">;</span>
    cout<span class="token operator">&lt;&lt;</span><span class="token string">"总书量  "</span><span class="token punctuation">;</span>
    cout<span class="token operator">&lt;&lt;</span><span class="token string">"已借出量  "</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>n<span class="token operator">--</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        book temp<span class="token punctuation">;</span>
        in<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>temp<span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>temp<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        cout<span class="token operator">&lt;&lt;</span><span class="token string">"  "</span><span class="token operator">&lt;&lt;</span>temp<span class="token punctuation">.</span>rec<span class="token punctuation">;</span>
        cout<span class="token operator">&lt;&lt;</span><span class="token string">"     "</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>temp<span class="token punctuation">.</span>book_num<span class="token operator">&lt;</span><span class="token number">1000</span><span class="token punctuation">)</span> cout<span class="token operator">&lt;&lt;</span><span class="token string">"0"</span><span class="token punctuation">;</span>
        cout<span class="token operator">&lt;&lt;</span>temp<span class="token punctuation">.</span>book_num<span class="token punctuation">;</span>
        cout<span class="token operator">&lt;&lt;</span><span class="token string">"  "</span><span class="token operator">&lt;&lt;</span>temp<span class="token punctuation">.</span>book_name<span class="token punctuation">;</span>
        cout<span class="token operator">&lt;&lt;</span><span class="token string">"  "</span><span class="token operator">&lt;&lt;</span>temp<span class="token punctuation">.</span>aut<span class="token punctuation">;</span>
        cout<span class="token operator">&lt;&lt;</span><span class="token string">"  "</span><span class="token operator">&lt;&lt;</span>temp<span class="token punctuation">.</span>ph<span class="token punctuation">;</span>
        cout<span class="token operator">&lt;&lt;</span><span class="token string">"  "</span><span class="token operator">&lt;&lt;</span>temp<span class="token punctuation">.</span>sum<span class="token punctuation">;</span>
        cout<span class="token operator">&lt;&lt;</span><span class="token string">"  "</span><span class="token operator">&lt;&lt;</span>temp<span class="token punctuation">.</span>bor<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    in<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    cout<span class="token operator">&lt;&lt;</span><span class="token string">"书名索引\n"</span><span class="token punctuation">;</span>
    <span class="token punctuation">{<!-- --></span>
        ifstream <span class="token function">in</span><span class="token punctuation">(</span><span class="token string">"name.txt"</span><span class="token punctuation">,</span>ios<span class="token operator">::</span>in<span class="token operator">|</span>ios<span class="token operator">::</span>binary<span class="token punctuation">)</span><span class="token punctuation">;</span>
        in<span class="token punctuation">.</span><span class="token function">seekg</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>ios<span class="token operator">::</span>end<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> n<span class="token operator">=</span>in<span class="token punctuation">.</span><span class="token function">tellg</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>n<span class="token operator">&lt;</span><span class="token number">0</span><span class="token punctuation">)</span> n<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
        n<span class="token operator">/</span><span class="token operator">=</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>bname<span class="token punctuation">)</span><span class="token punctuation">;</span>
        in<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ifstream <span class="token function">inf</span><span class="token punctuation">(</span><span class="token string">"name.txt"</span><span class="token punctuation">,</span>ios<span class="token operator">::</span>in<span class="token operator">|</span>ios<span class="token operator">::</span>binary<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            bname btemp<span class="token punctuation">;</span>
            inf<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>btemp<span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>bname<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            cout<span class="token operator">&lt;&lt;</span><span class="token string">"书名"</span><span class="token operator">&lt;&lt;</span>btemp<span class="token punctuation">.</span>b_name<span class="token operator">&lt;&lt;</span><span class="token string">"记录号数量为"</span><span class="token operator">&lt;&lt;</span>btemp<span class="token punctuation">.</span>len<span class="token operator">&lt;&lt;</span><span class="token string">"如下\n"</span><span class="token punctuation">;</span>
            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>btemp<span class="token punctuation">.</span>len<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
            cout<span class="token operator">&lt;&lt;</span>btemp<span class="token punctuation">.</span>v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">&lt;&lt;</span><span class="token string">" "</span><span class="token punctuation">;</span>
            cout<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        inf<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    cout<span class="token operator">&lt;&lt;</span><span class="token string">"作者索引\n"</span><span class="token punctuation">;</span>
    <span class="token punctuation">{<!-- --></span>
     <span class="token comment">// baut</span>
        ifstream <span class="token function">in</span><span class="token punctuation">(</span><span class="token string">"aut.txt"</span><span class="token punctuation">,</span>ios<span class="token operator">::</span>in<span class="token operator">|</span>ios<span class="token operator">::</span>binary<span class="token punctuation">)</span><span class="token punctuation">;</span>
        in<span class="token punctuation">.</span><span class="token function">seekg</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>ios<span class="token operator">::</span>end<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> n<span class="token operator">=</span>in<span class="token punctuation">.</span><span class="token function">tellg</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>n<span class="token operator">&lt;</span><span class="token number">0</span><span class="token punctuation">)</span> n<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
        n<span class="token operator">/</span><span class="token operator">=</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>baut<span class="token punctuation">)</span><span class="token punctuation">;</span>
        in<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ifstream <span class="token function">inf</span><span class="token punctuation">(</span><span class="token string">"aut.txt"</span><span class="token punctuation">,</span>ios<span class="token operator">::</span>in<span class="token operator">|</span>ios<span class="token operator">::</span>binary<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            baut btemp<span class="token punctuation">;</span>
            inf<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>btemp<span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>baut<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            cout<span class="token operator">&lt;&lt;</span><span class="token string">"作者"</span><span class="token operator">&lt;&lt;</span>btemp<span class="token punctuation">.</span>b_aut<span class="token operator">&lt;&lt;</span><span class="token string">"记录号数量为"</span><span class="token operator">&lt;&lt;</span>btemp<span class="token punctuation">.</span>len<span class="token operator">&lt;&lt;</span><span class="token string">"如下\n"</span><span class="token punctuation">;</span><span class="token punctuation">;</span>
            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>btemp<span class="token punctuation">.</span>len<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
            cout<span class="token operator">&lt;&lt;</span>btemp<span class="token punctuation">.</span>v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">&lt;&lt;</span><span class="token string">" "</span><span class="token punctuation">;</span>
            cout<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        inf<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    cout<span class="token operator">&lt;&lt;</span><span class="token string">"出版社索引\n"</span><span class="token punctuation">;</span>
    <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// bph</span>
        ifstream <span class="token function">in</span><span class="token punctuation">(</span><span class="token string">"ph.txt"</span><span class="token punctuation">,</span>ios<span class="token operator">::</span>in<span class="token operator">|</span>ios<span class="token operator">::</span>binary<span class="token punctuation">)</span><span class="token punctuation">;</span>
        in<span class="token punctuation">.</span><span class="token function">seekg</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>ios<span class="token operator">::</span>end<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> n<span class="token operator">=</span>in<span class="token punctuation">.</span><span class="token function">tellg</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>n<span class="token operator">&lt;</span><span class="token number">0</span><span class="token punctuation">)</span> n<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
        n<span class="token operator">/</span><span class="token operator">=</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>bph<span class="token punctuation">)</span><span class="token punctuation">;</span>
        in<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ifstream <span class="token function">inf</span><span class="token punctuation">(</span><span class="token string">"ph.txt"</span><span class="token punctuation">,</span>ios<span class="token operator">::</span>in<span class="token operator">|</span>ios<span class="token operator">::</span>binary<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            bph btemp<span class="token punctuation">;</span>
            inf<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>btemp<span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>bph<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            cout<span class="token operator">&lt;&lt;</span><span class="token string">"出版社"</span><span class="token operator">&lt;&lt;</span>btemp<span class="token punctuation">.</span>b_ph<span class="token operator">&lt;&lt;</span><span class="token string">"记录号数量为"</span><span class="token operator">&lt;&lt;</span>btemp<span class="token punctuation">.</span>len<span class="token operator">&lt;&lt;</span><span class="token string">"如下\n"</span><span class="token punctuation">;</span><span class="token punctuation">;</span>
            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>btemp<span class="token punctuation">.</span>len<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
            cout<span class="token operator">&lt;&lt;</span>btemp<span class="token punctuation">.</span>v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">&lt;&lt;</span><span class="token string">" "</span><span class="token punctuation">;</span>
            cout<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        inf<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/326b359688db152a240b07aa4e80e22d/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">计算机组成原理笔记</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/0ae99670d4a626bffd78e99f01be19db/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Docker镜像与容器常用命令图文详解</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 追风少年的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>