<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Python-Opencv学习总结（五）：形态学转换 - 追风少年的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Python-Opencv学习总结（五）：形态学转换" />
<meta property="og:description" content="形态学转换主要针对是二值图像
两个输入对象：1.二值图像，2.卷积核：一个数组
1、图像腐蚀 图像的边变得更细了。可以去除噪声（边上的毛刺）
卷积核的中心点逐个像素扫描原始图像；被扫描到的原始图像中的像素点，只有当卷积核对应的元素值均为1时，其值才为1,否则值为0。
卷积核中心点遍历原始图像，当卷积核中心点所在位置的两边都是白色，即像素值为1的时候，才保留原始图像这个点。
当卷积核中心点所在位置的两边颜色不一样时，则将该处的原始图像设置为0，即变成黑色了。
使用函数erode
dst=cv2.erode(src,kernel,iterations)
src:源图像
kernel:卷积核,一般用一个5行5列的全是1的数组，生成：kernel=np.ones((5,5),np.uint8)
iterations:迭代次数,要进行多少次腐蚀
iterations默认情况下，迭代次数是1，根据需要可以进行多次腐蚀操作。
kernel = np.ones((5,5),np.uint8)
erosion = cv2.erode(o,kernel) 迭代次数为1
erosion = cv2.erode(o,kernel,iterations = 9) 迭代9次
import cv2 import numpy as np o=cv2.imread(r&#39;D:\image\test1.png&#39;,cv2.IMREAD_UNCHANGED) k=np.ones((5,5),np.uint8) r=cv2.erode(o,k,iterations=4) cv2.imshow(&#39;o&#39;,o) cv2.imshow(&#39;r&#39;,r) cv2.waitKey() cv2.destroyAllWindows() 2、图像膨胀 是腐蚀操作的逆操作，图像变大了
图像被腐蚀后，去除了噪声（边上的毛刺），但是会压缩图像。对腐蚀过的图像，进行膨胀处理，可以去除噪声，并保持原有形状。
使用函数dilate
dst=cv2.dilate(src，kernel，iterations)
src:源图像
kernel:卷积核,kernel二np.ones((5,5),np.uint8)
iterations:迭代次数,
import cv2 import numpy as np o=cv2.imread(r&#39;D:\image\test1.png&#39;,cv2.IMREAD_UNCHANGED) k=np.ones((5,5),np.uint8) r=cv2.dilate(o,k,iterations=5) cv2.imshow(&#39;o&#39;,o) cv2.imshow(&#39;r&#39;,r) cv2.waitKey() cv2.destroyAllWindows() 3、图像开运算 经过两次运算：腐蚀&#43;膨胀
关键词：cv2.MORPH_OPEN
函数morphologyEx
opening=cv2.morphologyEx(img,cv2.MORPH_OPEN, kerne)
opening：开运算结果
img：源图像
cv2.MORPH_OPEN：开运算（固定）" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://zhuifengsn.github.io/posts/1aac6ff32b39c20201d9c6168ac61e0e/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-07-18T15:15:14+08:00" />
<meta property="article:modified_time" content="2020-07-18T15:15:14+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="追风少年的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">追风少年的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Python-Opencv学习总结（五）：形态学转换</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>形态学转换主要针对是二值图像<br> 两个输入对象：1.二值图像，2.卷积核：一个数组</p> 
<h3><a id="1_2"></a>1、图像腐蚀</h3> 
<p>图像的边变得更细了。可以去除噪声（边上的毛刺）<br> 卷积核的中心点逐个像素扫描原始图像；被扫描到的原始图像中的像素点，只有当卷积核对应的元素值均为1时，其值才为1,否则值为0。<br> 卷积核中心点遍历原始图像，当卷积核中心点所在位置的两边都是白色，即像素值为1的时候，才保留原始图像这个点。<br> 当卷积核中心点所在位置的两边颜色不一样时，则将该处的原始图像设置为0，即变成黑色了。</p> 
<p><strong>使用函数erode</strong><br> dst=cv2.erode(src,kernel,iterations)<br> src:源图像<br> kernel:卷积核,一般用一个5行5列的全是1的数组，生成：kernel=np.ones((5,5),np.uint8)<br> iterations:迭代次数,要进行多少次腐蚀<br> iterations默认情况下，迭代次数是1，根据需要可以进行多次腐蚀操作。</p> 
<p>kernel = np.ones((5,5),np.uint8)<br> erosion = cv2.erode(o,kernel) 迭代次数为1<br> erosion = cv2.erode(o,kernel,iterations = 9) 迭代9次</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> cv2
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
o<span class="token operator">=</span>cv2<span class="token punctuation">.</span>imread<span class="token punctuation">(</span>r<span class="token string">'D:\image\test1.png'</span><span class="token punctuation">,</span>cv2<span class="token punctuation">.</span>IMREAD_UNCHANGED<span class="token punctuation">)</span>
k<span class="token operator">=</span>np<span class="token punctuation">.</span>ones<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span>np<span class="token punctuation">.</span>uint8<span class="token punctuation">)</span>
r<span class="token operator">=</span>cv2<span class="token punctuation">.</span>erode<span class="token punctuation">(</span>o<span class="token punctuation">,</span>k<span class="token punctuation">,</span>iterations<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">)</span>
cv2<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span><span class="token string">'o'</span><span class="token punctuation">,</span>o<span class="token punctuation">)</span>
cv2<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span><span class="token string">'r'</span><span class="token punctuation">,</span>r<span class="token punctuation">)</span>
cv2<span class="token punctuation">.</span>waitKey<span class="token punctuation">(</span><span class="token punctuation">)</span>
cv2<span class="token punctuation">.</span>destroyAllWindows<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<h3><a id="2_30"></a>2、图像膨胀</h3> 
<p>是腐蚀操作的逆操作，图像变大了<br> 图像被腐蚀后，去除了噪声（边上的毛刺），但是会压缩图像。对腐蚀过的图像，进行膨胀处理，可以去除噪声，并保持原有形状。<br> <strong>使用函数dilate</strong><br> dst=cv2.dilate(src，kernel，iterations)<br> src:源图像<br> kernel:卷积核,kernel二np.ones((5,5),np.uint8)<br> iterations:迭代次数,</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> cv2
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
o<span class="token operator">=</span>cv2<span class="token punctuation">.</span>imread<span class="token punctuation">(</span>r<span class="token string">'D:\image\test1.png'</span><span class="token punctuation">,</span>cv2<span class="token punctuation">.</span>IMREAD_UNCHANGED<span class="token punctuation">)</span>
k<span class="token operator">=</span>np<span class="token punctuation">.</span>ones<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span>np<span class="token punctuation">.</span>uint8<span class="token punctuation">)</span>
r<span class="token operator">=</span>cv2<span class="token punctuation">.</span>dilate<span class="token punctuation">(</span>o<span class="token punctuation">,</span>k<span class="token punctuation">,</span>iterations<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">)</span>
cv2<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span><span class="token string">'o'</span><span class="token punctuation">,</span>o<span class="token punctuation">)</span>
cv2<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span><span class="token string">'r'</span><span class="token punctuation">,</span>r<span class="token punctuation">)</span>
cv2<span class="token punctuation">.</span>waitKey<span class="token punctuation">(</span><span class="token punctuation">)</span>
cv2<span class="token punctuation">.</span>destroyAllWindows<span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre> 
<h3><a id="3_51"></a>3、图像开运算</h3> 
<p>经过两次运算：腐蚀+膨胀<br> 关键词：<strong>cv2.MORPH_OPEN</strong><br> <strong>函数morphologyEx</strong><br> opening=cv2.morphologyEx(img,cv2.MORPH_OPEN, kerne)<br> opening：开运算结果<br> img：源图像<br> cv2.MORPH_OPEN：开运算（固定）<br> kernel：卷积核<br> k=np.ones((5,5),np.uint8)</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> cv2
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
o<span class="token operator">=</span>cv2<span class="token punctuation">.</span>imread<span class="token punctuation">(</span>r<span class="token string">'D:\image\test1.png'</span><span class="token punctuation">)</span>
k<span class="token operator">=</span>np<span class="token punctuation">.</span>ones<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>np<span class="token punctuation">.</span>uint8<span class="token punctuation">)</span>
r<span class="token operator">=</span>cv2<span class="token punctuation">.</span>morphologyEx<span class="token punctuation">(</span>o<span class="token punctuation">,</span>cv2<span class="token punctuation">.</span>MORPH_OPEN<span class="token punctuation">,</span>k<span class="token punctuation">)</span>
cv2<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span><span class="token string">'o'</span><span class="token punctuation">,</span>o<span class="token punctuation">)</span>
cv2<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span><span class="token string">'r'</span><span class="token punctuation">,</span>r<span class="token punctuation">)</span>
cv2<span class="token punctuation">.</span>waitKey<span class="token punctuation">(</span><span class="token punctuation">)</span>
cv2<span class="token punctuation">.</span>destroyAllWindows<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<h3><a id="4_73"></a>4、图像闭运算</h3> 
<p>先膨胀，后腐蚀<br> 它有助于关闭前景物体内部的小孔，或物体上的小黑点。<br> 关键词：<strong>cv2.MORPH_CLOSE</strong><br> <strong>函数morphologyEx</strong><br> closing=cv2.morphologyEx(img, cv2.MORPH_CLOSE, kernel)<br> closing：闭运算结果<br> img：源图像<br> cv2.MORPH_CLOSE：闭运算<br> kernel:卷积核<br> k=np.ones((5,5),np.uint8)</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> cv2
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
o<span class="token operator">=</span>cv2<span class="token punctuation">.</span>imread<span class="token punctuation">(</span>r<span class="token string">'D:\image\test1.png'</span><span class="token punctuation">)</span>
k<span class="token operator">=</span>np<span class="token punctuation">.</span>ones<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>np<span class="token punctuation">.</span>uint8<span class="token punctuation">)</span>
r<span class="token operator">=</span>cv2<span class="token punctuation">.</span>morphologyEx<span class="token punctuation">(</span>o<span class="token punctuation">,</span>cv2<span class="token punctuation">.</span>MORPH_CLOSE<span class="token punctuation">,</span>k<span class="token punctuation">)</span>
cv2<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span><span class="token string">'o'</span><span class="token punctuation">,</span>o<span class="token punctuation">)</span>
cv2<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span><span class="token string">'r'</span><span class="token punctuation">,</span>r<span class="token punctuation">)</span>
cv2<span class="token punctuation">.</span>waitKey<span class="token punctuation">(</span><span class="token punctuation">)</span>
cv2<span class="token punctuation">.</span>destroyAllWindows<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<h3><a id="5_96"></a>5、图像梯度运算</h3> 
<p>膨胀图像减去腐蚀图像=轮廓图像<br> 梯度(image)=膨胀(image)-腐蚀(image)<br> 关键词：<strong>cv2.MORPH_GRADIENT</strong><br> result = cv2.morphologyEx(img, cv2.MORPH_GRADIENT, kernel)<br> result：梯度结果<br> img：原图像<br> cv2.MORPH GRADIENT,梯度<br> kernel：卷积核</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> cv2
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
o<span class="token operator">=</span>cv2<span class="token punctuation">.</span>imread<span class="token punctuation">(</span>r<span class="token string">'D:\image\test1.png'</span><span class="token punctuation">)</span>
k<span class="token operator">=</span>np<span class="token punctuation">.</span>ones<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span>np<span class="token punctuation">.</span>uint8<span class="token punctuation">)</span>
r<span class="token operator">=</span>cv2<span class="token punctuation">.</span>morphologyEx<span class="token punctuation">(</span>o<span class="token punctuation">,</span>cv2<span class="token punctuation">.</span>MORPH_GRADIENT<span class="token punctuation">,</span>k<span class="token punctuation">)</span>
cv2<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span><span class="token string">'o'</span><span class="token punctuation">,</span>o<span class="token punctuation">)</span>
cv2<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span><span class="token string">'r'</span><span class="token punctuation">,</span>r<span class="token punctuation">)</span>
cv2<span class="token punctuation">.</span>waitKey<span class="token punctuation">(</span><span class="token punctuation">)</span>
cv2<span class="token punctuation">.</span>destroyAllWindows<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<h3><a id="6_117"></a>6、图像顶帽</h3> 
<p>礼帽图像=原始图像-开运算图像=得到噪声图像<br> 关键词：<strong>cv2.MORPH_TOPHAT</strong><br> result = cv2.morphologyEx(img,cv2.MORPH_TOPHAT, kernel)<br> cv2.MORPH_TOPHAT：礼帽<br> k=np.ones((5,5),np.uint8)<br> r=cv2.morphologyEx(o,cv2.MORPH_ TOPHAT,k)</p> 
<h3><a id="7_124"></a>7、图像黑帽</h3> 
<p>黑帽图像=闭运算图像-原始图像<br> 得到图像内部的小孔，或前景色中的小黑点<br> result = cv2.morphologyEx(img, cv2.MORPH_BLACKHAT, kernel)<br> cv2.MORPH_BLACKHAT:黑帽<br> k=np.ones((5,5),np.uint8)<br> r=cv2.morphologyEx(o,cv2.MORPH_ BLACKHAT,k)</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/73061a1ed1c1588bfd3760b77af2a935/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Airtest测试Windows窗口翻车？还是想跟你们聊聊测试win窗口的一些问题</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/8421db486ffe0142a12b849f788c9bcb/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Linux Centos中network无法启动的几种解决方案</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 追风少年的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>