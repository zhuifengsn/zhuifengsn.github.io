<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>三维视觉之数字图像处理基础（六） 图像频域滤波 - 追风少年的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="三维视觉之数字图像处理基础（六） 图像频域滤波" />
<meta property="og:description" content="图像频域滤波 1 傅里叶基础 任何可积的函数都可以被展开成正弦函数的形式。
1.1 傅里叶级数 上图c称为频谱图。
三角函数系及其正交性：0，1，cos，sinx，cos2x，sin2x，...，cosnx，sinnx... 在区间[-π,π]上正交，即三角函数系中的任何两个不同的函数的乘积在[-π,π]上的积分为0。
正交性证明：
用微分的思想拆解函数（微元函数）：
设f(x)在区间[a,b]上有定义，且f(x)为微元函数，则：
即：当Δx→0时，函数f(x)在区间[a,b]上的每个点可以构成n维向量F。这时函数f(x)与向量F等价。所以：
这样看来，如有两个这样的函数f(x),g(x)，其在区间[a,b]上正交。就有：两个函数在[a,b]上每一个点的函数值的乘积之和为0。所以：
积化和差公式展开。
由于正交性，所以sinnx和coskx乘积的积分为0。
1.2 傅里叶变换 傅里叶级数的频谱是离散的，傅里叶变换是连续的
1.3 离散傅里叶变换 1.3.1 采样（Sampling） 如下图所示，低于奈奎斯特采样率时，在很函数以及图像之中均出线混淆的问题。
带限函数：对于以原点为中心的有限区间（带宽）[-T，T]外的频率值，傅里叶变换为零的函数f(t)。
1.3.2 卷积定理 对于具有连续变量t的两个连续函数f(t)和h(t)的卷积：
令f(t)、h(t)、f(t)*h(t)、f(t)·h(t)的傅里叶变换分别为F(u)、H(u)、G(u)、J(u),可以证明：
在一个域上的乘积等于另一个域上的卷积：在时域上的卷积等于频率上的乘积，在时域上的乘积等于频域的卷积。
G(u)=F(u)·H(u) J(u)=F(u)H(u)
1.3.3 狄拉克(Dirac)函数 将三种无法处理的信号转换成第四种信号：抽样定理：一个域的离散化等于另一个域的周期化
上述图像中，第一三行频域图表示了频域的离散化，对应的时域里面的图像，为周期化；第二四行的时域图，表示了时域的离散化，对应的频域图里面表现了周期化。
1.3.4 有限长傅里叶分析 对于频域内周期且连续的信号，不需要处理太多周期，只对其中的一个周期进行分析处理
如上图所示：第一幅图里面对输入信号采样，采样率为1000Hz，有两个频率（50/80）叠加噪声组合而成，第二幅图为离散的傅里叶变换之后，得到的频谱图可以有效的定位，可以明确的分辨出50和80Hz的信号。
关键词：提取频谱特征
1.4 快速傅里叶变换 1.4.1 快速傅里叶变换概念 1965年，库利和图基的快速算法几经验证，形成了一套高效运算方法，这就是现在的FFT。这种算法使DFT的运算效率得到了极大的提高，并降低了DFT运算带来的累计量化误差
FFTW世界上最快的傅里叶变换库。
Cooley-Tukey提出的FFT算法的基本思想：
将长序列DFT分解为短序列的DFT：
利用旋转因子ω的周期性、对称性、可约性：
如何将旋转因子的特性应用于FFT中：时域抽取法
1.4.2 时域抽取法 将DFT公式中的项目在时域上重新分组，这样就叫做时域抽取，除此之外还有频率抽取法。
上述推导过程可以划分成下面的图：
1.4.2 快速傅里叶变换的计算量分析 FFT计算量分析：将计算过程分解了三次，分解中的每一次进行四次的复数乘法运算，(上面第二个图)自左向右分解的第一次，两个之间进行一次运算得：N/2；乘法运算的时间远大于加法运算的时间，所以计算量分析过程只考虑乘法。
随着点数的增加，FFT相对DFT越快。
1.5 二维离散傅里叶变换 二维离散傅里叶变换主要针对图像进行：
因为傅里叶变换之后的数字是虚数，所以可以有函数的幅度谱、相位角（虚部与实部的夹角），二维的DFT满足线性、比例、平移、卷积、旋转的关系。
由于图像是离散信号，所以其对应的频谱图为周期信号。
如一维情况，二维傅里叶变换及其反变换在u方向和v方向是无限周期，会造成频谱图的低频部分位于频谱图的四周(如案例1图b所示)，为了方便观测，需将其进行中心化(案例1d所示)，即将F(u,v)变换到F(u-M/2,v-N/2)，只需要对图像乘以(-1)^(x&#43;y)，就可以进行中心化和去中心化
实例分析1：
实例分析2：
如下面案例所示：A上图为渐变的图像，竖直方向像素值统一，其频谱图有三个明显的点，如A下图所示，中间点较为明亮对应图片的直流分量（平均值），左右两个点较暗对应正弦波的频率，B图同理，频率越高两点离中心点的距离越远。C图只保留低频部分，删除高频部分；D为保留高频部分，删除低频部分。这也就是频域滤波的原理。
实例分析3：幅度谱和相位谱的重要性（作用）" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://zhuifengsn.github.io/posts/3d47477e83789291126bef440067af2f/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-05-22T14:16:22+08:00" />
<meta property="article:modified_time" content="2023-05-22T14:16:22+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="追风少年的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">追风少年的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">三维视觉之数字图像处理基础（六） 图像频域滤波</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="_0"></a>图像频域滤波</h2> 
<h3><a id="1__1"></a>1 傅里叶基础</h3> 
<p>任何可积的函数都可以被展开成正弦函数的形式。<br> <img src="https://images2.imgbox.com/0f/1d/FvD1f5qz_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="11___4"></a>1.1 傅里叶级数</h4> 
<p><img src="https://images2.imgbox.com/e5/39/NMMjScb3_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/77/69/DjrFBMIm_o.png" alt="在这里插入图片描述"><br> <strong>上图c称为频谱图</strong>。<br> <strong>三角函数系及其正交性</strong>：<code>0，1，cos，sinx，cos2x，sin2x，...，cosnx，sinnx...</code> 在区间<code>[-π,π]</code>上正交，即三角函数系中的任何两个不同的函数的乘积在<code>[-π,π]</code>上的积分为0。<br> 正交性证明：<br> 用微分的思想拆解函数（微元函数）：<br> 设f(x)在区间[a,b]上有定义，且f(x)为微元函数，则：<br> <img src="https://images2.imgbox.com/e2/f6/JC5j5ZQr_o.png" alt="在这里插入图片描述"><br> 即：当Δx→0时，函数f(x)在区间[a,b]上的每个点可以构成n维向量F。这时函数f(x)与向量F等价。所以：<br> <img src="https://images2.imgbox.com/86/43/B5Mabts7_o.png" alt="在这里插入图片描述"><br> 这样看来，如有两个这样的函数f(x),g(x)，其在区间[a,b]上正交。就有：两个函数在[a,b]上每一个点的函数值的乘积之和为0。所以：<br> <img src="https://images2.imgbox.com/dc/b4/emJRio4i_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/05/86/AkIw6i64_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/69/ad/yHDoP3uW_o.png" alt="在这里插入图片描述"><br> 积化和差公式展开。<br> <img src="https://images2.imgbox.com/4e/91/UFbWJVjE_o.png" alt="在这里插入图片描述"><br> 由于正交性，所以sinnx和coskx乘积的积分为0。<br> <img src="https://images2.imgbox.com/77/32/P6tVsUNR_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/36/fd/ry0xrIo0_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="12___24"></a>1.2 傅里叶变换</h4> 
<p><img src="https://images2.imgbox.com/bf/fa/liP0XmoD_o.png" alt="在这里插入图片描述">傅里叶级数的频谱是离散的，傅里叶变换是连续的</p> 
<h4><a id="13___26"></a>1.3 离散傅里叶变换</h4> 
<h5><a id="131__Sampling_27"></a>1.3.1 采样（Sampling）</h5> 
<p><img src="https://images2.imgbox.com/77/1b/XvV2xkcN_o.png" alt="在这里插入图片描述"><br> 如下图所示，低于奈奎斯特采样率时，在很函数以及图像之中均出线混淆的问题。<br> <img src="https://images2.imgbox.com/86/92/1V95wpeR_o.png" alt="在这里插入图片描述"><br> 带限函数：对于以原点为中心的有限区间（带宽）[-T，T]外的频率值，傅里叶变换为零的函数f(t)。</p> 
<h5><a id="132___32"></a>1.3.2 卷积定理</h5> 
<p>对于具有连续变量t的两个连续函数f(t)和h(t)的卷积：<br> <img src="https://images2.imgbox.com/de/62/ASAK1XPB_o.png" alt="在这里插入图片描述"><br> 令f(t)、h(t)、f(t)*h(t)、f(t)·h(t)的傅里叶变换分别为F(u)、H(u)、G(u)、J(u),可以证明：<br> <strong>在一个域上的乘积等于另一个域上的卷积：在时域上的卷积等于频率上的乘积，在时域上的乘积等于频域的卷积。</strong><br> <strong>G(u)=F(u)·H(u) J(u)=F(u)H(u)</strong><br> <img src="https://images2.imgbox.com/81/79/uiQ8SuCP_o.gif" alt="在这里插入图片描述"></p> 
<h5><a id="133__Dirac_39"></a>1.3.3 狄拉克(Dirac)函数</h5> 
<p><img src="https://images2.imgbox.com/d2/95/r2sF2eB8_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/2b/f6/JqmIqz2i_o.png" alt="在这里插入图片描述"><br> 将三种无法处理的信号转换成第四种信号：<strong>抽样定理：一个域的离散化等于另一个域的周期化</strong><br> <img src="https://images2.imgbox.com/a0/f9/o5zSFJyN_o.png" alt="在这里插入图片描述"><br> 上述图像中，第一三行频域图表示了频域的离散化，对应的时域里面的图像，为周期化；第二四行的时域图，表示了时域的离散化，对应的频域图里面表现了周期化。</p> 
<h5><a id="134___45"></a>1.3.4 有限长傅里叶分析</h5> 
<p>对于频域内周期且连续的信号，不需要处理太多周期，只对其中的一个周期进行分析处理<br> <img src="https://images2.imgbox.com/24/16/QmMNiQrQ_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/3e/fa/h6qpfZWd_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/e6/20/81mNqHr1_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/ed/88/4NBwLL0a_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/fd/b5/cVWclDFm_o.png" alt="在这里插入图片描述"><br> 如上图所示：第一幅图里面对输入信号采样，采样率为1000Hz，有两个频率（50/80）叠加噪声组合而成，第二幅图为离散的傅里叶变换之后，得到的频谱图可以有效的定位，可以明确的分辨出50和80Hz的信号。<br> 关键词：提取频谱特征</p> 
<h4><a id="14___55"></a>1.4 快速傅里叶变换</h4> 
<h5><a id="141___56"></a>1.4.1 快速傅里叶变换概念</h5> 
<p>1965年，库利和图基的快速算法几经验证，形成了一套高效运算方法，这就是现在的FFT。这种算法使DFT的运算效率得到了极大的提高，并降低了DFT运算带来的累计量化误差<br> <strong>FFTW世界上最快的傅里叶变换库。</strong><br> Cooley-Tukey提出的FFT算法的基本思想：<br> 将<strong>长序列DFT</strong>分解为<strong>短序列的DFT</strong>：<br> <img src="https://images2.imgbox.com/ab/9d/YldKkEqi_o.png" alt="在这里插入图片描述"><br> <strong>利用旋转因子ω的周期性、对称性、可约性：</strong><br> <img src="https://images2.imgbox.com/20/1a/MDyjYTrv_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/76/7a/xuT5pcsF_o.png" alt="在这里插入图片描述"><br> 如何将旋转因子的特性应用于FFT中：时域抽取法</p> 
<h5><a id="142___66"></a>1.4.2 时域抽取法</h5> 
<p><strong>将DFT公式中的项目在时域上重新分组，这样就叫做时域抽取</strong>，除此之外还有频率抽取法。<br> <img src="https://images2.imgbox.com/49/d6/FC29wUsu_o.png" alt="在这里插入图片描述"><br> 上述推导过程可以划分成下面的图：<br> <img src="https://images2.imgbox.com/46/d0/9d2CkrDi_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/4c/1b/AnQAIZ1G_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/87/fa/Hc0UyrWl_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="142___73"></a>1.4.2 快速傅里叶变换的计算量分析</h5> 
<p><img src="https://images2.imgbox.com/44/8e/uPkPiNdd_o.png" alt="在这里插入图片描述"><br> FFT计算量分析：将计算过程分解了三次，分解中的每一次进行四次的复数乘法运算，(上面第二个图)自左向右分解的第一次，两个之间进行一次运算得：N/2；<strong>乘法运算的时间远大于加法运算的时间</strong>，所以计算量分析过程只考虑乘法。</p> 
<p>随着点数的增加，FFT相对DFT越快。</p> 
<h4><a id="15___79"></a>1.5 二维离散傅里叶变换</h4> 
<p>二维离散傅里叶变换主要针对图像进行：<br> <img src="https://images2.imgbox.com/15/cd/HHFhRvMz_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/6f/06/8JaDIiL3_o.png" alt="在这里插入图片描述"><br> <strong>因为傅里叶变换之后的数字是虚数，所以可以有函数的幅度谱、相位角（虚部与实部的夹角），二维的DFT满足线性、比例、平移、卷积、旋转的关系。</strong><br> <strong>由于图像是离散信号，所以其对应的频谱图为周期信号。</strong><br> 如一维情况，<strong>二维傅里叶变换及其反变换在u方向和v方向是无限周期</strong>，会造成频谱图的低频部分位于频谱图的四周(如案例1图b所示)，为了方便观测，需将其进行中心化(案例1d所示)，即将F(u,v)变换到F(u-M/2,v-N/2)，只需要对图像乘以(-1)^(x+y)，就可以进行<strong>中心化和去中心化</strong><br> <img src="https://images2.imgbox.com/e8/37/4LgdQAZT_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/1a/f4/XoKfqHGr_o.png" alt="在这里插入图片描述"><br> <strong>实例分析1：</strong><br> <img src="https://images2.imgbox.com/a3/f8/P1cbS2qH_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/80/38/uZhqpqAA_o.png" alt="在这里插入图片描述"><br> <strong>实例分析2：</strong><br> 如下面案例所示：A上图为渐变的图像，竖直方向像素值统一，其频谱图有三个明显的点，如A下图所示，中间点较为明亮对应图片的直流分量（平均值），左右两个点较暗对应正弦波的频率，B图同理，频率越高两点离中心点的距离越远。C图只保留低频部分，删除高频部分；D为保留高频部分，删除低频部分。<strong>这也就是频域滤波的原理。</strong><br> <img src="https://images2.imgbox.com/37/41/bOKVjPdk_o.png" alt="在这里插入图片描述"><br> <strong>实例分析3：幅度谱和相位谱的重要性（作用）</strong><br> 频谱图有幅度谱、相位谱两种。相位谱决定图像的轮廓，幅度谱决定图像的相位分布。图像的明暗、灰度变化趋势等则取决于幅度谱，即幅度谱反映了图像整体上各个方向的频率分量的相对强度<br> <img src="https://images2.imgbox.com/3b/da/SPmqg4H4_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="2__98"></a>2 频域滤波</h3> 
<p><img src="https://images2.imgbox.com/3d/7f/oTqPrfQs_o.png" alt="在这里插入图片描述"><br> 首先，对储物图像进行预处理，即(-1)^(x+y)乘上原图像；<br> 然后，进行快速傅里叶变换；<br> 然后，在频域使用滤波器，对信号相乘；<br> 然后，IFFT返回时域信号；<br> 然后，去中心化</p> 
<h4><a id="21__105"></a>2.1 滤波器</h4> 
<h5><a id="211__106"></a>2.1.1 理想滤波器</h5> 
<p><strong>低通滤波器</strong>：设定一个频率点，当信号频率高于这个频率时不能通过，在数字信号中，这个频率点也就是截止频率，当频域高于这个截止频率时，则全部赋值为0。因为在这一处理过程中，让低频信号全部通过。<br> <strong>高通滤波器</strong>：设定一个频率点，当信号频率低于这个频率时不能通过，则全部赋值为0，因为在这一处理过程中，让高频信号全部通过。<br> <img src="https://images2.imgbox.com/5c/43/k14R71E0_o.png" alt="在这里插入图片描述">上图，右侧案例，上面一行为图像的频谱图，下面为图像，第一列为原图，第二列为低通滤波图像，第三列为高通滤波图像。<br> <strong>理想滤波器的边缘比较陡峭</strong>，对于傅里叶变换需要更多频率的正弦波叠加拟合这一情况。因此产生<strong>振铃现象</strong>，所以工程中很少使用。</p> 
<h5><a id="212_Butterwoth_111"></a>2.1.2 Butterwoth滤波器</h5> 
<p><strong>特点：通频带内的频率响应曲线非常的平坦，所以结果没有涟漪</strong>，能够把一些高频信号滤除，且不造成涟漪，<br> <img src="https://images2.imgbox.com/8e/74/ofW0dmL8_o.png" alt="在这里插入图片描述"><br> 通频带：</p> 
<h5><a id="213__116"></a>2.1.3 指数滤波器</h5> 
<p>指数滤波器的阶数为1的时候为高斯滤波器，高斯滤波器的过渡特征非常平坦，不会产生振铃现象。<img src="https://images2.imgbox.com/e1/6d/7uy2CiXx_o.png" alt="在这里插入图片描述"><br> <strong>实例：</strong><br> 上述三种滤波器的实现代码，右侧还添加了带通滤波器和带阻滤波器的实现方式。<br> <img src="https://images2.imgbox.com/13/72/BypYclI3_o.png" alt="在这里插入图片描述"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/90e949303bff7270277b1dcb798c7ed2/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Docker启动Centos7容器，并在容器中安装Docker，且开启SSH</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/e7e0d26c0249e80f86b391e2c10f2859/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Ubuntu22.04 下使用 Conda 安装 tensorflow-gpu 版本</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 追风少年的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>