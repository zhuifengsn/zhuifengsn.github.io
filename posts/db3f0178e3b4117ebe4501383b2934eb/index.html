<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>多项式相加减【数据结构实验报告】 - 追风少年的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="多项式相加减【数据结构实验报告】" />
<meta property="og:description" content="实验名称：实验一 多项式加减法
学号：***
姓名：gnosed
实验日期：2017.10.16
一、实验目的
通过实现多项式的加减法，对链表有更深入的了解
二、实验具体内容
1、实验题目1：
（1）题目
问题描述：
设计一个一元稀疏多项式简单的加减法计算器
实现要求：
一元稀疏多项式简单计算器的基本功能是：
（1）输入并建立多项式
（2）输出多项式
（3）多项式A和B相加，建立多项式C＝A＋B，并输出相加的结果多项式C
（4）选作：多项式A和B相减，建立多项式C＝A－B，并输出相加的结果多项式D
（5）添加多项式因式
（6）摧毁多项式
（2）分析
对于各种功能
（1） 输入并建立多项式：
为输入输出格式的统一，本人规定因式格式为ax^b(a,b为int 类型) 。
规定指数呈递增输入输出。
创建两个单链表，表示两个一元多项式，单链表的一个结点表示多项式的一个因式，结点有一元参数的系数域、指数域和连接多个因式的指针域。
为方便对多项式进行删除或修改，单链表应该带空头结点。
（2） 输出多项式：
输出各系数的符号时，要判断系数是正数则在其前输出加号，是负数则只需输出它本身（自带负号）。
（3） 多项式A和B相加或相减
申请两个节点指针分别指向A和B的首个因式，比较它们的指数，
相同则系数相加减，申请新的节点来储存系数和指数，两个指针同时右移；
若不相同，则将指数小的因式赋值给新申请的节点，插在新的单链表上，将指向指数较小因式的指针右移。
重复上述比较，当有指针为空时，
若有一个指针为空，则将另一个指针指向的剩余的多项式因式连接到新的多项式后面；
若两个指针同时为空，return。
由此看出，规定按指数从小到大的顺序储存多项式，决定了实现多项式相加减的这种算法的出现。
（4） 添加多项式因式：
因为多项式是按指数从小到大储存的，所以插入新因式时，需要找到插入的位置。充分考虑是单链表的前头中间还是末尾。
（5） 摧毁多项式：
申请一个节点类型的指针，通过其移动，释放掉单链表的全部节点，返回空的头结点。
（3）实验代码
源代码：
（1） Poly.h 头文件
#ifndefPOLY_H_INCLUDED #definePOLY_H_INCLUDED structPolynode{ int cof,exp; struct Polynode* next; }; typedef structPolynode* plist; plistCrea_poly(plist head); voidprint_poly(plist head); plistaddnode_poly(plist head); plistdestor_poly(plist head); plistadd_or_substr_poly(plist a,plist b,char ope); #endif //POLY_H_INCLUDED （2） Poly." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://zhuifengsn.github.io/posts/db3f0178e3b4117ebe4501383b2934eb/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2017-10-20T02:01:11+08:00" />
<meta property="article:modified_time" content="2017-10-20T02:01:11+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="追风少年的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">追风少年的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">多项式相加减【数据结构实验报告】</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h4> </h4><p align="center"><br> </p> <p><span style="font-size:14px; font-weight:normal">实验名称：实验一 多项式加减法</span></p> <p><span style="font-size:14px; font-weight:normal">学号：***</span></p> <p><span style="font-size:14px; font-weight:normal">姓名：gnosed</span></p> <p><span style="font-size:14px; font-weight:normal">实验日期：2017.10.16</span></p> <p><span style="font-size:14px; font-weight:normal"> </span></p> <p><span style="font-weight:normal"><span style="font-size:14px">一、实验目的</span></span></p> <p><span style="font-size:14px; font-weight:normal">通过实现多项式的加减法，对链表有更深入的了解</span></p> <p><span style="font-weight:normal"><span style="font-size:14px">二、实验具体内容</span></span></p> <p><span style="font-weight:normal"><span style="font-size:14px">1、实验题目1：</span></span></p> <p><span style="font-weight:normal"><span style="font-size:14px">（1）题目</span></span></p> <p><span style="font-weight:normal"><span style="font-size:14px; background-color:rgb(255,255,255)">问题描述：</span></span></p> <p><span style="font-size:14px; font-weight:normal">设计一个一元稀疏多项式简单的加减法计算器</span></p> <p><span style="font-weight:normal"><span style="font-size:14px; background-color:rgb(255,255,255)">实现要求：</span></span></p> <p><span style="font-size:14px; font-weight:normal">一元稀疏多项式简单计算器的基本功能是：</span></p> <p><span style="font-size:14px; font-weight:normal">（1）输入并建立多项式</span></p> <p></p> <p><span style="font-size:14px; font-weight:normal">（2）输出多项式</span></p> <p><span style="font-size:14px; font-weight:normal">（3）多项式A和B相加，建立多项式C＝A＋B，并输出相加的结果多项式C</span></p> <p><span style="font-size:14px; font-weight:normal">（4）选作：多项式A和B相减，建立多项式C＝A－B，并输出相加的结果多项式D</span></p> <p><span style="font-size:14px; font-weight:normal; background-color:rgb(255,255,255)"><span style="">（</span><span style="">5</span><span style="">）添加多项式因式</span></span></p> <p><span style="font-size:14px; font-weight:normal; background-color:rgb(255,255,255)"><span style="">（</span><span style="">6</span><span style="">）摧毁多项式</span></span></p> <p><br> </p> <p><span style="font-weight:normal"><span style="font-size:14px">（2）分析</span></span></p> <p><span style="font-size:14px; font-weight:normal">对于各种功能</span></p> <p><span style="font-size:14px; font-weight:normal">（1）     输入并建立多项式：</span></p> <p><span style="font-size:14px; font-weight:normal">为输入输出格式的统一，本人规定因式格式为ax^b(a,b为int 类型) 。</span></p> <p><span style="font-size:14px; font-weight:normal">规定指数呈递增输入输出。</span></p> <p><span style="font-size:14px; font-weight:normal">创建两个单链表，表示两个一元多项式，单链表的一个结点表示多项式的一个因式，结点有一元参数的系数域、指数域和连接多个因式的指针域。</span></p> <p><span style="font-size:14px; font-weight:normal">为方便对多项式进行删除或修改，单链表应该带空头结点。</span></p> <p><span style="font-size:14px; font-weight:normal">（2）     输出多项式：</span></p> <p><span style="font-size:14px; font-weight:normal">输出各系数的符号时，要判断系数是正数则在其前输出加号，是负数则只需输出它本身（自带负号）。</span></p> <p><span style="font-size:14px; font-weight:normal">（3）     多项式A和B相加或相减</span></p> <p><span style="font-size:14px; font-weight:normal">申请两个节点指针分别指向A和B的首个因式，比较它们的指数，</span></p> <p><span style="font-size:14px; font-weight:normal">相同则系数相加减，申请新的节点来储存系数和指数，两个指针同时右移；</span></p> <p><span style="font-size:14px; font-weight:normal">若不相同，则将指数小的因式赋值给新申请的节点，插在新的单链表上，将指向指数较小因式的指针右移。</span></p> <p><span style="font-size:14px; font-weight:normal">重复上述比较，当有指针为空时，</span></p> <p><span style="font-size:14px; font-weight:normal">若有一个指针为空，则将另一个指针指向的剩余的多项式因式连接到新的多项式后面；</span></p> <p><span style="font-size:14px; font-weight:normal">若两个指针同时为空，return。</span></p> <p><span style="font-size:14px; font-weight:normal">由此看出，规定按指数从小到大的顺序储存多项式，决定了实现多项式相加减的这种算法的出现。</span></p> <p><span style="font-size:14px; font-weight:normal">（4）     添加多项式因式：</span></p> <p><span style="font-size:14px; font-weight:normal">因为多项式是按指数从小到大储存的，所以插入新因式时，需要找到插入的位置。充分考虑是单链表的前头中间还是末尾。</span></p> <p><span style="font-size:14px; font-weight:normal">（5）     摧毁多项式：</span></p> <p><span style="font-size:14px; font-weight:normal">申请一个节点类型的指针，通过其移动，释放掉单链表的全部节点，返回空的头结点。</span></p> <p><span style="font-size:14px; font-weight:normal"> </span></p> <p><span style="font-weight:normal"><span style="font-size:14px">（3）实验代码</span></span></p> <p><span style="font-weight:normal"><span style="font-size:14px">源代码：</span></span></p> <p><span style="font-weight:normal"><span style="font-size:14px">（1）     Poly.h 头文件</span></span></p> <p></p> <pre><code class="language-cpp">#ifndefPOLY_H_INCLUDED
#definePOLY_H_INCLUDED
structPolynode{
    int cof,exp;
    struct Polynode* next;
};
typedef structPolynode* plist;
 
plistCrea_poly(plist head);
voidprint_poly(plist head);
plistaddnode_poly(plist head);
plistdestor_poly(plist head);
plistadd_or_substr_poly(plist a,plist b,char ope);
 
#endif //POLY_H_INCLUDED</code></pre> <p><br> </p> <p><span style="font-weight:normal"><span style="font-size:14px">（2）  Poly.cpp 方法文件</span></span></p> <p></p> <pre><code class="language-cpp">#include&lt;iostream&gt;
#include&lt;cstdlib&gt;
#include"Poly.h"
 
usingnamespace std;
 
intstr_to_dec(string s){
    int ans=0;
    int l=s.size(),ten=10*(l-1);
    for(int j=0;j&lt;l;j++){
    if(ten) ans+=(s[j]-'0')*ten;
    else   ans+=s[j]-'0';
    ten/=10;
    }
    return ans;
}
 
plistCrea_poly(plist head){
    head=(plist)malloc(sizeof(structPolynode));
    head-&gt;next=NULL;
    plist p=head;
 
 
    char ope='+';
    string poly;string tcof="";
    cin&gt;&gt;poly;
    for(int i=5;i&lt;poly.size();i++){
        if(poly[5]=='-')    ope='-';
        if(poly[i]=='+'||poly[i]=='-'){
            ope=poly[i];    continue;
        }
        if(poly[i]=='x'){
            int varcof=str_to_dec(tcof);//字符串式系数转为十进制数
            plist t=(plist)malloc(sizeof(structPolynode));
           ope=='+'?t-&gt;cof=varcof:t-&gt;cof=-varcof;
            tcof="";
            ope='+';
 
            string texp="";
            int k=i+2;
            while(poly[k]!='+'&amp;&amp;poly[k]!='-'&amp;&amp;k&lt;poly.size()){
                texp+=poly[k];
                k++;
            }
            int varexp=str_to_dec(texp);//字符串式的指数转化为十进制
            t-&gt;exp=varexp;
            p-&gt;next=t;
            p=t;
            i=k-1;  continue;
        }
        tcof+=poly[i];
    }
    p-&gt;next=NULL;
    return head;
}
 
voidprint_poly(plist head){
    if(head==NULL){
        cout&lt;&lt;" isnull!\n";return;
    }
    cout&lt;&lt;"=";
    head=head-&gt;next;
    while(head){
        if(head-&gt;cof==0)
            head=head-&gt;next;
        if(head-&gt;cof&gt;0)   cout&lt;&lt;"+";
       cout&lt;&lt;head-&gt;cof&lt;&lt;"x^"&lt;&lt;head-&gt;exp;
        head=head-&gt;next;
    }
    cout&lt;&lt;endl;
}
 
plistaddnode_poly(plist head){
    cout&lt;&lt;"Input cof,exp toadd:"&lt;&lt;endl;
    int c,e;
    cin&gt;&gt;c&gt;&gt;e;
    if(head==NULL){
        plistnewhead=(plist)malloc(sizeof(struct Polynode));
        plist t=(plist)malloc(sizeof(structPolynode));
        newhead-&gt;next=t;
        t-&gt;cof=c;
        t-&gt;exp=e;
        newhead-&gt;next=t;
        t-&gt;next=NULL;
        return newhead;
    }
    else{
        plist p=head-&gt;next;
        if(p-&gt;exp&gt;e){
        plist t=(plist)malloc(sizeof(structPolynode));
        t-&gt;cof=c;
        t-&gt;exp=e;
        t-&gt;next=p;
        head-&gt;next=t;
        }
        else if(p-&gt;exp==e){
            p-&gt;cof+=c;
            return head;
        }
        else{
            plist pre;
           while(p!=NULL&amp;&amp;p-&gt;exp&lt;e){
                pre=p;
                p=p-&gt;next;
            }
            if(p==NULL){
                plistt=(plist)malloc(sizeof(struct Polynode));
                t-&gt;cof=c;
                t-&gt;exp=e;
                pre-&gt;next=t;
                t-&gt;next=NULL;
            }
            else if(p-&gt;exp&gt;e){
                plistt=(plist)malloc(sizeof(struct Polynode));
                t-&gt;cof=c;
                t-&gt;exp=e;
                t-&gt;next=p;
                pre-&gt;next=t;
            }
            else if(p-&gt;exp==e)
                p-&gt;cof+=c;
        }
        return head;
    }
}
 
plistdestor_poly(plist head){
    plist t=head;
    while(t){
        head=head-&gt;next;
        free(t);
        t=head;
    }
    return t;
}
 
plistadd_or_substr_poly(plist a,plist b,char ope){
    if(a==NULL||b==NULL){
        cout&lt;&lt;"A(x) or B(x)";return 0;
    }
    plist i=a-&gt;next;
    plist j=b-&gt;next;
    plist k=(plist)malloc(sizeof(structPolynode));
    plist new_poly_head=k;
    plist t;
    while(i!=NULL&amp;&amp;j!=NULL){
        t=(plist)malloc(sizeof(structPolynode));
        if(i-&gt;exp==j-&gt;exp){
           ope=='+'?t-&gt;cof=i-&gt;cof+j-&gt;cof:t-&gt;cof=i-&gt;cof-j-&gt;cof;
            t-&gt;exp=i-&gt;exp;
            i=i-&gt;next;
            j=j-&gt;next;
        }
        else if(i-&gt;exp&lt;j-&gt;exp){
            t-&gt;cof=i-&gt;cof;
            t-&gt;exp=i-&gt;exp;
            i=i-&gt;next;
        }
        else if(i-&gt;exp&gt;j-&gt;exp){
            ope=='+'?t-&gt;cof=j-&gt;cof:t-&gt;cof=-j-&gt;cof;
            t-&gt;exp=j-&gt;exp;
            j=j-&gt;next;
        }
        k-&gt;next=t;
        k=t;
    }
    if(i==NULL&amp;&amp;j!=NULL){
        k-&gt;next=j;
        if(ope=='-'){
            k=k-&gt;next;
            while(k!=NULL){
                k-&gt;cof=-k-&gt;cof;
                k=k-&gt;next;
            }
        }
    }
    else if(j==NULL&amp;&amp;i!=NULL)    k-&gt;next=i;
    else k-&gt;next=NULL;
    return new_poly_head;
}
</code></pre> <p><br> </p> <p><span style="font-weight:normal"><span style="font-size:14px">（3）  Main.cpp 主函数</span></span></p> <p></p> <pre><code class="language-cpp">//sourcefile2: "main.cpp"
#include&lt;iostream&gt;
#include"Poly.h"
 
usingnamespace std;
 
void print(){
cout&lt;&lt;"********************************\n";
}
int main()
{
    cout&lt;&lt;"******PolynomialOperation******"&lt;&lt;endl;
    cout&lt;&lt;"   Please create poly A(x),B(x)first"&lt;&lt;endl;
    plist lis1=Crea_poly(lis1);
    plist lis2=Crea_poly(lis2);
    print();
    cout&lt;&lt;"Input number to operateA(x),B(x)"&lt;&lt;endl;
    cout&lt;&lt;"0.Adding a factor\n1.AddA(x) to B(x)\n2.A(x) minus B(x)\n";
    cout&lt;&lt;"3.Print A(x),B(x)\n4.Destroy\n5.stop\n";
    print();
    int n;string c;
    while(cin&gt;&gt;n){
        switch(n){
            case 0:
                cout&lt;&lt;"A(x) orB(x)?"&lt;&lt;endl;  cin&gt;&gt;c;
               c=="A(x)"?lis1=addnode_poly(lis1):
                lis2=addnode_poly(lis2);break;
            case 1:
               cout&lt;&lt;"C(x)";print_poly(add_or_substr_poly(lis1,lis2,'+'));break;
            case 2:
               cout&lt;&lt;"C(x)";print_poly(add_or_substr_poly(lis1,lis2,'-'));break;
            case3:cout&lt;&lt;"A(x)";print_poly(lis1);cout&lt;&lt;"B(x)";print_poly(lis2);break;
            case 4:
                cout&lt;&lt;"A(x) orB(x)?"&lt;&lt;endl;  cin&gt;&gt;c;
               c=="A(x)"?lis1=destor_poly(lis1):lis2=destor_poly(lis2);
                    cout&lt;&lt;"Haddestroyed!"&lt;&lt;endl;break;
            default:return 0;
        }
        print();
    }
    return 0;
}
</code></pre> <p><br> </p> <p><span style="font-weight:normal"><span style="font-size:14px">运行结果：</span></span></p> <pre><code class="language-php">******PolynomialOperation******
   Please create poly A(x),B(x) first
A(x)=7x^0+3x^1+9x^8+5x^17
B(x)=-8x^1+22x^7-9x^8
********************************
Input numberto operate A(x),B(x)
0.Adding afactor
1.Add A(x) toB(x)
2.A(x) minusB(x)
3.PrintA(x),B(x)
4.Destroy
5.stop
********************************
3
A(x)=+7x^0+3x^1+9x^8+5x^17
B(x)=-8x^1-22x^7-9x^8
********************************
1
C(x)=+7x^0-5x^1-22x^7+5x^17
********************************
2
C(x)=+7x^0+11x^1+22x^7+18x^8+5x^17
********************************
0
A(x) or B(x)?
A(x)
Input cof,expto add:
-23 -7
********************************
0
A(x) or B(x)?
B(x)
Input cof,expto add:
8 7
********************************
0
A(x) or B(x)?
A(x)
Input cof,expto add:
-15 17
********************************
0
A(x) or B(x)?
B(x)
Input cof,expto add:
36 123
********************************
3
A(x)=-23x^-7+7x^0+3x^1+9x^8-10x^17
B(x)=-8x^1-14x^7-9x^8+36x^123
********************************
1
C(x)=-23x^-7+7x^0-5x^1-14x^7-10x^17+36x^123
********************************
2
C(x)=-23x^-7+7x^0+11x^1+14x^7+18x^8-10x^17-36x^123
********************************
4
A(x) or B(x)?
A(x)
Had destroyed!
********************************
3
A(x) is null!
B(x)=-8x^1-14x^7-9x^8-36x^123
********************************
1
C(x)A(x) orB(x) is null!
********************************
2
C(x)A(x) orB(x) is null!
********************************
4
A(x) or B(x)?
B(x)
Had destroyed!
********************************
3
A(x) is null!
B(x) is null!
********************************
1
C(x)A(x) orB(x) is null!
********************************
2
C(x)A(x) orB(x) is null!
********************************
0
A(x) or B(x)?
A(x)
Input cof,expto add:
-666 -23
********************************
0
A(x) or B(x)?
B(x)
Input cof,expto add:
999 32
********************************
3
A(x)=-666x^-23
B(x)=+999x^32
********************************
1
C(x)=-666x^-23+999x^32
********************************
2
C(x)=-666x^-23-999x^32
********************************
4
A(x) or B(x)?
A(x)
Had destroyed!
********************************
4
A(x) or B(x)?
B(x)
Had destroyed!
********************************
3
A(x) is null!
B(x) is null!
********************************
5
 
Processreturned 0 (0x0)   execution time :33.397 s
Press any keyto continue.
</code></pre><br> <p></p> <p><span style="font-weight:normal"><span style="font-size:14px">三、实验小结</span></span></p> <p><span style="font-size:14px; font-weight:normal">1.      实现代码之前，对框架和具体方法的思考不全，以致实现过程中停顿次数多，效率低。</span></p> <p><span style="font-size:14px; font-weight:normal">2.      实现各个代码框架要主次分明，一块一块搭建，专心实现一种方法。</span></p> <p><span style="font-size:14px; font-weight:normal">3.      在代码量增多的情况下找bug，单步调式跟踪代码尤为高效解决bug。</span></p> <p><span style="font-size:14px; font-weight:normal">4.      此代码本人规定输入输出格式为ax^b(a,b为int 类型)，当 b=0 时也依照此输入输出，难免有些呆板，例如当多项式其中一个式子是常数时。这涉及到字符串的细心处理，这些技巧倒是占用不少实现时间。</span></p> <p><span style="font-size:14px; font-weight:normal">5.      本实验以单链表为基础，通过对其各种ADT 实现，自己对单链表的使用更为熟练，理解更为深刻。</span></p>  
<pre name="code" class="cpp"></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/bfcfa3a3ca99fb81a3463f834879ca8f/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">一张图看懂docker命令</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/808f9f2edc342aafde935bb531f5bae2/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">js判断本地是否安装app</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 追风少年的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>