<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>详解 QT 皮肤 QSS编程(1) - 追风少年的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="详解 QT 皮肤 QSS编程(1)" />
<meta property="og:description" content="QT 皮肤 QSS编程是本文要介绍的内容，借用css 的灵感，Qt也支持Qt自己的css,简称qss。同css 相似，qss的主要功能与最终目的都是能使界面的表现与界面的元素分离，即质与形的分离，就如同一个人可以在不同的时候穿上不同的衣服一样，css机制的引入，使得设计一种皮肤与界面控件分离的软件成为可能，应用程序也能像web界面那样随意地改变外观。
一、QSS语法
同css一样，他也有由一个selector与一个declaration组成，selector指定了是对哪一个控件产生效果，而declaration才是真正的产生作用的语句。如：
QPushButton { color: red } QPushButton指定了是对所有的QPushButton或是其子类控件（如用户定义的MyPushButton）产生影响，而color:red表明所有的受影响控件的前景色都为red。
除了“类名”，“对象名”，“Qt属性名”这三样东西是大小写敏感的外其他的东西都是大小写不敏感的，如color与Color代表同一属性。
如果有几个selector指定了相同的declaration,可以使用逗号（,）将各个选择器分开，如：
QPushButton, QLineEdit, QComboBox{ color: red } 他相当于：
QPushButton { color: red } QLineEdit { color: red } QComboBox{ color: red } declaration部份是一系列的（属性：值）对，使用分号（;）将各个不同的属性值对分开，使用大括号（{}）将所有declaration包含在一起。
1、一般选择器（selector）
Qt支持所有的CSS2定义的选择器，其祥细内容可以在w3c的网站上查找 http://www.w3.org/TR/CSS2/selector.html ，其中比较常用的selector类型有：
通用类型选择器：*会对所有控件有效果。
类型选择器：QPushButton匹配所有QPushButton的实例和其子类的实例。
属性选择器：QPushButton[flat=”false”]匹配所有QPushButton属性flat为false的实例，属性分为两种，静态的和动态的，静态属性可以通过Q_PROPERTY()来指定，来动态属性可以使用setProperty来指定，如：
QLineEdit *nameEdit = new QLineEdit(this); nameEdit-&gt;setProperty(&#34;mandatoryField&#34;, true); 如果在设置了qss后Qt属性改变了，需要重新设置qss来使其生效，可以使用先unset再set qss。
类选择器：.QPushButton匹配所有QPushButton的实例，但不包含其子类，这相当于：*[class~=&#34;QPushButton&#34;] ~=的意思是测试一个QStringList类型的属性是否包含给定的QString
ID选择器：QPushButton#okButton对应Qt里面的object name设置，使用这条CSS之前要先设置对应控件的object name为okButton，如：Ok-&gt;setObjectName(tr(“okButton”));
后裔选择器：QDialog QPushButton匹配所有为QDialog后裔（包含儿子，与儿子的儿子的递归）为QPushButton的实例
子选择器：QDialog &gt; QPushButton匹配所有的QDialog直接子类QPushButton的实例，不包含儿子的儿子的递归。
2、子控件选择器
对于复杂的控件，可能会在其中包含其他子控件，如一个QComboxBox中有一个drop-down的按钮。那么现在如果要设置QComboxBox的下拉按钮的话，就可以这样访问：
QComboBox::drop-down { image: url(dropdown.png)}其标志是（::）" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://zhuifengsn.github.io/posts/c036c6c439f18abfe90e710f334e3f09/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2011-10-30T21:12:46+08:00" />
<meta property="article:modified_time" content="2011-10-30T21:12:46+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="追风少年的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">追风少年的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">详解 QT 皮肤 QSS编程(1)</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                      
<p><strong>QT 皮肤 QSS</strong>编程是本文要介绍的内容，借用css 的灵感，<strong>Qt</strong>也支持<strong>Qt</strong>自己的css,简称<strong>qss</strong>。同css 相似，<strong>qss</strong>的主要功能与最终目的都是能使界面的表现与界面的元素分离，即质与形的分离，就如同一个人可以在不同的时候穿上不同的衣服一样，css机制的引入，使得设计一种<strong>皮肤</strong>与界面控件分离的软件成为可能，应用程序也能像web界面那样随意地改变外观。</p> 
<p><strong>一、QSS语法</strong></p> 
<p>同css一样，他也有由一个selector与一个declaration组成，selector指定了是对哪一个控件产生效果，而declaration才是真正的产生作用的语句。如：</p> 
<pre> 
 <ol class="dp-xml"><li class="alt">QPushButton { color: red } </li></ol></pre> 
<p>QPushButton指定了是对所有的QPushButton或是其子类控件（如用户定义的MyPushButton）产生影响，而color:red表明所有的受影响控件的前景色都为red。</p> 
<p>除了“类名”，“对象名”，“Qt属性名”这三样东西是大小写敏感的外其他的东西都是大小写不敏感的，如color与Color代表同一属性。</p> 
<p>如果有几个selector指定了相同的declaration,可以使用逗号（,）将各个选择器分开，如：</p> 
<pre> 
 <ol class="dp-xml"><li class="alt">QPushButton, QLineEdit, QComboBox{ color: red } </li></ol></pre> 
<p>他相当于：</p> 
<pre> 
 <ol class="dp-xml"><li class="alt">QPushButton { color: red }  </li><li>QLineEdit { color: red }  </li><li class="alt">QComboBox{ color: red } </li></ol></pre> 
<p>declaration部份是一系列的（属性：值）对，使用分号（;）将各个不同的属性值对分开，使用大括号（{}）将所有declaration包含在一起。</p> 
<p>1、一般选择器（selector）</p> 
<p>Qt支持所有的CSS2定义的选择器，其祥细内容可以在w3c的网站上查找 http://www.w3.org/TR/CSS2/selector.html ，其中比较常用的selector类型有：</p> 
<p>通用类型选择器：*会对所有控件有效果。</p> 
<p>类型选择器：QPushButton匹配所有QPushButton的实例和其子类的实例。</p> 
<p>属性选择器：QPushButton[flat=”false”]匹配所有QPushButton属性flat为false的实例，属性分为两种，静态的和动态的，静态属性可以通过Q_PROPERTY()来指定，来动态属性可以使用setProperty来指定，如：</p> 
<pre> 
 <ol class="dp-xml"><li class="alt">QLineEdit *<span class="attribute">nameEdit</span> = <span class="attribute-value">new</span> QLineEdit(this);  </li><li>nameEdit-<span class="tag">&gt;</span>setProperty("mandatoryField", true); </li></ol></pre> 
<p>如果在设置了qss后Qt属性改变了，需要重新设置qss来使其生效，可以使用先unset再set qss。</p> 
<p>类选择器：.QPushButton匹配所有QPushButton的实例，但不包含其子类，这相当于：*[class~="QPushButton"]     ~=的意思是测试一个QStringList类型的属性是否包含给定的QString</p> 
<p>ID选择器：QPushButton#okButton对应Qt里面的object name设置，使用这条CSS之前要先设置对应控件的object name为okButton，如：Ok-&gt;setObjectName(tr(“okButton”));</p> 
<p>后裔选择器：QDialog QPushButton匹配所有为QDialog后裔（包含儿子，与儿子的儿子的递归）为QPushButton的实例</p> 
<p>子选择器：QDialog &gt; QPushButton匹配所有的QDialog直接子类QPushButton的实例，不包含儿子的儿子的递归。</p> 
<p>2、子控件选择器</p> 
<p>对于复杂的控件，可能会在其中包含其他子控件，如一个QComboxBox中有一个drop-down的按钮。那么现在如果要设置QComboxBox的下拉按钮的话，就可以这样访问：</p> 
<p>QComboBox::drop-down { image: url(dropdown.png)}其标志是（::）</p> 
<p>子控件选择器是用位置的引用来代表一个元素，这个元素可以是一个单一控件或是另一个包含子控件的复合控件。使用subcontrol-origin属性可以改变子控件的默认放置位置，如：</p> 
<pre> 
 <ol class="dp-xml"><li class="alt">QComboBox{  </li><li>       margin-right: 20px;  </li><li class="alt">}  </li><li>QComboBox::drop-down {  </li><li class="alt">       subcontrol-origin: margin;  </li><li>}  </li></ol></pre> 
<p>如上语句可以用来改变drop-down的margin。</p> 
<p>相对位置属性可以用来改变子控件相对于最初位置的偏移量，如当一个QCombox的drop-down按钮被按下时，我们可以用一个内部的小偏移量来表示被按下的效果，如下：</p> 
<pre> 
 <ol class="dp-xml"><li class="alt">QComboBox::down-arrow{  </li><li>       image: url(down_arrow.png);  </li><li class="alt">}  </li><li>QComboBox::down-arrow:pressed {  </li><li class="alt">       position: relative;  </li><li>       top: 1px; left: 1px;  </li><li class="alt">}  </li></ol></pre> 
<p>绝对位置属性允许子控件改变自己的位置和大小而不受引用元素的控件。一但位置被设定了，这些子控件就可以被当成一般的widget来对待，并且可以使用合模型。关于合模型可以参考下面。<br>  <br> 如果你要查看Qt支持哪些子控件选择器，可以参考：http://pepper.troll.no/s60prereleases/doc/stylesheet-reference.html#list-of-sub-controls-syntax.html</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/cf0e6782794e1d5006dd6273fe7731f3/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">关于word的随记------怎么让新建的word的作者是自己想显示的名字</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/730fbb6df95608db37f0ad84a7e94171/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">鼠标下面子窗口响应滚轮消息 WM_MOUSEWHEEL，而不需要焦点，也不改变焦点。</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 追风少年的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>