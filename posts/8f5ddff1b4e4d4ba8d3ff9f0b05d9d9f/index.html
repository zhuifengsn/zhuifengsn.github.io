<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>SpringBoot整合Swagger - 追风少年的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="SpringBoot整合Swagger" />
<meta property="og:description" content="目录
一、swagger介绍
二、springboot集成swagger
1、创建一个springboot-web项目
2、导入相关依赖
3、编写一个Hellow工程
4、配置swagger ---&gt;config
5、启动springboot工程
6、配置swagger信息
7、配置swagger扫描接口
8、如何设置Swagger在生产环境中使用，在发布的时候不使用?
9、配置API文档分组
10、实体类配置
一、swagger介绍 swagger是一个接口文档生成工具，同时提供接口测试调用的辅助功能。
RestFul Api文档在线自动生成工具=&gt;Api文档与API定义同步更新
直接运行，可以在线测试API接口;
支持多种语言: (Java，Php....)
官网：API Documentation &amp; Design Tools for Teams | Swagger
二、springboot集成swagger 1、创建一个springboot-web项目 2、导入相关依赖 &lt;!--swagger 相关依赖 --&gt; &lt;dependency&gt; &lt;groupId&gt;io.springfox&lt;/groupId&gt; &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt; &lt;version&gt;2.9.2&lt;/version&gt; &lt;/dependency&gt; &lt;!--swagger-ui.html模式 --&gt; &lt;dependency&gt; &lt;groupId&gt;io.springfox&lt;/groupId&gt; &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt; &lt;version&gt;2.9.2&lt;/version&gt; &lt;/dependency&gt; &lt;!--doc.html模式 --&gt; &lt;dependency&gt; &lt;groupId&gt;com.github.xiaoymin&lt;/groupId&gt; &lt;artifactId&gt;swagger-bootstrap-ui&lt;/artifactId&gt; &lt;version&gt;1.9.2&lt;/version&gt; &lt;/dependency&gt; 3、编写一个Hellow工程 4、配置swagger ---&gt;config @Configuration @EnableSwagger2 //开启swagger public class SwaggerConfig { } 5、启动springboot工程 启动后访问：
http://localhost:8080/swagger-ui.html" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://zhuifengsn.github.io/posts/8f5ddff1b4e4d4ba8d3ff9f0b05d9d9f/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-02-20T15:36:46+08:00" />
<meta property="article:modified_time" content="2023-02-20T15:36:46+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="追风少年的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">追风少年的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">SpringBoot整合Swagger</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p id="main-toc"><strong>目录</strong></p> 
<p id="%E4%B8%80%E3%80%81swagger%E4%BB%8B%E7%BB%8D-toc" style="margin-left:40px;"><a href="#%E4%B8%80%E3%80%81swagger%E4%BB%8B%E7%BB%8D" rel="nofollow">一、swagger介绍</a></p> 
<p id="%E4%BA%8C%E3%80%81springboot%E9%9B%86%E6%88%90swagger-toc" style="margin-left:40px;"><a href="#%E4%BA%8C%E3%80%81springboot%E9%9B%86%E6%88%90swagger" rel="nofollow">二、springboot集成swagger</a></p> 
<p id="1%E3%80%81%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AAspringboot-web%E9%A1%B9%E7%9B%AE-toc" style="margin-left:80px;"><a href="#1%E3%80%81%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AAspringboot-web%E9%A1%B9%E7%9B%AE" rel="nofollow">1、创建一个springboot-web项目</a></p> 
<p id="2%E3%80%81%E5%AF%BC%E5%85%A5%E7%9B%B8%E5%85%B3%E4%BE%9D%E8%B5%96-toc" style="margin-left:80px;"><a href="#2%E3%80%81%E5%AF%BC%E5%85%A5%E7%9B%B8%E5%85%B3%E4%BE%9D%E8%B5%96" rel="nofollow">2、导入相关依赖</a></p> 
<p id="3%E3%80%81%E7%BC%96%E5%86%99%E4%B8%80%E4%B8%AAHellow%E5%B7%A5%E7%A8%8B-toc" style="margin-left:80px;"><a href="#3%E3%80%81%E7%BC%96%E5%86%99%E4%B8%80%E4%B8%AAHellow%E5%B7%A5%E7%A8%8B" rel="nofollow">3、编写一个Hellow工程</a></p> 
<p id="4%E3%80%81%E9%85%8D%E7%BD%AEswagger%20---%3Econfig-toc" style="margin-left:80px;"><a href="#4%E3%80%81%E9%85%8D%E7%BD%AEswagger%20---%3Econfig" rel="nofollow">4、配置swagger ---&gt;config</a></p> 
<p id="5%E3%80%81%E5%90%AF%E5%8A%A8springboot%E5%B7%A5%E7%A8%8B-toc" style="margin-left:80px;"><a href="#5%E3%80%81%E5%90%AF%E5%8A%A8springboot%E5%B7%A5%E7%A8%8B" rel="nofollow">5、启动springboot工程</a></p> 
<p id="6%E3%80%81%E9%85%8D%E7%BD%AEswagger%E4%BF%A1%E6%81%AF-toc" style="margin-left:80px;"><a href="#6%E3%80%81%E9%85%8D%E7%BD%AEswagger%E4%BF%A1%E6%81%AF" rel="nofollow">6、配置swagger信息</a></p> 
<p id="7%E3%80%81%E9%85%8D%E7%BD%AEswagger%E6%89%AB%E6%8F%8F%E6%8E%A5%E5%8F%A3-toc" style="margin-left:80px;"><a href="#7%E3%80%81%E9%85%8D%E7%BD%AEswagger%E6%89%AB%E6%8F%8F%E6%8E%A5%E5%8F%A3" rel="nofollow">7、配置swagger扫描接口</a></p> 
<p id="%E5%85%AB%E3%80%81%E5%A6%82%E4%BD%95%E8%AE%BE%E7%BD%AESwagger%E5%9C%A8%E7%94%9F%E4%BA%A7%E7%8E%AF%E5%A2%83%E4%B8%AD%E4%BD%BF%E7%94%A8%EF%BC%8C%E5%9C%A8%E5%8F%91%E5%B8%83%E7%9A%84%E6%97%B6%E5%80%99%E4%B8%8D%E4%BD%BF%E7%94%A8%3F-toc" style="margin-left:80px;"><a href="#%E5%85%AB%E3%80%81%E5%A6%82%E4%BD%95%E8%AE%BE%E7%BD%AESwagger%E5%9C%A8%E7%94%9F%E4%BA%A7%E7%8E%AF%E5%A2%83%E4%B8%AD%E4%BD%BF%E7%94%A8%EF%BC%8C%E5%9C%A8%E5%8F%91%E5%B8%83%E7%9A%84%E6%97%B6%E5%80%99%E4%B8%8D%E4%BD%BF%E7%94%A8%3F" rel="nofollow">8、如何设置Swagger在生产环境中使用，在发布的时候不使用?</a></p> 
<p id="%E4%B9%9D%E3%80%81%E9%85%8D%E7%BD%AEAPI%E6%96%87%E6%A1%A3%E5%88%86%E7%BB%84-toc" style="margin-left:80px;"><a href="#%E4%B9%9D%E3%80%81%E9%85%8D%E7%BD%AEAPI%E6%96%87%E6%A1%A3%E5%88%86%E7%BB%84" rel="nofollow">9、配置API文档分组</a></p> 
<p id="%E5%8D%81%E3%80%81%E5%AE%9E%E4%BD%93%E7%B1%BB%E9%85%8D%E7%BD%AE-toc" style="margin-left:80px;"><a href="#%E5%8D%81%E3%80%81%E5%AE%9E%E4%BD%93%E7%B1%BB%E9%85%8D%E7%BD%AE" rel="nofollow">10、实体类配置</a></p> 
<hr id="hr-toc"> 
<p></p> 
<h3 id="%E4%B8%80%E3%80%81swagger%E4%BB%8B%E7%BB%8D">一、swagger介绍</h3> 
<p>swagger是一个接口文档生成工具，同时提供接口测试调用的辅助功能。</p> 
<p>RestFul Api文档在线自动生成工具=&gt;Api文档与API定义同步更新</p> 
<p>直接运行，可以在线测试API接口;</p> 
<p>支持多种语言: (Java，Php....)</p> 
<p>官网：<a href="https://swagger.io/" rel="nofollow" title="API Documentation &amp; Design Tools for Teams | Swagger">API Documentation &amp; Design Tools for Teams | Swagger</a></p> 
<h3 id="%E4%BA%8C%E3%80%81springboot%E9%9B%86%E6%88%90swagger">二、springboot集成swagger</h3> 
<h4 id="1%E3%80%81%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AAspringboot-web%E9%A1%B9%E7%9B%AE">1、创建一个springboot-web项目</h4> 
<h4 id="2%E3%80%81%E5%AF%BC%E5%85%A5%E7%9B%B8%E5%85%B3%E4%BE%9D%E8%B5%96">2、导入相关依赖</h4> 
<pre><code>        &lt;!--swagger 相关依赖       --&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;io.springfox&lt;/groupId&gt;
            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;
            &lt;version&gt;2.9.2&lt;/version&gt;
        &lt;/dependency&gt;
        &lt;!--swagger-ui.html模式        --&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;io.springfox&lt;/groupId&gt;
            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;
            &lt;version&gt;2.9.2&lt;/version&gt;
        &lt;/dependency&gt;
        &lt;!--doc.html模式        --&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;com.github.xiaoymin&lt;/groupId&gt;
            &lt;artifactId&gt;swagger-bootstrap-ui&lt;/artifactId&gt;
            &lt;version&gt;1.9.2&lt;/version&gt;
        &lt;/dependency&gt;</code></pre> 
<h4 id="3%E3%80%81%E7%BC%96%E5%86%99%E4%B8%80%E4%B8%AAHellow%E5%B7%A5%E7%A8%8B">3、编写一个Hellow工程</h4> 
<h4 id="4%E3%80%81%E9%85%8D%E7%BD%AEswagger%20---%3Econfig">4、配置swagger ---&gt;config</h4> 
<pre><code>@Configuration
@EnableSwagger2   //开启swagger
public class SwaggerConfig {

}
</code></pre> 
<h4 id="5%E3%80%81%E5%90%AF%E5%8A%A8springboot%E5%B7%A5%E7%A8%8B">5、启动springboot工程</h4> 
<p>启动后访问：</p> 
<p><a href="http://localhost:8080/swagger-ui.html" rel="nofollow" title="http://localhost:8080/swagger-ui.html">http://localhost:8080/swagger-ui.html</a></p> 
<p><img alt="" height="748" src="https://images2.imgbox.com/48/45/VD5Edfcx_o.png" width="1200"><br> 或者访问:<a href="http://localhost:8080/doc.html" rel="nofollow" title="http://localhost:8080/doc.html">http://localhost:8080/doc.html</a></p> 
<p><img alt="" height="574" src="https://images2.imgbox.com/4d/e3/SMLalsmy_o.png" width="1200"></p> 
<h4 id="6%E3%80%81%E9%85%8D%E7%BD%AEswagger%E4%BF%A1%E6%81%AF">6、配置swagger信息</h4> 
<p>方式1：</p> 
<pre><code>@Configuration
@EnableSwagger2
public class Swagger2Config {
    @Bean
    public Docket controllerApi() {
        return new Docket(DocumentationType.SWAGGER_2)
                .apiInfo(new ApiInfoBuilder()
                        .title("标题：XX公司_XXXXX系统_接口文档")
                        .description("描述：用于管理XXXXX,具体包括XXX,XXX模块...")
                        .contact(new Contact("Socks", null, null))
                        .version("版本号:1.0")
                        .build())
                .select()
                .apis(RequestHandlerSelectors.basePackage("kgc.cn"))
                .paths(PathSelectors.any())
                .build();
    }
  
}</code></pre> 
<p> 方式二：</p> 
<pre><code>@Configuration
@EnableSwagger2
public class Swagger2Config {

    //配置swagger的Docket的bean实例
    @Bean
    public Docket controllerApi() {
        return new Docket(DocumentationType.SWAGGER_2)
                .apiInfo(apiInfo());
    }
    //配置swagger信息=apiinfo
    private ApiInfo apiInfo(){
        //作者信息
        Contact contact = new Contact("张三","","");
        return new ApiInfo(
                "swaggerAPI接口文档",
                "辛勤铸就梦想，付出就有回报。",
                "1.0",
                "https://blog.csdn.net/qi341500?spm=1000.2115.3001.5343",
                contact,
                "Apache 2.0",
                "http://www.apache.org/licenses/LICENSE-2.0",
                new ArrayList()
        );
    }
}</code></pre> 
<p> 效果：</p> 
<p><img alt="" height="403" src="https://images2.imgbox.com/1f/35/UoeBgbiU_o.png" width="1200"></p> 
<p><img alt="" height="558" src="https://images2.imgbox.com/bd/2d/sRnZ6VNC_o.png" width="1030"></p> 
<h4 id="7%E3%80%81%E9%85%8D%E7%BD%AEswagger%E6%89%AB%E6%8F%8F%E6%8E%A5%E5%8F%A3">7、配置swagger扫描接口</h4> 
<pre><code>@Bean
    public Docket controllerApi() {
        return new Docket(DocumentationType.SWAGGER_2)
                .apiInfo(apiInfo())
                .select()
                // RequestHandlerselectors，配置要扫描接口的方式
                // basePackage:指定要扫描的包
                // any():扫描全部
                //none():不扫描
                //withclassAnnotation:扫描类上的注解，参数是一个注解的反射对象
                // withMethodAnnotation:扫描方法上的注解
                .apis(RequestHandlerSelectors.basePackage("cn.micro.myboot.controller"))
                //paths()过滤路径
                .paths(PathSelectors.ant("/book/**"))
                .build();
    }</code></pre> 
<p>配置swagger是否启动：enable()</p> 
<pre><code>  @Bean
    public Docket controllerApi() {
        return new Docket(DocumentationType.SWAGGER_2)
                .apiInfo(apiInfo())
                //enable是否启动Swagger，如果为False，则Swagger不能再浏览器中访问
                .enable(false)
                .select()
                .apis(RequestHandlerSelectors.basePackage("cn.micro.myboot.controller"))
                //.paths(PathSelectors.ant("/book/**"))
                .build();
    }</code></pre> 
<h4 id="%E5%85%AB%E3%80%81%E5%A6%82%E4%BD%95%E8%AE%BE%E7%BD%AESwagger%E5%9C%A8%E7%94%9F%E4%BA%A7%E7%8E%AF%E5%A2%83%E4%B8%AD%E4%BD%BF%E7%94%A8%EF%BC%8C%E5%9C%A8%E5%8F%91%E5%B8%83%E7%9A%84%E6%97%B6%E5%80%99%E4%B8%8D%E4%BD%BF%E7%94%A8%3F">8、如何设置Swagger在生产环境中使用，在发布的时候不使用?</h4> 
<p>判断是不是生产环境flag = false</p> 
<p>注入enable (flag;)</p> 
<p>步骤：</p> 
<p>1、配置多个生产环境</p> 
<p><img alt="" height="92" src="https://images2.imgbox.com/d7/6a/mD5ePy4y_o.png" width="315"><img alt="" height="90" src="https://images2.imgbox.com/a5/58/8XKMjYcE_o.png" width="353"></p> 
<p>2、读取生产环境</p> 
<pre><code>@Bean
    public Docket controllerApi(Environment environment) {
        //设置要显示的Swagger环境
        Profiles profiles = Profiles.of("dev","test");
        //通过environment.acceptsProfiles判断是否处在自己设定的环境当中
        boolean flag = environment.acceptsProfiles(profiles);

        return new Docket(DocumentationType.SWAGGER_2)
                .apiInfo(apiInfo())
                //enable是否启动Swagger，如果为False，则Swagger不能再浏览器中访问
                .enable(flag)
                .select()
                .apis(RequestHandlerSelectors.basePackage("cn.micro.myboot.controller"))
                //.paths(PathSelectors.ant("/book/**"))
                .build();
    }</code></pre> 
<h4 id="%E4%B9%9D%E3%80%81%E9%85%8D%E7%BD%AEAPI%E6%96%87%E6%A1%A3%E5%88%86%E7%BB%84">9、配置API文档分组</h4> 
<p>groupName()</p> 
<pre><code>@Bean
    public Docket controllerApi(Environment environment) {
        //设置要显示的Swagger环境
        Profiles profiles = Profiles.of("dev","test");
        //通过environment.acceptsProfiles判断是否处在自己设定的环境当中
        boolean flag = environment.acceptsProfiles(profiles);

        return new Docket(DocumentationType.SWAGGER_2)
                .apiInfo(apiInfo())
                .groupName("张三")
                //enable是否启动Swagger，如果为False，则Swagger不能再浏览器中访问
                .enable(flag)
                .select()
                .apis(RequestHandlerSelectors.basePackage("cn.micro.myboot.controller"))
                //.paths(PathSelectors.ant("/book/**"))
                .build();
    }</code></pre> 
<p>配置多个分组，创建多个Docket实例即可</p> 
<pre><code>@Bean
    public Docket docket1(){
        return new Docket(DocumentationType.SWAGGER_2).groupName("A");
    }
    @Bean
    public Docket docket2(){
        return new Docket(DocumentationType.SWAGGER_2).groupName("B");
    }
    @Bean
    public Docket docket3(){
        return new Docket(DocumentationType.SWAGGER_2).groupName("C");
    }
</code></pre> 
<p><img alt="" height="239" src="https://images2.imgbox.com/14/a5/IzbXB1m2_o.png" width="692"></p> 
<h4 id="%E5%8D%81%E3%80%81%E5%AE%9E%E4%BD%93%E7%B1%BB%E9%85%8D%E7%BD%AE">10、实体类配置</h4> 
<p>只要接口中返回值存在实体类，实体类就会被扫描到swagger中</p> 
<pre><code>//只要接口中返回值存在实体类，实体类就会被扫描到swagger中
	@GetMapping("/user")
	public User user(){
		return new User();
	}</code></pre> 
<p> <span style="color:#fe2c24;">实体类：@ApiModel()：给实体类添加注释，@ApiModelProperty()给属性添加注释</span></p> 
<pre><code>@Data
@ApiModel("实体类用户")
public class User {
	@ApiModelProperty("/用户id")
	private String uid;
	@ApiModelProperty("/用户名")
	private String username;
	@ApiModelProperty("/用户密码")
	private String password;
}
</code></pre> 
<p><img alt="" height="252" src="https://images2.imgbox.com/3d/f0/cNHTaLRC_o.png" width="712"></p> 
<p> <span style="color:#fe2c24;">给方法添加注释：@ApiOperation()</span></p> 
<pre><code>@ApiOperation("给方法添加注释")
	@GetMapping("/user")
	public User user(){
		return new User();
	}</code></pre> 
<p><img alt="" height="90" src="https://images2.imgbox.com/eb/e8/0cjAQE4o_o.png" width="788"></p> 
<p><span style="color:#fe2c24;"> 给参数加注释@ApiParam() </span></p> 
<pre><code>@ApiOperation("给方法添加注释")
	@GetMapping("/user")
	public User user(@ApiParam("给参数加注释") String username){
		return new User();
	}</code></pre> 
<p> ​​​<img alt="" height="388" src="https://images2.imgbox.com/39/b1/BU0dAx2t_o.png" width="1104"></p> 
<p><span style="color:#fe2c24;">设置请求参数：@ApiImplicitParam(name = "uid", value = "用户ID", paramType = "String")</span></p> 
<pre><code>    @ApiOperation(value = "首页")
	@ApiImplicitParam(name = "uid", value = "用户ID", paramType = "String")
	@RequestMapping(value = "login.do",method = {RequestMethod.GET,RequestMethod.POST})
	public BaseResponse&lt;String&gt; login(String uid){
		return RespGenerator.returnOK("成功");
	}</code></pre> 
<p><img alt="" height="181" src="https://images2.imgbox.com/e6/eb/H4R5mmI6_o.png" width="1108"></p> 
<p><strong>总结：</strong></p> 
<p>1、我们可以通过Swagger给一些比较难理解的属性或者接口，增加注释信息</p> 
<p>⒉、接口文档实时更新</p> 
<p>3、可以在线测试<br>  </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/97cd8be6e8b39b873a1f37ef0be21224/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">MindRecord数据集格式-Windows下数据集报错Invalid file, DB file can not match</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/b6a338feca2d0426e917e1ec4af19c41/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">在什么场景下使用多线程技术？</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 追风少年的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>