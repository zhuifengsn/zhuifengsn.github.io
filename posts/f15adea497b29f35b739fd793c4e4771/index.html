<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>uniapp使用阿里百川SDK唤醒淘宝APP 打开淘宝领券页面/渠道备案,uniapp对接淘宝联盟等等超级详细 - 追风少年的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="uniapp使用阿里百川SDK唤醒淘宝APP 打开淘宝领券页面/渠道备案,uniapp对接淘宝联盟等等超级详细" />
<meta property="og:description" content="附录:
本文主要针对使用uniapp开发淘宝客APP而写,文章内容会讲到uniapp如何使用阿里百川sdk登录淘宝?如何使用阿里百川sdk做渠道授权,uniapp如何打开淘宝商品领券页面,自己开发APP，淘宝联盟怎么跟踪订单？等等
一、使用前的准备工作 首先到 阿里百川网站 -&gt;注册-&gt;新建应用-&gt;填写好相关应用的包名-&gt; 获取应用的 安全图片 用于验证应用使用的合法性
二、必须要开通《 百川电商SDK 》 ，否则授权会出问题，如果不做返利模式,直接打开领券页面的可以忽略此步骤 三、获取应用安全图片 选择自己要使用的应用,生成对应的安全图片.百川更新到 4.0 以上版本后，统一使用了 V5 版本安全图片。安卓 Android 需要上传apk 安装包来获取安全图片,apk安装包, 使用你的安卓证书, 提交云打包生成apk 安装包后,再到百川上传来获取安全图片.如包名或证书有更改 都需要重新获取安全图片,不然会初始化会失败,这里上传的时候可以直接上传空包,百川只校验签名信息. 刚开通百川电商SDK以后,可以过十几分钟在获取安全图,百川可能有缓存会导致授权失败
四、插件配置 打开插件地址，点击试用，选择一个要绑定的项目,然后输入APP的包名
在uniapp项目根目录下创建nativeplugins 插件文件夹, 主要是存放安全图和插件的其他文件,包含 ios 和 android 子目录, 插件名称:xiguazhu_baichuan 文件夹名不能修改, 具体看图片所示.
按照图中创建文件夹 提示： 如果需要使用支付宝功能，要把插件包中的 UTDID.framework 和 utdid4all-1.5.2.jar 文件删除掉，如果不需要则保留一起打包. UTDID.framework文件和 utdid4all-1.5.2.jar文件以及整个目录可以问百川插件作者要
第一种情况. 需要使用uniapp 官方的支付宝功能时百川配置说明IOS 苹果在插件目录下保留安全图片即可:yw_1222_baichuan.jpg (名字必须叫这个)Android 安卓在插件目录下保留安全图片即可:yw_1222_baichuan.jpg (名字必须叫这个) 第二种情况. 未使用uniapp 官方的支付宝功能时百川配置说明IOS 苹果在插件目录下保留文件: UTDID.framework &#43;yw_1222_baichuan.jpg (名字必须叫这个)Android 安卓在插件目录下保留文件: utdid4all-1.5.2.jar &#43; yw_1222_baichuan.jpg(名字必须叫这个) IOS 端唤起淘宝客户端需要特别设置下,在配置 manifest.json 文件中,找到 ios 项,加入以下代码 &#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://zhuifengsn.github.io/posts/f15adea497b29f35b739fd793c4e4771/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-06-25T02:50:15+08:00" />
<meta property="article:modified_time" content="2022-06-25T02:50:15+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="追风少年的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">追风少年的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">uniapp使用阿里百川SDK唤醒淘宝APP 打开淘宝领券页面/渠道备案,uniapp对接淘宝联盟等等超级详细</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>附录:<br> 本文主要针对使用uniapp开发淘宝客APP而写,文章内容会讲到uniapp如何使用阿里百川sdk登录淘宝?如何使用阿里百川sdk做渠道授权,uniapp如何打开淘宝商品领券页面,自己开发APP，淘宝联盟怎么跟踪订单？等等</p> 
<h2><a id="_3"></a>一、使用前的准备工作</h2> 
<p>首先到 <a href="https://baichuan.taobao.com/" rel="nofollow">阿里百川</a>网站 -&gt;注册-&gt;新建应用-&gt;填写好相关应用的包名-&gt; 获取应用的 安全图片 用于验证应用使用的合法性</p> 
<h2><a id="_SDK___8"></a>二、必须要开通《 百川电商SDK 》 ，否则授权会出问题，如果不做返利模式,直接打开领券页面的可以忽略此步骤</h2> 
<p><img src="https://images2.imgbox.com/50/f5/QiLjf5fp_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="_12"></a>三、获取应用安全图片</h2> 
<ol><li>选择自己要使用的应用,生成对应的安全图片.</li><li>百川更新到 4.0 以上版本后，统一使用了 V5 版本安全图片。</li><li>安卓 Android 需要上传apk 安装包来获取安全图片,apk安装包, 使用你的安卓证书, 提交云打包生成apk 安装包后,再到百川上传来获取安全图片.如包名或证书有更改 都需要重新获取安全图片,不然会初始化会失败,这里上传的时候可以直接上传空包,百川只校验签名信息.</li></ol> 
<p><strong>刚开通百川电商SDK以后,可以过十几分钟在获取安全图,百川可能有缓存会导致授权失败</strong></p> 
<p><img src="https://images2.imgbox.com/03/3a/by00gtAZ_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="_20"></a>四、插件配置</h2> 
<ol><li>打开<a href="https://ext.dcloud.net.cn/plugin?id=7186" rel="nofollow">插件地址</a>，点击试用，<img src="https://images2.imgbox.com/cc/a3/Jv9FRgKG_o.png" alt="在这里插入图片描述"></li><li>选择一个要绑定的项目,然后输入APP的包名<br> <img src="https://images2.imgbox.com/80/e5/Suzavqfe_o.png" alt="在这里插入图片描述"></li><li>在uniapp项目根目录下创建nativeplugins 插件文件夹, 主要是存放安全图和插件的其他文件,包含 ios 和 android 子目录, 插件名称:<strong>xiguazhu_baichuan</strong> 文件夹名不能修改, 具体看图片所示.<br> <img src="https://images2.imgbox.com/4b/23/gVytNRGf_o.png" alt="在这里插入图片描述"><br> <strong>按照图中创建文件夹</strong></li></ol> 
<h3><a id="_28"></a>提示：</h3> 
<p>如果需要使用支付宝功能，要把插件包中的 UTDID.framework 和 utdid4all-1.5.2.jar 文件删除掉，如果不需要则保留一起打包. UTDID.framework文件和 utdid4all-1.5.2.jar文件以及整个目录可以问百川插件作者要</p> 
<h5><a id="_31"></a>第一种情况.</h5> 
<table><thead><tr><th align="center">需要使用uniapp 官方的支付宝功能时</th><th align="right">百川配置说明</th></tr></thead><tbody><tr><td align="center">IOS 苹果</td><td align="right">在插件目录下保留安全图片即可:yw_1222_baichuan.jpg (名字必须叫这个)</td></tr><tr><td align="center">Android 安卓</td><td align="right">在插件目录下保留安全图片即可:yw_1222_baichuan.jpg (名字必须叫这个)</td></tr></tbody></table> 
<h5><a id="_37"></a>第二种情况.</h5> 
<table><thead><tr><th align="center">未使用uniapp 官方的支付宝功能时</th><th align="right">百川配置说明</th></tr></thead><tbody><tr><td align="center">IOS 苹果</td><td align="right">在插件目录下保留文件: UTDID.framework +yw_1222_baichuan.jpg (名字必须叫这个)</td></tr><tr><td align="center">Android 安卓</td><td align="right">在插件目录下保留文件: utdid4all-1.5.2.jar + yw_1222_baichuan.jpg(名字必须叫这个)</td></tr></tbody></table> 
<ol start="4"><li>IOS 端唤起淘宝客户端需要特别设置下,在配置 manifest.json 文件中,找到 ios 项,加入以下代码</li></ol> 
<pre><code class="prism language-javascript"> <span class="token string-property property">"ios"</span> <span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                <span class="token string-property property">"urltypes"</span> <span class="token operator">:</span> <span class="token punctuation">[</span>
                    <span class="token punctuation">{<!-- --></span>
                        <span class="token string-property property">"urlschemes"</span> <span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token string">"tbopen32470416"</span> <span class="token punctuation">]</span> <span class="token comment">//tbopen+您应用的AppKey</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token string-property property">"urlschemewhitelist"</span> <span class="token operator">:</span> <span class="token string">"tbopen,tmall"</span>
            <span class="token punctuation">}</span>
</code></pre> 
<p>如下图:<br> <img src="https://images2.imgbox.com/bb/3d/IP2R9E3P_o.png" alt="在这里插入图片描述"></p> 
<p>urlschemes 的名称设置是 tbopen+AppKey, AppKey是百川AppKey ,一串数字,不要填错,否则会初始失败</p> 
<p><img src="https://images2.imgbox.com/8d/80/aDzRh0I4_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="_62"></a>五、阿里百川插件方法介绍</h2> 
<table><thead><tr><th>方法名</th><th>说明</th></tr></thead><tbody><tr><td>login()</td><td>淘宝授权登录</td></tr><tr><td>logout()</td><td>退出登录</td></tr><tr><td>detailPage()</td><td>打开淘宝任意页面</td></tr><tr><td>shopPage()</td><td>打开店铺页面</td></tr><tr><td>OpenMyCart()</td><td>打开淘宝购物车</td></tr><tr><td>getUserInfo()</td><td>获取用户授权信息</td></tr><tr><td>checkSession()</td><td>检查用户登录状态</td></tr><tr><td>taobaoOauth()</td><td>渠道授权</td></tr><tr><td>getUtdid()</td><td>获取手机设备 UTDID 唯一码</td></tr></tbody></table> 
<h2><a id="_75"></a>六、使用案例</h2> 
<h5><a id="1___77"></a>1. 实例化插件 ,在需要用到插件的页面引入</h5> 
<pre><code class="prism language-javascript"><span class="token keyword">const</span> baichuan <span class="token operator">=</span> uni<span class="token punctuation">.</span><span class="token function">requireNativePlugin</span><span class="token punctuation">(</span><span class="token string">'xiguazhu-baichuan'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h5><a id="2_login____82"></a>2.淘宝授权登录 login() , 传入参数: 无</h5> 
<pre><code class="prism language-javascript">	baichuan<span class="token punctuation">.</span><span class="token function">login</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token parameter">result</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>				
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
</code></pre> 
<ul><li>授权成功后,返回数据格式</li></ul> 
<pre><code class="prism language-javascript"><span class="token punctuation">{<!-- --></span>
	<span class="token string-property property">"userinfo"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
		<span class="token string-property property">"topAccessToken"</span><span class="token operator">:</span> <span class="token string">"63001084681b15666d9b50a0f64193354e0267457c2ba7b34****"</span><span class="token punctuation">,</span>
		<span class="token string-property property">"topExpireTime"</span><span class="token operator">:</span> <span class="token string">"7776000"</span><span class="token punctuation">,</span>
		<span class="token string-property property">"userid"</span><span class="token operator">:</span> <span class="token string">"3401100915"</span><span class="token punctuation">,</span>
		<span class="token string-property property">"avatarUrl"</span><span class="token operator">:</span> <span class="token string">"https://wwc.alicdn.com/avatar/getAvatar.do?userIdStrV2=31CMmjAGPUw03*cOYWkyYNTT&amp;type=taobao"</span><span class="token punctuation">,</span>
		<span class="token string-property property">"openSid"</span><span class="token operator">:</span> <span class="token string">"9b7b973a1ab23f0de168318640cc8199fa353b470622d8e1195394718f531f8****"</span><span class="token punctuation">,</span>
		<span class="token string-property property">"topAuthCode"</span><span class="token operator">:</span> <span class="token string">"bPDMxNN3UAEKu1cEbDrRSPhK30****"</span><span class="token punctuation">,</span>
		<span class="token string-property property">"openId"</span><span class="token operator">:</span> <span class="token string">"AAHpJD0KANVDozhKB****"</span><span class="token punctuation">,</span>
		<span class="token string-property property">"nick"</span><span class="token operator">:</span> <span class="token string">"c7****"</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
	<span class="token string-property property">"msg"</span><span class="token operator">:</span> <span class="token string">"登录成功"</span>
<span class="token punctuation">}</span>
</code></pre> 
<h5><a id="3_logout____107"></a>3.退出登录 logout() , 传入参数: 无</h5> 
<ul><li>用户取消 返回数据</li></ul> 
<pre><code class="prism language-javascript"><span class="token punctuation">{<!-- --></span>
	<span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token number">10004</span><span class="token punctuation">,</span>
	<span class="token string-property property">"msg"</span><span class="token operator">:</span> <span class="token string">"用户取消登录"</span>
<span class="token punctuation">}</span>
</code></pre> 
<h5><a id="4_detailPage___118"></a>4.打开商品详情页 detailPage() , 打开商品详情页有两种方式</h5> 
<ul><li>openType=&gt; 参数是打开的方式: 0=&gt; 使用url打开,1=&gt;使用ID打开</li><li>itemid=&gt; 商品 ID</li><li>url=&gt;商品链接</li></ul> 
<p><strong>第一种,通过 商品 ID ,来打开详情页</strong></p> 
<pre><code class="prism language-javascript">   	baichuan<span class="token punctuation">.</span><span class="token function">detailPage</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
   					<span class="token string-property property">"itemid"</span><span class="token operator">:</span> <span class="token string">"562161593312"</span><span class="token punctuation">,</span>
   					<span class="token string-property property">"openType"</span><span class="token operator">:</span> <span class="token number">1</span>
   				<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token parameter">result</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>

   				<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p><strong>第二种,通过商品链接,来打开详情页</strong></p> 
<pre><code class="prism language-javascript">   baichuan<span class="token punctuation">.</span><span class="token function">detailPage</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
        					<span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">"https://s.click.taobao.com/KWLkWbu"</span><span class="token punctuation">,</span>
        					<span class="token string-property property">"openType"</span><span class="token operator">:</span> <span class="token number">0</span>
        				<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token parameter">result</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>

        				<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h5><a id="5_shopPage_144"></a>5.打开店铺 shopPage()</h5> 
<ul><li> <p>openType =&gt; 参数是打开页面的方式: 0=&gt; 使用APP端打开</p> </li><li> <p>shopid=&gt; 店铺ID</p> </li></ul> 
<pre><code class="prism language-javascript">baichuan<span class="token punctuation">.</span><span class="token function">shopPage</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
					<span class="token literal-property property">shopid</span><span class="token operator">:</span> <span class="token string">"67907495"</span><span class="token punctuation">,</span>
					<span class="token string-property property">"openType"</span><span class="token operator">:</span> <span class="token number">0</span>
				<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token parameter">result</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
					console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h5><a id="6__shopCar_159"></a>6. 打开我的购物车 shopCar()</h5> 
<pre><code class="prism language-javascript">baichuan<span class="token punctuation">.</span><span class="token function">shopCar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>		
</code></pre> 
<h5><a id="7_checkSession__164"></a>7. 检查授权登录状态,checkSession() 传入参数:无</h5> 
<pre><code class="prism language-javascript">baichuan<span class="token punctuation">.</span><span class="token function">checkSession</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token parameter">result</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
        					console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
        				<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<ul><li>返回数据参数</li></ul> 
<h6><a id="1_172"></a>1.已经登录</h6> 
<pre><code class="prism language-javascript"><span class="token punctuation">{<!-- --></span>
   <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
   <span class="token string-property property">"msg"</span><span class="token operator">:</span> <span class="token string">"登录成功"</span>
<span class="token punctuation">}</span>

</code></pre> 
<h6><a id="2_180"></a>2.登录失效</h6> 
<pre><code class="prism language-javascript"><span class="token punctuation">{<!-- --></span>
   <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
   <span class="token string-property property">"msg"</span><span class="token operator">:</span> <span class="token string">"未登录"</span>
<span class="token punctuation">}</span>

</code></pre> 
<h5><a id="8getUserInfo__188"></a>8.获取用户已经授权的信息,getUserInfo() 传入参数:无</h5> 
<pre><code class="prism language-javascript"><span class="token punctuation">{<!-- --></span>
	baichuan<span class="token punctuation">.</span><span class="token function">getUserInfo</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token parameter">result</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
        					console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
        				<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<ul><li>返回数据参数</li></ul> 
<h6><a id="1_199"></a>1.成功获取</h6> 
<pre><code class="prism language-javascript"><span class="token punctuation">{<!-- --></span>
	<span class="token string-property property">"userinfo"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
		<span class="token string-property property">"topAccessToken"</span><span class="token operator">:</span> <span class="token string">"63025041498269f01a2dbbe6c5448cee6122d3ed1****"</span><span class="token punctuation">,</span>
		<span class="token string-property property">"topExpireTime"</span><span class="token operator">:</span> <span class="token string">"7776000"</span><span class="token punctuation">,</span>
		<span class="token string-property property">"userid"</span><span class="token operator">:</span> <span class="token string">"3401100915"</span><span class="token punctuation">,</span>
		<span class="token string-property property">"avatarUrl"</span><span class="token operator">:</span> <span class="token string">"https://wwc.alicdn.com/avatar/getAvatar.do?userIdStrV2=31CMmjAGPUw03*cOYWkyYNTT&amp;type=taobao"</span><span class="token punctuation">,</span>
		<span class="token string-property property">"openSid"</span><span class="token operator">:</span> <span class="token string">"af3afc198f6f4e4ea542bfb3423ee996edb3f58c84a44d1eda173d45f8ea1e6d2****"</span><span class="token punctuation">,</span>
		<span class="token string-property property">"topAuthCode"</span><span class="token operator">:</span> <span class="token string">"2qdoIZJcrf00mhyTIvF7J2****"</span><span class="token punctuation">,</span>
		<span class="token string-property property">"openId"</span><span class="token operator">:</span> <span class="token string">"AAHpJD0KANVDozhK****"</span><span class="token punctuation">,</span>
		<span class="token string-property property">"nick"</span><span class="token operator">:</span> <span class="token string">"c7****"</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
	<span class="token string-property property">"msg"</span><span class="token operator">:</span> <span class="token string">"登录成功"</span>
<span class="token punctuation">}</span>

</code></pre> 
<h6><a id="2_220"></a>2.获取失败</h6> 
<pre><code class="prism language-javascript"><span class="token punctuation">{<!-- --></span>
	<span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
	<span class="token string-property property">"msg"</span><span class="token operator">:</span> <span class="token string">"未登录"</span>
<span class="token punctuation">}</span>

</code></pre> 
<h5><a id="9_UTDID__229"></a>9.获取用户设备 UTDID 码</h5> 
<pre><code class="prism language-javascript">baichuan<span class="token punctuation">.</span><span class="token function">getUtdid</span><span class="token punctuation">(</span><span class="token parameter">result</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
					console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre> 
<ul><li>返回数据</li></ul> 
<pre><code class="prism language-javascript"><span class="token punctuation">{<!-- --></span>
	<span class="token string-property property">"utdid"</span><span class="token operator">:</span> <span class="token string">"YSRqDyGmBjADADi5****"</span>
<span class="token punctuation">}</span>

</code></pre> 
<h2><a id="ID_245"></a>九、淘宝渠道授权说明(返利功能需要用到渠道ID跟踪订单的)</h2> 
<h5><a id="1_H5__code__247"></a>1. H5 使用 code 方式授权</h5> 
<pre><code class="prism language-javascript"><span class="token literal-property property">https</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>oauth<span class="token punctuation">.</span>taobao<span class="token punctuation">.</span>com<span class="token operator">/</span>authorize<span class="token operator">?</span>response_type<span class="token operator">=</span>code<span class="token operator">&amp;</span>client_id<span class="token operator">=</span><span class="token number">2948</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">&amp;</span>redirect_uri<span class="token operator">=</span>http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>你的域名<span class="token operator">/</span><span class="token operator">&amp;</span>state<span class="token operator">=</span><span class="token number">1212</span><span class="token operator">&amp;</span>view<span class="token operator">=</span>wap
</code></pre> 
<h6><a id="_252"></a>把网址中的参数，替换成自己的即可.</h6> 
<pre><code class="prism language-javascript">baichuan<span class="token punctuation">.</span><span class="token function">taobaoOauth</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
             			<span class="token string-property property">"url"</span><span class="token operator">:</span> <span class="token string">"https://oauth.taobao.com/authorize?response_type=code&amp;client_id=294****&amp;redirect_uri=http://你的域名/&amp;state=1212&amp;view=wap"</span>
             				<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token parameter">result</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
             					console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
             				<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h4><a id="_261"></a>链接获取授权码参数</h4> 
<table><thead><tr><th>参数名字</th><th>参数选项</th><th>参数值</th><th>参数释义</th></tr></thead><tbody><tr><td>client_id</td><td>必选</td><td></td><td>联盟媒体key</td></tr><tr><td>response_type</td><td>必选</td><td>code</td><td></td></tr><tr><td>redirect_uri</td><td>必选</td><td></td><td>参见redirect_uri的定义</td></tr><tr><td>state</td><td>必选</td><td></td><td>传入值与返回值保持一致。</td></tr><tr><td>view</td><td>必选</td><td>默认为web</td><td>移动端 wap</td></tr></tbody></table> 
<h6><a id="1__270"></a>1.授权成功 返回参数:</h6> 
<pre><code>暂无
</code></pre> 
<h6><a id="2__275"></a>2. 其他的返回</h6> 
<pre><code>暂无
</code></pre> 
<h5><a id="2_H5__token__280"></a>2. H5 使用 token 方式授权(推荐使用)</h5> 
<p>授权网址</p> 
<pre><code class="prism language-javascript"><span class="token literal-property property">https</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>oauth<span class="token punctuation">.</span>taobao<span class="token punctuation">.</span>com<span class="token operator">/</span>authorize<span class="token operator">?</span>response_type<span class="token operator">=</span>token<span class="token operator">&amp;</span>client_id<span class="token operator">=</span><span class="token number">2948</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">&amp;</span>state<span class="token operator">=</span><span class="token number">1212</span><span class="token operator">&amp;</span>view<span class="token operator">=</span>wap
</code></pre> 
<h4><a id="_285"></a>链接获取授权码参数</h4> 
<table><thead><tr><th>参数名字</th><th>参数选项</th><th>参数值</th><th>参数释义</th></tr></thead><tbody><tr><td>client_id</td><td>必选</td><td></td><td>联盟媒体key</td></tr><tr><td>response_type</td><td>必选</td><td>token</td><td></td></tr><tr><td>state</td><td>必选</td><td></td><td>传入值与返回值保持一致。</td></tr><tr><td>view</td><td>必选</td><td>默认为web</td><td>移动端 wap</td></tr></tbody></table> 
<h5><a id="1__294"></a>1.授权成功 返回参数:</h5> 
<pre><code class="prism language-javascript"><span class="token punctuation">{<!-- --></span>
	<span class="token string-property property">"info"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
		<span class="token string-property property">"expires_in"</span><span class="token operator">:</span> <span class="token string">"2592000"</span><span class="token punctuation">,</span>
		<span class="token string-property property">"taobao_open_uid"</span><span class="token operator">:</span> <span class="token string">"AAEAWObHANZeVL1YKsd****"</span><span class="token punctuation">,</span>
		<span class="token string-property property">"r1_expires_in"</span><span class="token operator">:</span> <span class="token string">"1800"</span><span class="token punctuation">,</span>
		<span class="token string-property property">"w2_expires_in"</span><span class="token operator">:</span> <span class="token string">"0"</span><span class="token punctuation">,</span>
		<span class="token string-property property">"refresh_token"</span><span class="token operator">:</span> <span class="token string">"6101303057813b26f0954a9a5acd7194fff62be3e9390493****"</span><span class="token punctuation">,</span>
		<span class="token string-property property">"access_token"</span><span class="token operator">:</span> <span class="token string">"6101d0302741aab1596335b19cee233835e8641e285b5****"</span><span class="token punctuation">,</span>
		<span class="token string-property property">"state"</span><span class="token operator">:</span> <span class="token string">"1212"</span><span class="token punctuation">,</span>
		<span class="token string-property property">"top_sign"</span><span class="token operator">:</span> <span class="token string">"59C789C51A82C6D1F6DEAB9375****"</span><span class="token punctuation">,</span>
		<span class="token string-property property">"taobao_user_id"</span><span class="token operator">:</span> <span class="token string">"3401100****"</span><span class="token punctuation">,</span>
		<span class="token string-property property">"taobao_user_nick"</span><span class="token operator">:</span> <span class="token string">"c7****"</span><span class="token punctuation">,</span>
		<span class="token string-property property">"w1_expires_in"</span><span class="token operator">:</span> <span class="token string">"1800"</span><span class="token punctuation">,</span>
		<span class="token string-property property">"re_expires_in"</span><span class="token operator">:</span> <span class="token string">"2592000"</span><span class="token punctuation">,</span>
		<span class="token string-property property">"r2_expires_in"</span><span class="token operator">:</span> <span class="token string">"0"</span><span class="token punctuation">,</span>
		<span class="token string-property property">"token_type"</span><span class="token operator">:</span> <span class="token string">"Bearer"</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
	<span class="token string-property property">"msg"</span><span class="token operator">:</span> <span class="token string">"授权成功"</span>
<span class="token punctuation">}</span>
</code></pre> 
<h5><a id="2__317"></a>2. 其他的返回</h5> 
<pre><code>无
</code></pre> 
<h5><a id="uniapp_httpsaskdcloudnetcnarticle36106httpsaskdcloudnetcnarticle36106_322"></a>uniapp 原生插件如何使用，可以参考这个：<a href="https://ask.dcloud.net.cn/article/36106" rel="nofollow">https://ask.dcloud.net.cn/article/36106</a></h5> 
<h2><a id="_324"></a>拉起手淘失败,一般是安全图片的问题，更新安全图片之后再尝试一下</h2> 
<h4><a id="_326"></a>总结</h4> 
<p><a href="https://ext.dcloud.net.cn/plugin?id=7186" rel="nofollow">文中提到的uniapp百川地址</a></p> 
<p>有不懂的可以加微 shenlailai6 咨询，<br> 加好友备注csdn阿里百川咨询,否则不通过</p> 
<p>作者简介:从事淘客行业多年~</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/97f73941c323488939ff9fa6650a19e0/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">GTest从入门到入门</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/92f9fae20078c9b7c5ac1ab6ba6763c2/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">是使用local_setup.bash 还是 setup.bash</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 追风少年的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>