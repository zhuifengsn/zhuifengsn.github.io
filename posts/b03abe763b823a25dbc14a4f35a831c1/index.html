<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【嵌入式——QT】字符串 - 追风少年的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="【嵌入式——QT】字符串" />
<meta property="og:description" content="【嵌入式——QT】字符串 QString构造函数QString类从字符串转换为整数的函数其他常用功能 QByteArray构造函数其他常用功能 QString 与 QByteArray的区别 QString 构造函数 QString(const QByteArray &amp;ba) QString(const char *str) QString(QString &amp;&amp;other) QString(const QString &amp;other) QString(QLatin1String str) QString(int size, QChar ch) QString(QChar ch) QString(const QChar *unicode, int size = -1) QString() QString类从字符串转换为整数的函数 int toInt(bool *ok=nullptr, int base=10) const; uint toUInt(bool *ok=nullptr, int base=10) const; long toLong(bool *ok=nullptr, int base=10) const; qlonglong toLongLong(bool *ok=nullptr, int base=10) const; qulonglong toULongLong(bool *ok=nullptr, int base=10) const; short toShort(bool *ok=nullptr, int base=10) const; ushort toUShort(bool *ok=nullptr, int base=10) const; float toFloat(bool *ok=nullptr) const; double toDouble(bool *ok=nullptr) const; 默认是从十进制表示的字符串转换为整数，若指定整数基参数，还可以直接将二进制、十六进制字符串转换为整数。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://zhuifengsn.github.io/posts/b03abe763b823a25dbc14a4f35a831c1/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-02-23T14:16:41+08:00" />
<meta property="article:modified_time" content="2024-02-23T14:16:41+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="追风少年的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">追风少年的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【嵌入式——QT】字符串</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>【嵌入式——QT】字符串</h4> 
 <ul><li><a href="#QString_1" rel="nofollow">QString</a></li><li><ul><li><a href="#_2" rel="nofollow">构造函数</a></li><li><a href="#QString_16" rel="nofollow">QString类从字符串转换为整数的函数</a></li><li><a href="#_44" rel="nofollow">其他常用功能</a></li></ul> 
  </li><li><a href="#QByteArray_117" rel="nofollow">QByteArray</a></li><li><ul><li><a href="#_118" rel="nofollow">构造函数</a></li><li><a href="#_128" rel="nofollow">其他常用功能</a></li></ul> 
  </li><li><a href="#QString__QByteArray_278" rel="nofollow">QString 与 QByteArray的区别</a></li></ul> 
</div> 
<p></p> 
<h2><a id="QString_1"></a>QString</h2> 
<h3><a id="_2"></a>构造函数</h3> 
<pre><code class="prism language-cpp"><span class="token function">QString</span><span class="token punctuation">(</span><span class="token keyword">const</span> QByteArray <span class="token operator">&amp;</span>ba<span class="token punctuation">)</span>
<span class="token function">QString</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>str<span class="token punctuation">)</span>
<span class="token function">QString</span><span class="token punctuation">(</span>QString <span class="token operator">&amp;&amp;</span>other<span class="token punctuation">)</span>
<span class="token function">QString</span><span class="token punctuation">(</span><span class="token keyword">const</span> QString <span class="token operator">&amp;</span>other<span class="token punctuation">)</span>
<span class="token function">QString</span><span class="token punctuation">(</span>QLatin1String str<span class="token punctuation">)</span>
<span class="token function">QString</span><span class="token punctuation">(</span><span class="token keyword">int</span> size<span class="token punctuation">,</span> QChar ch<span class="token punctuation">)</span>
<span class="token function">QString</span><span class="token punctuation">(</span>QChar ch<span class="token punctuation">)</span>
<span class="token function">QString</span><span class="token punctuation">(</span><span class="token keyword">const</span> QChar <span class="token operator">*</span>unicode<span class="token punctuation">,</span> <span class="token keyword">int</span> size <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token function">QString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<h3><a id="QString_16"></a>QString类从字符串转换为整数的函数</h3> 
<pre><code class="prism language-cpp"><span class="token keyword">int</span> <span class="token function">toInt</span><span class="token punctuation">(</span><span class="token keyword">bool</span> <span class="token operator">*</span>ok<span class="token operator">=</span><span class="token keyword">nullptr</span><span class="token punctuation">,</span> <span class="token keyword">int</span> base<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">;</span>
uint <span class="token function">toUInt</span><span class="token punctuation">(</span><span class="token keyword">bool</span> <span class="token operator">*</span>ok<span class="token operator">=</span><span class="token keyword">nullptr</span><span class="token punctuation">,</span> <span class="token keyword">int</span> base<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">;</span>
<span class="token keyword">long</span> <span class="token function">toLong</span><span class="token punctuation">(</span><span class="token keyword">bool</span> <span class="token operator">*</span>ok<span class="token operator">=</span><span class="token keyword">nullptr</span><span class="token punctuation">,</span> <span class="token keyword">int</span> base<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">;</span>
qlonglong <span class="token function">toLongLong</span><span class="token punctuation">(</span><span class="token keyword">bool</span> <span class="token operator">*</span>ok<span class="token operator">=</span><span class="token keyword">nullptr</span><span class="token punctuation">,</span> <span class="token keyword">int</span> base<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">;</span>
qulonglong <span class="token function">toULongLong</span><span class="token punctuation">(</span><span class="token keyword">bool</span> <span class="token operator">*</span>ok<span class="token operator">=</span><span class="token keyword">nullptr</span><span class="token punctuation">,</span> <span class="token keyword">int</span> base<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">;</span>
<span class="token keyword">short</span>  <span class="token function">toShort</span><span class="token punctuation">(</span><span class="token keyword">bool</span> <span class="token operator">*</span>ok<span class="token operator">=</span><span class="token keyword">nullptr</span><span class="token punctuation">,</span> <span class="token keyword">int</span> base<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">;</span>
ushort <span class="token function">toUShort</span><span class="token punctuation">(</span><span class="token keyword">bool</span> <span class="token operator">*</span>ok<span class="token operator">=</span><span class="token keyword">nullptr</span><span class="token punctuation">,</span> <span class="token keyword">int</span> base<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">;</span>
<span class="token keyword">float</span> <span class="token function">toFloat</span><span class="token punctuation">(</span><span class="token keyword">bool</span> <span class="token operator">*</span>ok<span class="token operator">=</span><span class="token keyword">nullptr</span><span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">;</span>
<span class="token keyword">double</span> <span class="token function">toDouble</span><span class="token punctuation">(</span><span class="token keyword">bool</span> <span class="token operator">*</span>ok<span class="token operator">=</span><span class="token keyword">nullptr</span><span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">;</span>
</code></pre> 
<p>默认是从十进制表示的字符串转换为整数，若指定整数基参数，还可以直接将二进制、十六进制字符串转换为整数。</p> 
<pre><code class="prism language-cpp">QString str <span class="token operator">=</span> <span class="token string">"1"</span><span class="token punctuation">;</span>
<span class="token keyword">bool</span> <span class="token operator">*</span>ok<span class="token punctuation">;</span>
str<span class="token punctuation">.</span><span class="token function">toInt</span><span class="token punctuation">(</span>ok<span class="token punctuation">,</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p><strong>进制转换</strong></p> 
<pre><code class="prism language-cpp">QString str <span class="token operator">=</span> <span class="token string">"111"</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> val <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">toInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//十进制</span>
str <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">setNum</span><span class="token punctuation">(</span>val<span class="token punctuation">,</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 十六进制</span>
str <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">setNum</span><span class="token punctuation">(</span>val<span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 二进制</span>
</code></pre> 
<h3><a id="_44"></a>其他常用功能</h3> 
<p><strong>append()和prepend()</strong><br> prepend()在原字符串的开头插入另一个字符串<code>str.prepend("aaa");</code></p> 
<p>append()在原字符串后面拼接字符串<code>str.append("aaa");</code></p> 
<p><strong>toUpper()和toLower()</strong><br> toUpper()字符串转换成大写<code>str.toUpper();</code></p> 
<p>toLower()字符串转换成小写<code>str.toLower();</code></p> 
<p><strong>count()、size()、length()</strong><br> 返回字符串的个数。</p> 
<p><strong>trimmed()、simplified()</strong><br> trimmed()移除字符串两端的空白字符<code>str.trimmed();</code></p> 
<p>simplified()移除字符串两端的空白字符,使用单个空格字符代替字符串中出现的空白字符<code>str.simplified();</code></p> 
<p><strong>indexOf()、lastIndexOf()</strong><br> indexOf()查找字符串出现的位置<code>str.indexOf("a");</code></p> 
<p>lastIndexOf()查找字符串最后出现的位置<code>str.lastIndexOf("b");</code></p> 
<p><strong>isNull()、isEmpty()</strong></p> 
<pre><code class="prism language-cpp">都是判断字符串是否为空，如果一个空字符串只有<span class="token string">"\0"</span>，<span class="token function">isNull</span><span class="token punctuation">(</span><span class="token punctuation">)</span>返回<span class="token boolean">false</span>，<span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span>返回<span class="token boolean">true</span>。
只有未赋值的字符串 <span class="token function">isNull</span><span class="token punctuation">(</span><span class="token punctuation">)</span>才返回<span class="token boolean">true</span>
</code></pre> 
<p><strong>contains()</strong><br> 判断一个指定的字符串是否出现过，<code>str.contains("welcome");</code></p> 
<p><strong>startWith()、endWith()</strong></p> 
<p>startWith()判断一个字符串是否以某个字符串开头</p> 
<pre><code class="prism language-cpp">str<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">"welcome"</span><span class="token punctuation">,</span>Qt<span class="token double-colon punctuation">::</span>CaseSensitive<span class="token punctuation">)</span><span class="token punctuation">;</span> 
Qt<span class="token double-colon punctuation">::</span>CaseSensitive 区分大小写
</code></pre> 
<p>endWith()判断一个字符串是否以某个字符串结尾</p> 
<p><strong>left()、right()</strong><br> left()从字符串左边取多少个字符<code>str.left(n);</code></p> 
<p>right()从字符串右边取多少个字符<code>str.right(n);</code></p> 
<p><strong>sections()</strong><br> 从字符串中提取以sep作为分隔符，从start到end端的字符串。</p> 
<pre><code class="prism language-cpp">str1<span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">sections</span><span class="token punctuation">(</span><span class="token string">","</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
str1<span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">sections</span><span class="token punctuation">(</span><span class="token string">","</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p><strong>arg()</strong><br> 组合字符串。</p> 
<pre><code class="prism language-cpp">QString str <span class="token operator">=</span>  <span class="token function">QString</span><span class="token punctuation">(</span><span class="token string">"%1 was born in % 2"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">arg</span><span class="token punctuation">(</span><span class="token string">"John"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">arg</span><span class="token punctuation">(</span><span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p><strong>比较两个字符串是否相等</strong></p> 
<pre><code class="prism language-cpp">QString str <span class="token operator">=</span> <span class="token class-name">QString</span><span class="token double-colon punctuation">::</span><span class="token function">fromLocal8Bit</span><span class="token punctuation">(</span><span class="token string">"字符串"</span><span class="token punctuation">)</span>；
<span class="token keyword">if</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">compare</span><span class="token punctuation">(</span><span class="token class-name">QString</span><span class="token double-colon punctuation">::</span><span class="token function">fromLocal8Bit</span><span class="token punctuation">(</span><span class="token string">"字符串"</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
或
<span class="token keyword">if</span><span class="token punctuation">(</span>str <span class="token operator">==</span><span class="token class-name">QString</span><span class="token double-colon punctuation">::</span><span class="token function">fromLocal8Bit</span><span class="token punctuation">(</span><span class="token string">"字符串"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
</code></pre> 
<h2><a id="QByteArray_117"></a>QByteArray</h2> 
<h3><a id="_118"></a>构造函数</h3> 
<pre><code class="prism language-cpp"><span class="token class-name">QByteArray</span><span class="token double-colon punctuation">::</span><span class="token function">QByteArray</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>data<span class="token punctuation">,</span> <span class="token keyword">int</span> size <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token class-name">QByteArray</span><span class="token double-colon punctuation">::</span><span class="token function">QByteArray</span><span class="token punctuation">(</span>QByteArray <span class="token operator">&amp;&amp;</span>other<span class="token punctuation">)</span>
<span class="token class-name">QByteArray</span><span class="token double-colon punctuation">::</span><span class="token function">QByteArray</span><span class="token punctuation">(</span><span class="token keyword">const</span> QByteArray <span class="token operator">&amp;</span>other<span class="token punctuation">)</span>
<span class="token class-name">QByteArray</span><span class="token double-colon punctuation">::</span><span class="token function">QByteArray</span><span class="token punctuation">(</span><span class="token keyword">int</span> size<span class="token punctuation">,</span> <span class="token keyword">char</span> ch<span class="token punctuation">)</span>
<span class="token class-name">QByteArray</span><span class="token double-colon punctuation">::</span><span class="token function">QByteArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre> 
<h3><a id="_128"></a>其他常用功能</h3> 
<p><strong>在尾部追加数据</strong></p> 
<pre><code class="prism language-cpp">QByteArray <span class="token operator">&amp;</span><span class="token class-name">QByteArray</span><span class="token double-colon punctuation">::</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token keyword">const</span> QByteArray <span class="token operator">&amp;</span>ba<span class="token punctuation">)</span>
QByteArray <span class="token operator">&amp;</span><span class="token class-name">QByteArray</span><span class="token double-colon punctuation">::</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token keyword">char</span> ch<span class="token punctuation">)</span>
</code></pre> 
<pre><code class="prism language-cpp">QByteArray <span class="token function">x</span><span class="token punctuation">(</span><span class="token string">"free"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
QByteArray <span class="token function">y</span><span class="token punctuation">(</span><span class="token string">"dom"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
x<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p><strong>在头部添加数据</strong></p> 
<pre><code class="prism language-cpp">QByteArray <span class="token operator">&amp;</span><span class="token class-name">QByteArray</span><span class="token double-colon punctuation">::</span><span class="token function">prepend</span><span class="token punctuation">(</span><span class="token keyword">const</span> QByteArray <span class="token operator">&amp;</span>ba<span class="token punctuation">)</span>
QByteArray <span class="token operator">&amp;</span><span class="token class-name">QByteArray</span><span class="token double-colon punctuation">::</span><span class="token function">prepend</span><span class="token punctuation">(</span><span class="token keyword">char</span> ch<span class="token punctuation">)</span>
</code></pre> 
<pre><code class="prism language-cpp">QByteArray <span class="token function">x</span><span class="token punctuation">(</span><span class="token string">"ship"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
QByteArray <span class="token function">y</span><span class="token punctuation">(</span><span class="token string">"air"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
x<span class="token punctuation">.</span><span class="token function">prepend</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p><strong>将ba插入到第i个字节位置</strong></p> 
<pre><code class="prism language-cpp">QByteArray <span class="token operator">&amp;</span><span class="token class-name">QByteArray</span><span class="token double-colon punctuation">::</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token punctuation">,</span> <span class="token keyword">const</span> QByteArray <span class="token operator">&amp;</span>ba<span class="token punctuation">)</span>
QByteArray <span class="token operator">&amp;</span><span class="token class-name">QByteArray</span><span class="token double-colon punctuation">::</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token punctuation">,</span> <span class="token keyword">char</span> ch<span class="token punctuation">)</span>
</code></pre> 
<pre><code class="prism language-cpp">QByteArray <span class="token function">ba</span><span class="token punctuation">(</span><span class="token string">"Meal"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ba<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token function">QByteArray</span><span class="token punctuation">(</span><span class="token string">"ontr"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p><strong>删除</strong></p> 
<pre><code class="prism language-cpp">QByteArray <span class="token operator">&amp;</span><span class="token class-name">QByteArray</span><span class="token double-colon punctuation">::</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token keyword">int</span> pos<span class="token punctuation">,</span> <span class="token keyword">int</span> len<span class="token punctuation">)</span>

QByteArray <span class="token function">ba</span><span class="token punctuation">(</span><span class="token string">"Montreal"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ba<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p><strong>删除尾部n个字节</strong></p> 
<pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token class-name">QByteArray</span><span class="token double-colon punctuation">::</span><span class="token function">chop</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span>

QByteArray <span class="token function">ba</span><span class="token punctuation">(</span><span class="token string">"STARTTLS\r\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ba<span class="token punctuation">.</span><span class="token function">chop</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                 <span class="token comment">// ba == "STARTTLS"</span>
</code></pre> 
<p><strong>截断数组，前部分留下，后部分删除</strong></p> 
<pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token class-name">QByteArray</span><span class="token double-colon punctuation">::</span><span class="token function">truncate</span><span class="token punctuation">(</span><span class="token keyword">int</span> pos<span class="token punctuation">)</span>

QByteArray <span class="token function">ba</span><span class="token punctuation">(</span><span class="token string">"Stockholm"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ba<span class="token punctuation">.</span><span class="token function">truncate</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token comment">// ba == "Stock"</span>
</code></pre> 
<p><strong>清空数据</strong></p> 
<pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token class-name">QByteArray</span><span class="token double-colon punctuation">::</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<p><strong>字符串替换</strong></p> 
<pre><code class="prism language-cpp">QByteArray <span class="token operator">&amp;</span><span class="token class-name">QByteArray</span><span class="token double-colon punctuation">::</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token keyword">const</span> QByteArray <span class="token operator">&amp;</span>before<span class="token punctuation">,</span> <span class="token keyword">const</span> QByteArray <span class="token operator">&amp;</span>after<span class="token punctuation">)</span>

QByteArray <span class="token function">ba</span><span class="token punctuation">(</span><span class="token string">"colour behaviour flavour neighbour"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ba<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token function">QByteArray</span><span class="token punctuation">(</span><span class="token string">"ou"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">QByteArray</span><span class="token punctuation">(</span><span class="token string">"o"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// ba == "color behavior flavor neighbor"</span>
</code></pre> 
<p><strong>判断是否包含子字符串</strong><br> 判断是否包含子字符串，包含返回true，不包含返回false</p> 
<pre><code class="prism language-cpp"><span class="token keyword">bool</span> <span class="token class-name">QByteArray</span><span class="token double-colon punctuation">::</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token keyword">char</span> ch<span class="token punctuation">)</span> <span class="token keyword">const</span>
</code></pre> 
<p><strong>判断字符串是否以ba开头</strong></p> 
<pre><code class="prism language-cpp"><span class="token keyword">bool</span> <span class="token class-name">QByteArray</span><span class="token double-colon punctuation">::</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token keyword">const</span> QByteArray <span class="token operator">&amp;</span>ba<span class="token punctuation">)</span> <span class="token keyword">const</span>
</code></pre> 
<p><strong>判断字符串是否以ba结尾</strong></p> 
<pre><code class="prism language-cpp"><span class="token keyword">bool</span> <span class="token class-name">QByteArray</span><span class="token double-colon punctuation">::</span><span class="token function">endsWith</span><span class="token punctuation">(</span><span class="token keyword">const</span> QByteArray <span class="token operator">&amp;</span>ba<span class="token punctuation">)</span> <span class="token keyword">const</span>
</code></pre> 
<p><strong>迭代器</strong></p> 
<pre><code class="prism language-cpp">QByteArray<span class="token double-colon punctuation">::</span>const_iterator <span class="token class-name">QByteArray</span><span class="token double-colon punctuation">::</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span>
QByteArray<span class="token double-colon punctuation">::</span>const_iterator <span class="token class-name">QByteArray</span><span class="token double-colon punctuation">::</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span>
</code></pre> 
<p><strong>取出第i个数据</strong></p> 
<pre><code class="prism language-cpp"><span class="token keyword">char</span> <span class="token class-name">QByteArray</span><span class="token double-colon punctuation">::</span><span class="token function">at</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token punctuation">)</span> <span class="token keyword">const</span>
</code></pre> 
<p><strong>查看对象中的字符个数</strong></p> 
<pre><code class="prism language-cpp"><span class="token keyword">int</span> <span class="token class-name">QByteArray</span><span class="token double-colon punctuation">::</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span>
<span class="token keyword">int</span> <span class="token class-name">QByteArray</span><span class="token double-colon punctuation">::</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span>
<span class="token keyword">int</span> <span class="token class-name">QByteArray</span><span class="token double-colon punctuation">::</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span>
</code></pre> 
<p><strong>转换成char</strong>*</p> 
<pre><code class="prism language-cpp"><span class="token keyword">char</span> <span class="token operator">*</span><span class="token class-name">QByteArray</span><span class="token double-colon punctuation">::</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

 QByteArray <span class="token function">ba</span><span class="token punctuation">(</span><span class="token string">"Hello world"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token keyword">char</span> <span class="token operator">*</span>data <span class="token operator">=</span> ba<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">*</span>data<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
     cout <span class="token operator">&lt;&lt;</span> <span class="token string">"["</span> <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>data <span class="token operator">&lt;&lt;</span> <span class="token string">"]"</span> <span class="token operator">&lt;&lt;</span> Qt<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
     <span class="token operator">++</span>data<span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
</code></pre> 
<p><strong>QByteArray转十六进制</strong></p> 
<pre><code class="prism language-cpp">QByteArray <span class="token class-name">QByteArray</span><span class="token double-colon punctuation">::</span><span class="token function">toHex</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span>
</code></pre> 
<p><strong>转大/小写</strong></p> 
<pre><code class="prism language-cpp">QByteArray <span class="token class-name">QByteArray</span><span class="token double-colon punctuation">::</span><span class="token function">toUpper</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span>
QByteArray <span class="token class-name">QByteArray</span><span class="token double-colon punctuation">::</span><span class="token function">toLower</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span>
</code></pre> 
<p><strong>QByteArray转int</strong></p> 
<pre><code class="prism language-cpp"><span class="token keyword">int</span> <span class="token class-name">QByteArray</span><span class="token double-colon punctuation">::</span><span class="token function">toInt</span><span class="token punctuation">(</span><span class="token keyword">bool</span> <span class="token operator">*</span>ok <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">,</span> <span class="token keyword">int</span> base <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">const</span>
</code></pre> 
<h2><a id="QString__QByteArray_278"></a>QString 与 QByteArray的区别</h2> 
<ul><li>QString：专门用来处理字符串，支持多种编码，包括ASCII和各国语言的编码。默认情况下，QString会将所有数据视为UTF-8编码进行处理。它更高级、更抽象，并且基于Unicode字符；</li><li>QByteArray：用于处理字节流（字节数组的形式存储），主要处理ASCII编码字符。对于其他复杂的编码（如UTF-8），它直接以字节流的方式处理。它更底层、更具体，可视作char<em>的替代品，并提供char</em>数据接口；</li><li>QString：其基本单位是Unicode字符（QChar）。它不提供char* data()这样的接口来访问其具体存储内容，而是提供QChar* data()接口；</li><li>QByteArray：其基本单位是一个个字节。它提供了char* data()接口，用于访问其存储的字节；</li><li>QByteArray与QString之间的转换相对简单。QByteArray可以存储无法显示的字符（如0x00-0x19），而QString只存储可显示的字符（如0x30等，对应于ASCII表中的可显示字符）；</li><li>对于需要存储和传输数据，或者在网络编程中需要以字节流形式处理数据的场景，使用QByteArray更为合适；</li><li>对于其他大多数处理字符串的场景，使用QString更为合适。</li><li></ul>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/9a83df9b2ed1f69f4e142fadf9ff5cb0/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">adb-monkey命令</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/978a9862ea66a5e62673f285e4687d54/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">linux逻辑卷/dev/mapper/centos-root扩容增加空间</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 追风少年的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>