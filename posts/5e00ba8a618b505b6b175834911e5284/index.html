<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>ULN2003步进电机驱动电路详解 - 追风少年的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="ULN2003步进电机驱动电路详解" />
<meta property="og:description" content=" 一.ULN2003芯片介绍 ULN2003 是高耐压、大电流达林顿陈列，由七个硅 NPN 达林顿管组成。该电路的特点如下：
ULN2003 的每一对达林顿都串联一个 2.7K 的基极电阻,在 5V 的工作电压下它能与 TTL 和 CMOS 电路直接相连，可以直接处理原先需要标准逻辑缓冲器来处理的数据。
ULN2003 工作电压高，工作电流大，灌电流可达 500mA，并且能够在关态时承受 50V 的电压，输出还可以在高负载电流并行运行。
ULN2003 采用 DIP-16 或 SOP-16 塑料封装。
ULN2003内部电路框图及封装图
主要作用：ULN2003的主要作用就是为单片机提供大电流的驱动能力，以此达到驱动步进电机所需的电流。
二.28BYJ-48五线四相电机介绍 28BYJ-48步进电机为五线四相永磁式步进电机，其名称含义为：“28”为电机直径28mm，B为步进电机，Y表示电机为永磁式，J表示内部自带减速箱，48表示驱动方式为四相八拍；
（1）28BYJ-48步进电机参数
对于初学者，对于以上参数，可以先注意以上几个主要参数：工作电压为DC5-12V；步距角为5.625°，即电机转一圈需要的步数=360/5.625*64=4096步，驱动方式为四相四拍或四相八拍。
（2）28BYJ-48步进电机电路图
从电路图可以看出，五线四相表示电机有4个线圈，5根接线端子，其中引脚5为公共端。
三.ULN2003步进电机驱动模块
（1）驱动模块电路图如下：
其中IN1-4引脚为ULN2003的控制端，主要连接单片机引脚，高电平导通，低电平截止；OUT1-4为ULN2003的驱动端，主要连接步进电机4个相线。LED1-4为指示作用，ULN2003通道导通时亮，截止时灭。
VCC主要为ULN2003内部续流二极管的公共端，VM为步进电机的驱动电压；VCC与VM的工作电压需保持一直。
ULN2003模块与电机实物图
（2）单片机与驱动模块连接图
ULN2003与单片机、步进电机电路连接图，步进电机以5V为工作电压。
四.驱动程序 步进电机的驱动方式主要为四相四拍或四相八拍；
四相四拍为步进电机的导通顺序为：
（1）正转：A-B-C-D；
（2）反转：D-C-B-A；
四相八拍为步进电机的导通顺序为：
（3）正转：AD-A-AB-B-CB-C-DC-D；
（4）反转：D-DC-C-CB-B-BA-A-AD；
程序以四相四拍为例：
******************************************************* 接线方式: IN1 ---- P00 IN2 ---- P01 IN3 ---- P02 IN4 ---- P03 *********************/ #include&lt;reg52.h&gt; #define uchar unsigned char #define uint unsigned int #define MotorData P0 //步进电机控制接口定义 uchar phasecw[4] ={0x08,0x04,0x02,0x01};//正转 电机导通相序 D-C-B-A uchar phaseccw[4]={0x01,0x02,0x04,0x08};//反转 电机导通相序 A-B-C-D //ms延时函数 void Delay_xms(uint x) { uint i,j; for(i=0;i&lt;x;i&#43;&#43;) for(j=0;j&lt;112;j&#43;&#43;); } //顺时针转动 void MotorCW(void) { uchar i; for(i=0;i&lt;4;i&#43;&#43;) { MotorData=phasecw[i]; Delay_xms(4);//转速调节 } } //逆时针转动 void MotorCCW(void) { uchar i; for(i=0;i&lt;4;i&#43;&#43;) { MotorData=phaseccw[i]; Delay_xms(4);//转速调节 } } //停止转动 void MotorStop(void) { MotorData=0x00; } //主函数 void main(void) { uint i; Delay_xms(50);//等待系统稳定 while(1) { for(i=0;i&lt;500;i&#43;&#43;) { MotorCW(); //顺时针转动 } MotorStop(); //停止转动 Delay_xms(500); for(i=0;i&lt;500;i&#43;&#43;) { MotorCCW(); //逆时针转动 } MotorStop(); //停止转动 Delay_xms(500); } } " />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://zhuifengsn.github.io/posts/5e00ba8a618b505b6b175834911e5284/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-11-14T23:58:32+08:00" />
<meta property="article:modified_time" content="2022-11-14T23:58:32+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="追风少年的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">追风少年的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">ULN2003步进电机驱动电路详解</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h4><strong>一.ULN2003芯片介绍</strong></h4> 
<p>        ULN2003 是高耐压、大电流达林顿陈列，由七个硅 NPN 达林顿管组成。该电路的特点如下：</p> 
<ol><li> <p>ULN2003 的每一对达林顿都串联一个 2.7K 的基极电阻,在 5V 的工作电压下它能与 TTL 和 CMOS 电路直接相连，可以直接处理原先需要标准逻辑缓冲器来处理的数据。</p> </li><li> <p>ULN2003 工作电压高，工作电流大，灌电流可达 500mA，并且能够在关态时承受 50V 的电压，输出还可以在高负载电流并行运行。</p> </li><li> <p>ULN2003 采用 DIP-16 或 SOP-16 塑料封装。</p> </li></ol> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/38/11/1BYBRrI1_o.png"></p> 
<p style="text-align:center;">ULN2003内部电路框图及封装图</p> 
<p><strong>        主要作用：ULN2003的主要作用就是为单片机提供大电流的驱动能力，以此达到驱动步进电机所需的电流。</strong></p> 
<h4><strong>二.28BYJ-48五线四相电机介绍</strong></h4> 
<p>28BYJ-48步进电机为五线四相永磁式步进电机，其名称含义为：“28”为电机直径28mm，B为步进电机，Y表示电机为永磁式，J表示内部自带减速箱，48表示驱动方式为四相八拍；</p> 
<p>（1）28BYJ-48步进电机参数</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/26/e9/Z4KmwfH7_o.png"></p> 
<p>        对于初学者，对于以上参数，可以先注意以上几个主要参数：工作电压为DC5-12V；步距角为5.625°，即电机转一圈需要的步数=360/5.625*64=4096步，驱动方式为四相四拍或四相八拍。</p> 
<p>（2）28BYJ-48步进电机电路图</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/4f/2e/n81v0Wc2_o.png"></p> 
<p>        从电路图可以看出，五线四相表示电机有4个线圈，5根接线端子，其中引脚5为公共端。</p> 
<p><strong>三.ULN2003步进电机驱动模块</strong></p> 
<p>（1）驱动模块电路图如下：</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/6c/c1/7bXHOyAC_o.png"></p> 
<p>        其中IN1-4引脚为ULN2003的控制端，主要连接单片机引脚，高电平导通，低电平截止；OUT1-4为ULN2003的驱动端，主要连接步进电机4个相线。LED1-4为指示作用，ULN2003通道导通时亮，截止时灭。</p> 
<p>        VCC主要为ULN2003内部续流二极管的公共端，VM为步进电机的驱动电压；<strong>VCC与VM的工作电压需保持一直。</strong></p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/3f/a5/jOxGNMnT_o.png"></p> 
<p style="text-align:center;">ULN2003模块与电机实物图</p> 
<p>（2）单片机与驱动模块连接图</p> 
<p>  </p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/89/ef/s2g5FiGy_o.png"></p> 
<p>        ULN2003与单片机、步进电机电路连接图，步进电机以5V为工作电压。</p> 
<h4><strong>四.驱动程序</strong></h4> 
<p>步进电机的驱动方式主要为四相四拍或四相八拍；</p> 
<p>四相四拍为步进电机的导通顺序为：</p> 
<p>（1）正转：A-B-C-D；</p> 
<p>（2）反转：D-C-B-A；</p> 
<p>四相八拍为步进电机的导通顺序为：</p> 
<p>（3）正转：AD-A-AB-B-CB-C-DC-D；</p> 
<p>（4）反转：D-DC-C-CB-B-BA-A-AD；</p> 
<p>程序以四相四拍为例：</p> 
<pre><code class="language-cpp">*******************************************************
接线方式:
IN1 ---- P00
IN2 ---- P01
IN3 ---- P02
IN4 ---- P03
*********************/
#include&lt;reg52.h&gt;
#define uchar unsigned char
#define uint  unsigned int
#define MotorData P0                    //步进电机控制接口定义
uchar phasecw[4] ={0x08,0x04,0x02,0x01};//正转 电机导通相序 D-C-B-A
uchar phaseccw[4]={0x01,0x02,0x04,0x08};//反转 电机导通相序 A-B-C-D
//ms延时函数
void Delay_xms(uint x)
{
 uint i,j;
 for(i=0;i&lt;x;i++)
  for(j=0;j&lt;112;j++);
}
//顺时针转动
void MotorCW(void)
{
 uchar i;
 for(i=0;i&lt;4;i++)
  {
   MotorData=phasecw[i];
   Delay_xms(4);//转速调节
  }
}
//逆时针转动
void MotorCCW(void)
{
 uchar i;
 for(i=0;i&lt;4;i++)
  {
   MotorData=phaseccw[i];
   Delay_xms(4);//转速调节
  }
}
//停止转动
void MotorStop(void)
{
 MotorData=0x00;
}
//主函数
void main(void)
{
 uint i;
 Delay_xms(50);//等待系统稳定
 while(1)
 {
  for(i=0;i&lt;500;i++)
  {
   MotorCW();   //顺时针转动
  } 
  MotorStop();  //停止转动
  Delay_xms(500);
  for(i=0;i&lt;500;i++)
  {
   MotorCCW();  //逆时针转动
  } 
  MotorStop();  //停止转动
  Delay_xms(500);  
 }
}</code></pre> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/37398417cd157fa94a421e20bdbd04b9/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【算法刷题】1 Python基础篇</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/850f1fa31e7ec52c3b0cdeeae012249d/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">如何使用Python读取超大文本文件</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 追风少年的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>