<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Fiddler工具 — 19.Fiddler抓包HTTPS请求（二） - 追风少年的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Fiddler工具 — 19.Fiddler抓包HTTPS请求（二）" />
<meta property="og:description" content="5、查看证书是否安装成功 方式一： 点击Tools菜单 —&gt; Options... —&gt; HTTPS —&gt; Actions
选择第三项：Open Windows Certificate Manager打开Windows证书管理器。
打开Windows证书管理器，选择操作—&gt;查看证书，在搜索框中输入Fiddler来查看证书。
查看结果：
然后可以选择一个证书，进行打开、删除、导出等操作。
方式二： WIN&#43;R打开电脑命令提示符，输入certmgr.msc并回车，打开Windows证书管理器。
之后步骤同上。
6、HTTPS选项界面说明 Fiddler can decrypt HITTPS sessions by re-signing traffic using self-generated certificates.
Fiddler可以使用自行生成的证书对流量进行重新签名，从而对HITTPS会话进行解密。
Capture HTTPS CONNECTs：建立HTTPS连接通信。
这个就是我们之前常看到有tunnel to...443请求的原因，他是HTTPS建立通信时候所发出的请求。
我们使用Rules菜单 —&gt; Hide CONNECTs操作，把这些请求隐藏了。
Decrypt HTTPS traffic：解密HTTPS请求。
下拉列表
from all processes : 抓取所有的HTTPS程序, 包括本机和手机 。
from browsers only : 只抓取浏览器中的HTTPS请求。
from non-browsers only : 只抓取除了浏览器之外的所有HTTPS请求。
from remote clients only ： 抓取远程的客户端的HTTPS,可以代表手机。
Ignore server certificate errors (unsafe)：忽略服务器证书错误（不安全）" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://zhuifengsn.github.io/posts/564236510b293d9a0a686ca21bea7274/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-02-21T19:38:01+08:00" />
<meta property="article:modified_time" content="2024-02-21T19:38:01+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="追风少年的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">追风少年的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Fiddler工具 — 19.Fiddler抓包HTTPS请求（二）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h4>5、查看证书是否安装成功</h4> 
<h5>方式一：</h5> 
<p>点击Tools菜单 —&gt; Options... —&gt; HTTPS —&gt; Actions</p> 
<p>选择第三项：<code>Open Windows Certificate Manager</code>打开Windows证书管理器。</p> 
<p><img alt="" height="289" src="https://images2.imgbox.com/c3/48/ICC3FW01_o.png" width="741"></p> 
<p>打开Windows证书管理器，选择操作—&gt;查看证书，在搜索框中输入<code>Fiddler</code>来查看证书。</p> 
<p></p> 
<p class="img-center"><img alt="" height="347" src="https://images2.imgbox.com/41/44/HOdTmnWb_o.png" width="510"></p> 
<p>查看结果：</p> 
<p class="img-center"><img alt="" height="700" src="https://images2.imgbox.com/a2/c3/9gA6rrN4_o.png" width="508"></p> 
<p>然后可以选择一个证书，进行打开、删除、导出等操作。</p> 
<h5>方式二：</h5> 
<p>WIN+R打开电脑命令提示符，输入<code>certmgr.msc</code>并回车，打开Windows证书管理器。</p> 
<p> <img alt="" height="449" src="https://images2.imgbox.com/a6/30/aL4YZSgG_o.png" width="630"></p> 
<p> 之后步骤同上。</p> 
<h4>6、HTTPS选项界面说明</h4> 
<p></p> 
<p class="img-center"><img alt="" height="376" src="https://images2.imgbox.com/ee/b6/VEE6v4vM_o.png" width="549"></p> 
<ul><li> <p><code>Fiddler can decrypt HITTPS sessions by re-signing traffic using self-generated certificates.</code></p> <p>Fiddler可以使用自行生成的证书对流量进行重新签名，从而对HITTPS会话进行解密。</p> </li><li> <p><code>Capture HTTPS CONNECTs</code>：建立HTTPS连接通信。</p> <p>这个就是我们之前常看到有<code>tunnel to...443</code>请求的原因，他是HTTPS建立通信时候所发出的请求。</p> <p>我们使用Rules菜单 —&gt; <code>Hide CONNECTs</code>操作，把这些请求隐藏了。</p> </li><li> <p><code>Decrypt HTTPS traffic</code>：解密HTTPS请求。</p> </li><li> <p>下拉列表</p> <p><code>from all processes</code> : 抓取所有的HTTPS程序, 包括本机和手机 。</p> <p><code>from browsers only</code> : 只抓取浏览器中的HTTPS请求。</p> <p><code>from non-browsers only</code> : 只抓取除了浏览器之外的所有HTTPS请求。</p> <p><code>from remote clients only</code> ： 抓取远程的客户端的HTTPS,可以代表手机。</p> </li><li> <p><code>Ignore server certificate errors (unsafe)</code>：忽略服务器证书错误（不安全）</p> <p>一般勾选上。</p> </li><li> <p><code>check for certificate reyocation</code>：检查证书吊销。</p> </li><li> <p><code>Certificates generated by CertEnroll engine</code>：由CertEnroll引擎生成的证书。</p> </li><li> <p><code>Skip decryption for the following hosts</code>：跳过以下主机的解密。</p> </li><li> <p>Actions</p> 
  <ul><li><code>Trust Root Certificate</code>：信任根证书。</li><li><code>Export Root Certificate to Desktop</code>：将根证书导出到桌面。</li><li><code>Open Windows Certificate Manager</code>：打开Windows证书管理器。</li><li><code>Learn More about HTTPS Decryption</code>：了解有关HTTPS解密的更多信息。</li><li><code>Remove Interception Certificates</code>：删除拦截证书。</li><li><code>Reset All Certificates</code>：重置所有证书。</li></ul></li></ul> 
<h4>7、无法抓取HTTPS请求</h4> 
<p>我们在完成上面Fiddler配置后，还是无法抓取HTTPS请求。</p> 
<p>我们可以点击Tools菜单 —&gt; Options... —&gt; HTTPS —&gt; Actions。</p> 
<p>选择最后一个选项<code>Reset All Certificates</code>：重置所有证书。</p> 
<p>提示：Fiddler将删除所有拦截证书，并重新创建新的根证书以用于解密流量。</p> 
<p>选择确定。</p> 
<p><img alt="" height="245" src="https://images2.imgbox.com/61/65/oBuBlV6w_o.png" width="499"></p> 
<p>确定是否删除证书：选择是。</p> 
<p></p> 
<p class="img-center"><img alt="" height="294" src="https://images2.imgbox.com/16/c5/YMadMbEq_o.png" width="491"></p> 
<p>提示：Fiddler生成的证书已从“当前用户”存储中删除。</p> 
<p></p> 
<p class="img-center"><img alt="" height="183" src="https://images2.imgbox.com/89/e2/nSFV0f01_o.png" width="526"></p> 
<p> </p> 
<p>点击确定。之后Fiddler会自动弹出证书的安装，同上面第4点的步骤一。</p> 
<p>如果还不行，可以再点击第一个选项<code>Trust Root Certificate</code>：信任根证书。</p> 
<p>之后会安装一些Fiddler的相关证书，这样基本上可以解决Fiddler无法抓取HTTPS请求的情况。</p> 
<h4>8、Firefox浏览器中捕获HTTPS请求</h4> 
<p>Google浏览器和IE浏览器默认使用的网络代理是系统代理，当Fiddler开启后，会自动替换掉系统代理，这样Google浏览器和IE浏览器自动就可以抓取到HTTPS的请求。</p> 
<p>Firefox浏览器与其它浏览器有所不同，它默认不使用系统代理，该浏览器需要自己设置代理和安装证书，Fiddler才可以抓到HTTPS。</p> 
<h5>（1）查看Firefox浏览器的网络代理</h5> 
<p>选择Firefox右上角三条横线 —&gt; 选项 —&gt; 网络设置（版本不同位置不同，有的在高级里，有的在常规里）</p> 
<p>点击“设置”，出现如下界面：</p> 
<p><img alt="" height="863" src="https://images2.imgbox.com/36/04/K4oNH0Ku_o.png" width="771"></p> 
<blockquote> 
 <p>提示：新版本默认选择使用系统代理设置，旧版本自己查看一下，不是的话修改一下。</p> 
</blockquote> 
<p>这样的话，我们就可以进行HTTP请求的抓取了。（注意不是HTTPS请求）</p> 
<p>我们也可以进行手动代理配置，要配置成Fiddler一样的地址和端口（请看Fiddler中Connections选项中的配置）</p> 
<p><img alt="" height="250" src="https://images2.imgbox.com/c8/76/lE7F8N42_o.png" width="735"></p> 
<h5>（2）配置Firefox浏览器的Fiddler证书</h5> 
<p>我们可以先通过Fiddler配置好抓取Google浏览器HTTPS请求，这样的话Fiddler证书已经安装在本机电脑中了。</p> 
<p>新版本的Firefox浏览器，当我们打开浏览器的时候，Firefox会自动弹出页面，需要确认Fiddler证书。</p> 
<p>我们点击高级，选择信任该证书即可。</p> 
<p><img alt="" height="388" src="https://images2.imgbox.com/df/37/OWVjbuJ4_o.png" width="794"></p> 
<p>现在我们就可以使用Fiddler抓取Firefox浏览器的HTTPS请求了。</p> 
<p>如果是旧版本的Firefox浏览器。</p> 
<p>步骤1：我们需要点击Tools菜单 —&gt; Options... —&gt; HTTPS —&gt; Actions。</p> 
<p>步骤2：选择第二项<code>Export Root Certificate to Desktop</code>：将根证书导出到桌面。</p> 
<p>步骤3：然后选择Firefox右上角三条横线 —&gt; 选项 —&gt; 证书（版本不同位置不同，有的在高级里，有的在隐私与安全里）</p> 
<p>步骤4：点击“查看证书”，点击导入证书，如下图：</p> 
<p><img alt="" height="556" src="https://images2.imgbox.com/91/eb/DDK6x73A_o.png" width="644"></p> 
<p> </p> 
<p>步骤5：选择并打开文件后，会弹出个框，勾选三个选项，点击确定，完成配置。</p> 
<p></p> 
<p class="img-center"><img alt="" height="307" src="https://images2.imgbox.com/7b/4d/KuU1tdyT_o.png" width="555"></p> 
<p>步骤6：可以抓取Firefox浏览器发出的HTTPS请求了。如果不行重启Firefox浏览器和Fiddler试试。</p> 
<h4>9、总结：</h4> 
<p>无论什么浏览器，需要抓取HTTPS请求，都需要确保：</p> 
<ul><li>确保浏览器使用网络是系统代理（主要就是把系统代理替换成Fiddler代理）。</li><li>确保正确安装好Fiddler证书。</li></ul> 
<p>这样Fiddler就可以抓取到任何浏览器发送的HTTPS请求了。</p> 
<p> </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/49df2646867c6808b0220f6b04950562/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【数据结构】单向循环链表</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/68f1290323aef73e95ae1c3247db31e9/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">计算机设计大赛 深度学习卫星遥感图像检测与识别 -opencv python 目标检测</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 追风少年的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>