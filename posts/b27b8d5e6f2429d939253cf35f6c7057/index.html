<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【Linux】MySQL数据库的使用 - 追风少年的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="【Linux】MySQL数据库的使用" />
<meta property="og:description" content="【Linux】MySQL数据库的使用 一、访问MySQL数据库二、创建及删除库和表1、创建新的库2、创建新的表3、删除一个数据表4、删除一个数据库 三、管理表中的数据记录1、插入数据记录2、查询数据记录3、修改数据记录4、删除数据记录 四、数据库用户授权1、授予权限2、查看权限3、撤销权限 linux中部署MySQL详见我的上一篇博文：
Ubuntu22部署MySQL5.7详细教程
本篇文章将介绍在Ubuntu中如何使用MySQL数据库。
一、访问MySQL数据库 首先使用root用户登录MySQL
mysql -u root -p 验证成功以后将会进入提示符为‘mysql&gt;”的数据库操作环境，用户可以输入各种操作语句对数据库进行管理。
每条MySQL操作语句以分号 ‘;’ 表示结束，输入时可以不区分大小写。
status;表示查看当前数据库服务的基本信息。
status; show databases;表示用于查看当前MySQL服务器中包含的库。
show databases; 经初始化后的MySQL服务器，默认建立了四个库：test.mysql.information_schema和performance_schema（其中mysql库是mysql正常运行所需的库，其中包含了用户认证相关的表）。
使用Navicat远程连接数据库可以看到这四个库
show tables;用于查看当前所在的库中包含的表。 在操作之前，需要先使用USE语句切换到所使用的库，例如，执行以下操作可以显示mysql库中包含的所有表。
use mysql; show tables; describe用于显示表的结构，即组成表的各字段（列）的信息。需要指定“库名.表名” 作为参数；若只指定表名参数，则需先通过USE语句切换到目标库。 例如，执行以下操作可以查看mysql库中的user表的结构。与直接执行“DESCRIBE mysql.user;’”语句的效果相同。
use mysql; describe user; 在“mysql&gt;”操作环境中，执行 “exit”或“quit”命令 可以退出mysql命令工具，返回原来的Shell环境。
二、创建及删除库和表 1、创建新的库 CREATE DATABASE语句：用于创建一个新的库，需指定数据库名称作为参数。 例如，执行以下操作可以创建一个名为auth的库。
create database auth; 刚创建的数据库是空的，其中不包含任何表，在数据库存放目录下会自动生成一个与新建的库名相同的文件夹。
使用以下命令可以查看数据库存放目录。
SHOW VARIABLES LIKE &#39;datadir&#39;; 可见在数据库存放目录下新增了一个auth文件夹。
2、创建新的表 CREATE TABLE 语句：用于在当前库中创建新的表，需指定数据表名称作为参数，并定义该表格所使用的各字段，基本格式如下所示。
CREATE TABLE 表名 (字段1名称 类型, 字段2名称 类型, ." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://zhuifengsn.github.io/posts/b27b8d5e6f2429d939253cf35f6c7057/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-02-22T13:37:08+08:00" />
<meta property="article:modified_time" content="2024-02-22T13:37:08+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="追风少年的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">追风少年的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【Linux】MySQL数据库的使用</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>【Linux】MySQL数据库的使用</h4> 
 <ul><li><a href="#MySQL_7" rel="nofollow">一、访问MySQL数据库</a></li><li><a href="#_44" rel="nofollow">二、创建及删除库和表</a></li><li><ul><li><a href="#1_45" rel="nofollow">1、创建新的库</a></li><li><a href="#2_61" rel="nofollow">2、创建新的表</a></li><li><a href="#3_88" rel="nofollow">3、删除一个数据表</a></li><li><a href="#4_97" rel="nofollow">4、删除一个数据库</a></li></ul> 
  </li><li><a href="#_105" rel="nofollow">三、管理表中的数据记录</a></li><li><ul><li><a href="#1_106" rel="nofollow">1、插入数据记录</a></li><li><a href="#2_126" rel="nofollow">2、查询数据记录</a></li><li><a href="#3_145" rel="nofollow">3、修改数据记录</a></li><li><a href="#4_169" rel="nofollow">4、删除数据记录</a></li></ul> 
  </li><li><a href="#_190" rel="nofollow">四、数据库用户授权</a></li><li><ul><li><a href="#1_191" rel="nofollow">1、授予权限</a></li><li><a href="#2_239" rel="nofollow">2、查看权限</a></li><li><a href="#3_251" rel="nofollow">3、撤销权限</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<p>linux中部署MySQL详见我的上一篇博文：<br> <a href="https://blog.csdn.net/weixin_44842318/article/details/136200647">Ubuntu22部署MySQL5.7详细教程</a></p> 
<p>本篇文章将介绍在Ubuntu中如何使用MySQL数据库。</p> 
<h2><a id="MySQL_7"></a>一、访问MySQL数据库</h2> 
<p>首先使用root用户登录MySQL</p> 
<pre><code class="prism language-bash">mysql <span class="token parameter variable">-u</span> root <span class="token parameter variable">-p</span>
</code></pre> 
<p>验证成功以后将会进入提示符为‘mysql&gt;”的数据库操作环境，用户可以输入各种操作语句对数据库进行管理。<br> <img src="https://images2.imgbox.com/0c/ad/0m7dDZUu_o.png" alt="在这里插入图片描述"><br> 每条MySQL操作语句<strong>以分号 ‘;’ 表示结束</strong>，输入时<strong>可以不区分大小写</strong>。</p> 
<p><strong>status;表示查看当前数据库服务的基本信息。</strong></p> 
<pre><code class="prism language-bash">status<span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/f3/2a/OI84S7aC_o.png" alt="在这里插入图片描述"></p> 
<p><strong>show databases;表示用于查看当前MySQL服务器中包含的库。</strong></p> 
<pre><code class="prism language-bash">show databases<span class="token punctuation">;</span>
</code></pre> 
<p>经初始化后的MySQL服务器，默认建立了四个库：test.mysql.information_schema和performance_schema（其中mysql库是mysql正常运行所需的库，其中包含了用户认证相关的表）。<br> <img src="https://images2.imgbox.com/9a/87/a6MCFYpS_o.png" alt="在这里插入图片描述"><br> 使用Navicat远程连接数据库可以看到这四个库<br> <img src="https://images2.imgbox.com/32/d5/6bV3Tw6g_o.png" alt="在这里插入图片描述"><br> <strong>show tables;用于查看当前所在的库中包含的表。</strong> 在操作之前，需要先使用USE语句切换到所使用的库，例如，执行以下操作可以显示mysql库中包含的所有表。</p> 
<pre><code class="prism language-bash">use mysql<span class="token punctuation">;</span>
show tables<span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/f9/3f/CPq9hXZE_o.png" alt="在这里插入图片描述"><br> <strong>describe</strong>用于显示表的结构，即组成表的各字段（列）的信息。<strong>需要指定“库名.表名” 作为参数；若只指定表名参数，则需先通过USE语句切换到目标库。</strong> 例如，执行以下操作可以查看mysql库中的user表的结构。与直接执行“DESCRIBE mysql.user;’”语句的效果相同。</p> 
<pre><code class="prism language-bash">use mysql<span class="token punctuation">;</span>
describe user<span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/5f/23/W8Pbt7Gy_o.png" alt="在这里插入图片描述"><br> 在“mysql&gt;”操作环境中，执行 <strong>“exit”或“quit”命令</strong> 可以退出mysql命令工具，返回原来的Shell环境。</p> 
<h2><a id="_44"></a>二、创建及删除库和表</h2> 
<h3><a id="1_45"></a>1、创建新的库</h3> 
<p><strong>CREATE DATABASE语句：用于创建一个新的库，需指定数据库名称作为参数。</strong> 例如，执行以下操作可以创建一个名为auth的库。</p> 
<pre><code class="prism language-bash">create database auth<span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/0f/13/pVAmqbQD_o.png" alt="在这里插入图片描述"><br> 刚创建的数据库是空的，其中不包含任何表，在数据库存放目录下会自动生成一个与新建的库名相同的文件夹。</p> 
<p>使用以下命令可以查看数据库存放目录。</p> 
<pre><code class="prism language-bash">SHOW VARIABLES LIKE <span class="token string">'datadir'</span><span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/5a/4c/ytnqmMho_o.png" alt="在这里插入图片描述"><br> 可见在数据库存放目录下新增了一个auth文件夹。<br> <img src="https://images2.imgbox.com/b3/48/9VGAqekP_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="2_61"></a>2、创建新的表</h3> 
<p><strong>CREATE TABLE 语句：用于在当前库中创建新的表，需指定数据表名称作为参数，并定义该表格所使用的各字段，基本格式如下所示。</strong></p> 
<pre><code class="prism language-bash">CREATE TABLE 表名 <span class="token punctuation">(</span>字段1名称 类型, 字段2名称 类型, <span class="token punctuation">..</span>., PRIMARY KEY <span class="token punctuation">(</span>主键名<span class="token punctuation">))</span>
</code></pre> 
<p>创建表之前，应先明确数据表格的结构、各字段的名称和类型等信息，例如，若要创建一个包含用户名、密码字串的用户验证表，应先分析表格结构。</p> 
<p><strong>用户验证表内容</strong></p> 
<table><thead><tr><th>用户名</th><th>密码字串</th></tr></thead><tbody><tr><td>zhangsan</td><td>123456</td></tr><tr><td>lisi</td><td>654321</td></tr></tbody></table> 
<p>上述表格中，“用户名”为不超过16字节的字符串，不能为空；“密码字串”为不超过48个字符的字符串（插入记录时使用MySQL的函数加密）。默认值为空字串。考虑到字符集兼容性，最好不要使用中文字段名，改用user_name,user_passwd分别表示用户名、密码字串，表格中不能拥有同名的用户。因此可将 user_name作为主键。</p> 
<p>针对上述分析结果，可以在auth库中按如下操作创建users表，其中，字段定义部分的DEFAULT 语句用于设置默认的密码字串，PRIMARY语句用于设置主键字段名。</p> 
<pre><code class="prism language-bash">USE auth<span class="token punctuation">;</span>
CREATE TABLE <span class="token function">users</span> <span class="token punctuation">(</span>user_name CHAR<span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span> NOT NULL, user_passwd CHAR<span class="token punctuation">(</span><span class="token number">48</span><span class="token punctuation">)</span> DEFAULT <span class="token string">''</span>, PRIMARY KEY <span class="token punctuation">(</span>user_name<span class="token punctuation">))</span><span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/54/a5/XQMUzpfG_o.png" alt="在这里插入图片描述"><br> 在Navicat中刷新连接可以看到新增的auth库和users表。<br> <img src="https://images2.imgbox.com/0f/c1/PObSQr92_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="3_88"></a>3、删除一个数据表</h3> 
<p><strong>DROP TABLE语句：用于删除库中的表，需要指定“库名.表名”作为参数；若只指定表名参数， 则需先通过执行“USE”语句切换到目标库。</strong></p> 
<p>例如，执行以下操作可以删除auth库中的users表。</p> 
<pre><code class="prism language-bash">DROP TABLE auth.users<span class="token punctuation">;</span>
</code></pre> 
<h3><a id="4_97"></a>4、删除一个数据库</h3> 
<p><strong>DROP DATABASE语句：用于删除指定的库，需要指定库名作为参数。</strong></p> 
<p>例如，执行以下操作可以删除名为auth的库。</p> 
<pre><code class="prism language-bash">DROP DATABASE auth<span class="token punctuation">;</span>
</code></pre> 
<h2><a id="_105"></a>三、管理表中的数据记录</h2> 
<h3><a id="1_106"></a>1、插入数据记录</h3> 
<p>INSERT INTO语句：用于向表中插入新的数据记录，语句格式如下所示。</p> 
<pre><code class="prism language-bash">INSERT INTO 表名<span class="token punctuation">(</span>字段1, 字段2, <span class="token punctuation">..</span>.<span class="token punctuation">)</span> VALUES<span class="token punctuation">(</span>字段1的值, 字段2的值, <span class="token punctuation">..</span>.<span class="token punctuation">)</span>
</code></pre> 
<p>执行以下操作将会向 auth 库中的 users表插入一条记录：用户名为“zhangsan”，对应的密码为 “123456”，需注意的是，VALUES部分的值应与前面指定的各字段逐一对应。</p> 
<pre><code class="prism language-bash">USE auth<span class="token punctuation">;</span>
INSERT INTO users<span class="token punctuation">(</span>user_name, user_passwd<span class="token punctuation">)</span> VALUES<span class="token punctuation">(</span><span class="token string">'zhangsan'</span>, PASSWORD<span class="token punctuation">(</span><span class="token string">'123456'</span><span class="token punctuation">))</span><span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/42/82/QwXu0dnL_o.png" alt="在这里插入图片描述"></p> 
<p>在插入新的数据记录时，如果这条记录完整包括表中所有字段的值，则插入语句中指定字段的 部分可以省略。例如，执行以下操作也可以向auth库中的user表插入一条新的记录：用户名为“lisi” 对应的密码为“654321”。</p> 
<pre><code class="prism language-bash">INSERT INTO <span class="token function">users</span> VALUES<span class="token punctuation">(</span><span class="token string">'lisi'</span>, PASSWORD<span class="token punctuation">(</span><span class="token string">'654321'</span><span class="token punctuation">))</span><span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/dd/6c/yWYFqHfF_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="2_126"></a>2、查询数据记录</h3> 
<p><strong>SELECT语句：用于从指定的表中查找符合条件的数据记录。</strong> MySQL数据库支持标准的SQL查询语句，语句格式如下所示。</p> 
<pre><code class="prism language-bash">SELECT 字段名1, 字段名2, <span class="token punctuation">..</span>. FROM 表名 WHERE 条件表达式
</code></pre> 
<p><strong>表示所有字段时，可以使用通配符“*”，若要显示所有的数据记录，则可以省略WHERE条件子句。</strong> 例如，执行以下操作可以查看auth库中users表内的所有数据记录，其中由于密码字串已加密，因此不会直接显示出实际的密码内容。</p> 
<pre><code class="prism language-bash">SELECT * FROM auth.users<span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/2b/5d/roSeHDyD_o.png" alt="在这里插入图片描述"><br> <strong>当需要根据特定的条件查找记录时，WHERE条件子句是必不可少的。</strong> 例如，若要查找users表 中用户名为“zhangsan”的记录，显示其中用户名，密码字段的信息，可以执行以下操作。</p> 
<pre><code class="prism language-bash">SELECT user_name, user_passwd FROM auth.users WHERE user_name <span class="token operator">=</span> <span class="token string">'zhangsan'</span><span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/67/2d/3C6YfxpO_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="3_145"></a>3、修改数据记录</h3> 
<p><strong>UPDATE语句：用于修改、更新表中的数据记录，语句格式如下所示。</strong></p> 
<pre><code class="prism language-bash">UPDATE 表名 SET 字段名1<span class="token operator">=</span>字段值1<span class="token punctuation">[</span>字段名2<span class="token operator">=</span>字段值2<span class="token punctuation">]</span> WHERE 条件表达式
</code></pre> 
<p>执行以下操作可以修改users表中用户名为“lisi”的记录，将密码字串设为空值，验证记录内容。可以发现 lisi 用户的密码串值已变为空白。</p> 
<pre><code class="prism language-bash">UPDATE auth.users SET <span class="token assign-left variable">user_passwd</span><span class="token operator">=</span>PASSWORD<span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span> WHERE <span class="token assign-left variable">user_name</span><span class="token operator">=</span><span class="token string">'lisi'</span><span class="token punctuation">;</span>
SELECT * FROM auth.users<span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/5a/7f/KyidigGf_o.png" alt="在这里插入图片描述"><br> 在MySQL数据库服务器中，用于访问数据库的各种用户（如root）信息都保存在mysql库的user表中，熟练的管理员可以直接修改其中的数据记录。例如，以下操作可以将数据库用户root的密码设为“123457”，当再次使用“mysql-u root-p”访问MySQL数据库服务器时，必须使用此密码进行验证。FLUSH PRIVILEGES;用于刷新用户授权信息。</p> 
<pre><code class="prism language-bash">UPDATE mysql.user SET <span class="token assign-left variable">password</span><span class="token operator">=</span>PASSWORD<span class="token punctuation">(</span><span class="token string">'1234567'</span><span class="token punctuation">)</span> WHERE <span class="token assign-left variable">user</span><span class="token operator">=</span><span class="token string">'root'</span><span class="token punctuation">;</span>
FLUSH PRIVILEGES<span class="token punctuation">;</span>
</code></pre> 
<p>若是在 Linux 命令行环境中执行，还可以使用mysqladmin 工具来设置密码，命令格式为 “mysqladmin-u root-p“旧密码password“新密码“。例如，执行以下操作可将数据库用户root 的密码设置为“123456”。</p> 
<pre><code class="prism language-bash">mysqladmin <span class="token parameter variable">-u</span> root <span class="token parameter variable">-p</span> <span class="token string">'1234567'</span> password <span class="token string">'123456'</span>
</code></pre> 
<h3><a id="4_169"></a>4、删除数据记录</h3> 
<p><strong>DELETE语句：用于删除表中指定的数据记录。语句格式如下所示。</strong></p> 
<pre><code class="prism language-bash">DELETE FROM 表名 WHERE 条件表达式
</code></pre> 
<p>执行以下操作可以删除users表中用户名为“lisi”的数据记录，验证记录内容可以发现，lisi用户的数据记录已经消失。</p> 
<pre><code class="prism language-bash">DELETE FROM auth.users WHERE <span class="token assign-left variable">user_name</span><span class="token operator">=</span><span class="token string">'lisi'</span><span class="token punctuation">;</span>
SELECT * FROM auth.users<span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/c3/35/bzlKienu_o.png" alt="在这里插入图片描述"><br> 在MySQL数据库服务器中，默认添加了从本机访问数据库的来宾用户（user、password均为空）。基于数据库安全性考虑，应该删除这些来宾用户。</p> 
<p>执行以下操作显示user字段为空的用户记录，并用DELETE 语句进行该用户记录的删除。</p> 
<pre><code class="prism language-bash">SELECT user,host FROM mysql.user WHERE <span class="token assign-left variable">user</span><span class="token operator">=</span><span class="token string">''</span><span class="token punctuation">;</span>
DELECT FROM mysql.user WHERE <span class="token assign-left variable">user</span><span class="token operator">=</span><span class="token string">''</span><span class="token punctuation">;</span>
</code></pre> 
<h2><a id="_190"></a>四、数据库用户授权</h2> 
<h3><a id="1_191"></a>1、授予权限</h3> 
<p><strong>GRANT语句：专门用来设置数据库用户的访问权限。当指定的用户名不存在时，GRANT语句将会创建新的用户，否则，GRANT语句用于修改用户信息</strong>，语句格式如下所示。</p> 
<pre><code class="prism language-bash">GRANT 权限列表 ON 库名.表名 TO 用户名@来源地址 <span class="token punctuation">[</span>IDENTIFIRF BY <span class="token string">'密码'</span><span class="token punctuation">]</span>
</code></pre> 
<ul><li><strong>权限列表</strong>：<strong>用于列出授权使用的各种数据库操作</strong>，以逗号进行分隔，如“select,insert,update"。使用 <strong>“all”表示所有权限</strong> ，可授权执行任何操作。</li><li><strong>库名.表名</strong>：用于指定授权操作的库和表的名称，其中可以使用通配符 <strong>“*”</strong> 。例如，使用 <strong>“auth.*”</strong> 表示授权操作的对象为auth库中的所有表。</li><li><strong>用户名@来源地址</strong>：<strong>用于指定用户名称和允许访问的客户机地址，即谁能连接、能从哪里连接。</strong> 来源地址可以是域名，IP地址，还可以使用“%”通配符，表示某个区域或网段内的所有地址，如“%.bdqn.com”，“192.168.1.%”等。</li><li><strong>DENTIFEDBY</strong>：<strong>用于设置用户连接数据库时所使用的密码字符串。</strong> 在新建用户时，若省略 “IDENTIFEDBY”部分，则用户的密码将为空。</li></ul> 
<p>执行以下操作可以添加一个名为“xiaoqi”的数据库用户，并允许其从本机访问，对auth库中的所有表具有查询权限，验证密码为“123456”。使用GRANT语句授权的用户记录，会保存到mysql 库的user、db、tables_priv等相关表中，无须刷新即可生效。</p> 
<pre><code class="prism language-bash">GRANT <span class="token keyword">select</span> ON auth.* TO <span class="token string">'xiaoqi'</span>@<span class="token string">'localhost'</span> IDENTIFIED BY <span class="token string">'123456'</span><span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/21/3a/OzbfjHwr_o.png" alt="在这里插入图片描述"><br> 切换到其他Shell终端，以用户xiaoqi的身份连接数据库，当执行授权的数据库操作时将被允许， 而执行非授权的数据库操作时将被拒绝。例如，允许用户xiaoqi 查询auth 库中 users表的数据记录， 但禁止查询其他库中的表的记录。</p> 
<p>用户xiaoqi登录数据库</p> 
<pre><code class="prism language-bash">mysql <span class="token parameter variable">-u</span> xiaoqi <span class="token parameter variable">-p</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/28/11/MoQkIxXz_o.png" alt="在这里插入图片描述"></p> 
<p>验证授权的访问操作</p> 
<pre><code class="prism language-bash">SELECT * FROM auth.users<span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/be/1d/PQjdkwFF_o.png" alt="在这里插入图片描述"></p> 
<p>验证非授权的访问操作</p> 
<pre><code class="prism language-bash">SELECT * FROM mysql.user<span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/d2/cc/Mz1JKdsK_o.png" alt="在这里插入图片描述"></p> 
<p>在企业服务器的应用中，数据库与网站服务器有时候是相互独立的。因此在MySQL服务器中，应根据实际情况创建新的用户授权，允许授权用户从网站服务器访问数据库。通常的做法是，创建一个或几个网站专用的库，并授予所有权限，限制访问的来源IP地址。</p> 
<p>例如，执行以下操作可以新建bdqn库，并授权从IP地址为192.168.4.19的主机连接，用户名为“dbuser”，密码为“pwd@123”。允许在bdqn库中执行所有操作。</p> 
<pre><code class="prism language-bash">CREATE DATABASE bdqn<span class="token punctuation">;</span>
GRANT all ON bdqn.* TO <span class="token string">'dbuser'</span>@<span class="token string">'192.168.4.19'</span> IDENTIFIED BY <span class="token string">'pwd@123'</span><span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/67/d3/ksad3eyi_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="2_239"></a>2、查看权限</h3> 
<p><strong>SHOW GRANTS语句：专门用来查看数据库用户的授权信息，通过FOR子句可指定查看的用户对象</strong>（必须与授权时使用的对象名称一致）语句格式如下所示。</p> 
<pre><code class="prism language-bash">SHOW GRANTS FOR 用户名@来源地址
</code></pre> 
<p>执行以下操作可以查看用户dbuser从主机192.168.4.19访问数据库时的授权信息。其中<strong>USAGE权限对应的授权记录中包含了用户的连接密码字串。</strong></p> 
<pre><code class="prism language-bash">SHOW GRANTS FOR <span class="token string">'dbuser'</span>@<span class="token string">'192.168.4.19'</span><span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/2b/11/wsA3HNf7_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="3_251"></a>3、撤销权限</h3> 
<p><strong>REVOKE语句：用于撤销指定用户的数据库权限，撤销权限后的用户仍然可以连接到MySQL服务器，但将被禁止执行对应的数据库操作。</strong> 语句格式如下所示。</p> 
<pre><code class="prism language-bash">REVOKE 权限列表 ON 数据库名.表名 FROM 用户名@来源地址
</code></pre> 
<p>执行以下操作可以撤销用户xiaoqi从本机访问数据库auth的所有权限。</p> 
<pre><code class="prism language-bash">REVOKE all ON auth.* FROM <span class="token string">'xiaoqi'</span>@<span class="token string">'localhost'</span><span class="token punctuation">;</span>
SHOW GRANTS FOR <span class="token string">'xiaoqi'</span>@<span class="token string">'localhost'</span><span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/a9/2c/4qri9QO2_o.png" alt="在这里插入图片描述"></p> 
<p>参考资料：<br> <a href="https://blog.csdn.net/m0_73258133/article/details/134974080">Linux——MySQL数据库的使用</a></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/9e7d573a85db1976414e2799b91b4d19/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">主流开发语言和开发环境介绍</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/3d12ec16f86e1bcb73fa69713904c583/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">嵌入式基础准备 | Linux命令（包括 文件、目录和压缩、系统操作、vi、vim、ctags、cscope）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 追风少年的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>