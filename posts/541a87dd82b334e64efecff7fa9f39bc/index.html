<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>python idls_Python stat.S_ISUID屬性代碼示例 - 追风少年的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="python idls_Python stat.S_ISUID屬性代碼示例" />
<meta property="og:description" content="本文整理匯總了Python中stat.S_ISUID屬性的典型用法代碼示例。如果您正苦於以下問題：Python stat.S_ISUID屬性的具體用法？Python stat.S_ISUID怎麽用？Python stat.S_ISUID使用的例子？那麽恭喜您, 這裏精選的屬性代碼示例或許可以為您提供幫助。您也可以進一步了解該屬性所在模塊stat的用法示例。
在下文中一共展示了stat.S_ISUID屬性的16個代碼示例，這些例子默認根據受歡迎程度排序。您可以為喜歡或者感覺有用的代碼點讚，您的評價將有助於我們的係統推薦出更棒的Python代碼示例。
示例1: special_to_letter
​點讚 6
​
# 需要導入模塊: import stat [as 別名]
# 或者: from stat import S_ISUID [as 別名]
def special_to_letter(mode):
l = &#39;&#39;
ALL_R = (stat.S_IRUSR | stat.S_IRGRP | stat.S_IROTH)
ALL_W = (stat.S_IWUSR | stat.S_IWGRP | stat.S_IWOTH)
if mode &amp; stat.S_ISGID:
l &#43;= &#39;G&#39;
if mode &amp; stat.S_ISUID:
l &#43;= &#39;U&#39;
if mode &amp; stat.S_ISVTX:
l &#43;= &#39;T&#39;
if mode &amp; (stat.S_IXUSR | stat." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://zhuifengsn.github.io/posts/541a87dd82b334e64efecff7fa9f39bc/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-01-14T15:15:00+08:00" />
<meta property="article:modified_time" content="2021-01-14T15:15:00+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="追风少年的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">追风少年的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">python idls_Python stat.S_ISUID屬性代碼示例</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div style="font-size:16px;"> 
 <p>本文整理匯總了Python中stat.S_ISUID屬性的典型用法代碼示例。如果您正苦於以下問題：Python stat.S_ISUID屬性的具體用法？Python stat.S_ISUID怎麽用？Python stat.S_ISUID使用的例子？那麽恭喜您, 這裏精選的屬性代碼示例或許可以為您提供幫助。您也可以進一步了解該屬性所在模塊stat的用法示例。</p> 
 <p>在下文中一共展示了stat.S_ISUID屬性的16個代碼示例，這些例子默認根據受歡迎程度排序。您可以為喜歡或者感覺有用的代碼點讚，您的評價將有助於我們的係統推薦出更棒的Python代碼示例。</p> 
 <p>示例1: special_to_letter</p> 
 <p>​點讚 6</p> 
 <p>​</p> 
 <p># 需要導入模塊: import stat [as 別名]</p> 
 <p># 或者: from stat import S_ISUID [as 別名]</p> 
 <p>def special_to_letter(mode):</p> 
 <p>l = ''</p> 
 <p>ALL_R = (stat.S_IRUSR | stat.S_IRGRP | stat.S_IROTH)</p> 
 <p>ALL_W = (stat.S_IWUSR | stat.S_IWGRP | stat.S_IWOTH)</p> 
 <p>if mode &amp; stat.S_ISGID:</p> 
 <p>l += 'G'</p> 
 <p>if mode &amp; stat.S_ISUID:</p> 
 <p>l += 'U'</p> 
 <p>if mode &amp; stat.S_ISVTX:</p> 
 <p>l += 'T'</p> 
 <p>if mode &amp; (stat.S_IXUSR | stat.S_IXGRP | stat.S_IXOTH):</p> 
 <p>l += 'E'</p> 
 <p>if ( mode &amp; ALL_R ) == ALL_R:</p> 
 <p>l += 'R'</p> 
 <p>if ( mode &amp; ALL_W ) == ALL_W:</p> 
 <p>l += 'W'</p> 
 <p>return l</p> 
 <p>開發者ID:turingsec，項目名稱:marsnake，代碼行數:22，</p> 
 <p>示例2: testStatDirectory_filePermissions</p> 
 <p>​點讚 6</p> 
 <p>​</p> 
 <p># 需要導入模塊: import stat [as 別名]</p> 
 <p># 或者: from stat import S_ISUID [as 別名]</p> 
 <p>def testStatDirectory_filePermissions(self):</p> 
 <p>should_have = (</p> 
 <p>('some_file', stat.S_IWUSR), # Owner can write.</p> 
 <p>('tmp', stat.S_IXOTH), # Others can execute.</p> 
 <p>('tmp', stat.S_ISVTX), # Has sticky bit.</p> 
 <p>('my_cmd', stat.S_ISGID), # Has set-group-ID bit.</p> 
 <p>('silly', stat.S_ISUID), # Has set UID bit.</p> 
 <p>)</p> 
 <p>should_not_have = (</p> 
 <p>('some_file', stat.S_IWOTH), # Others can't write.</p> 
 <p>('block_dev', stat.S_IRGRP), # Group can't read.</p> 
 <p>('silly', stat.S_IXUSR), # Owner can't execute.</p> 
 <p>)</p> 
 <p>entries = self.getStatEntries()</p> 
 <p>for filename, bit in should_have:</p> 
 <p>self.assertTrue(entries[filename]['st_mode'] &amp; bit)</p> 
 <p>for filename, bit in should_not_have:</p> 
 <p>self.assertFalse(entries[filename]['st_mode'] &amp; bit)</p> 
 <p>開發者ID:FSecureLABS，項目名稱:Jandroid，代碼行數:20，</p> 
 <p>示例3: is_suid_sgid</p> 
 <p>​點讚 6</p> 
 <p>​</p> 
 <p># 需要導入模塊: import stat [as 別名]</p> 
 <p># 或者: from stat import S_ISUID [as 別名]</p> 
 <p>def is_suid_sgid(self, file_name):</p> 
 <p>results = []</p> 
 <p>try:</p> 
 <p>f = stat(file_name)</p> 
 <p>mode = f.st_mode</p> 
 <p>except:</p> 
 <p>return [None, None]</p> 
 <p>if (mode &amp; S_ISUID) == 2048:</p> 
 <p>print("SUID: " + file_name)</p> 
 <p>results.append(file_name)</p> 
 <p>else:</p> 
 <p>results.append(None)</p> 
 <p>if (mode &amp; S_ISGID) == 1024:</p> 
 <p>print("SGIG: " + file_name)</p> 
 <p>results.append(file_name)</p> 
 <p>else:</p> 
 <p>results.append(None)</p> 
 <p>return results</p> 
 <p>開發者ID:Josue87，項目名稱:BoomER，代碼行數:22，</p> 
 <p>示例4: _is_suid_sgid</p> 
 <p>​點讚 6</p> 
 <p>​</p> 
 <p># 需要導入模塊: import stat [as 別名]</p> 
 <p># 或者: from stat import S_ISUID [as 別名]</p> 
 <p>def _is_suid_sgid(self, file_name):</p> 
 <p>results = []</p> 
 <p>try:</p> 
 <p>f = os.stat(file_name)</p> 
 <p>mode = f.st_mode</p> 
 <p>except:</p> 
 <p>return [None, None]</p> 
 <p>if (mode &amp; stat.S_ISUID) == 2048:</p> 
 <p>results.append(file_name)</p> 
 <p>else:</p> 
 <p>results.append(None)</p> 
 <p>if (mode &amp; stat.S_ISGID) == 1024:</p> 
 <p>results.append(file_name)</p> 
 <p>else:</p> 
 <p>results.append(None)</p> 
 <p>return results</p> 
 <p>開發者ID:Josue87，項目名稱:BoomER，代碼行數:18，</p> 
 <p>示例5: render_python_value</p> 
 <p>​點讚 6</p> 
 <p>​</p> 
 <p># 需要導入模塊: import stat [as 別名]</p> 
 <p># 或者: from stat import S_ISUID [as 別名]</p> 
 <p>def render_python_value(value):</p> 
 <p>if not isinstance(value, int):</p> 
 <p>return</p> 
 <p>if value &amp; stat.S_IFDIR:</p> 
 <p>perm = 'd'</p> 
 <p>else:</p> 
 <p>perm = '-'</p> 
 <p>perm += 'r' if value &amp; stat.S_IRUSR else '-'</p> 
 <p>perm += 'w' if value &amp; stat.S_IWUSR else '-'</p> 
 <p>if value &amp; stat.S_ISUID:</p> 
 <p>perm += 's' if value &amp; stat.S_IXUSR else 'S'</p> 
 <p>else:</p> 
 <p>perm += 'x' if value &amp; stat.S_IXUSR else '-'</p> 
 <p>perm += 'r' if value &amp; stat.S_IRGRP else '-'</p> 
 <p>perm += 'w' if value &amp; stat.S_IWGRP else '-'</p> 
 <p>if value &amp; stat.S_ISGID:</p> 
 <p>perm += 's' if value &amp; stat.S_IXGRP else 'S'</p> 
 <p>else:</p> 
 <p>perm += 'x' if value &amp; stat.S_IXGRP else '-'</p> 
 <p>perm += 'r' if value &amp; stat.S_IROTH else '-'</p> 
 <p>perm += 'w' if value &amp; stat.S_IWOTH else '-'</p> 
 <p>perm += 'x' if value &amp; stat.S_IXOTH else '-'</p> 
 <p>return perm</p> 
 <p>開發者ID:rsmusllp，項目名稱:king-phisher-plugins，代碼行數:27，</p> 
 <p>示例6: perm_check</p> 
 <p>​點讚 5</p> 
 <p>​</p> 
 <p># 需要導入模塊: import stat [as 別名]</p> 
 <p># 或者: from stat import S_ISUID [as 別名]</p> 
 <p>def perm_check():</p> 
 <p>"""In our environment the redir program must be suid with root owner. It</p> 
 <p>needs to open privileged ports. Returns True if permissions are ok, False</p> 
 <p>otherwise."""</p> 
 <p>import os, stat</p> 
 <p>if os.getuid() == 0:</p> 
 <p>return 1 # we are already running as root...</p> 
 <p>st = os.stat(REDIR)</p> 
 <p>return st.st_uid == 0 and (stat.S_IMODE(st.st_mode) &amp; stat.S_ISUID)</p> 
 <p>開發者ID:kdart，項目名稱:pycopia，代碼行數:11，</p> 
 <p>示例7: _is_setuid</p> 
 <p>​點讚 5</p> 
 <p>​</p> 
 <p># 需要導入模塊: import stat [as 別名]</p> 
 <p># 或者: from stat import S_ISUID [as 別名]</p> 
 <p>def _is_setuid(path):</p> 
 <p>return (os.path.isfile(path) and</p> 
 <p>os.access(path, os.X_OK) and</p> 
 <p>os.stat(path).st_mode &amp; stat.S_ISUID == stat.S_ISUID)</p> 
 <p>開發者ID:HewlettPackard，項目名稱:reconbf，代碼行數:6，</p> 
 <p>示例8: skip_if_no_fusermount</p> 
 <p>​點讚 5</p> 
 <p>​</p> 
 <p># 需要導入模塊: import stat [as 別名]</p> 
 <p># 或者: from stat import S_ISUID [as 別名]</p> 
 <p>def skip_if_no_fusermount():</p> 
 <p>'''Raise SkipTest if fusermount is not available'''</p> 
 <p>with subprocess.Popen(['which', 'fusermount'], stdout=subprocess.PIPE,</p> 
 <p>universal_newlines=True) as which:</p> 
 <p>fusermount_path = which.communicate()[0].strip()</p> 
 <p>if not fusermount_path or which.returncode != 0:</p> 
 <p>pytest.skip("Can't find fusermount executable")</p> 
 <p>if not os.path.exists('/dev/fuse'):</p> 
 <p>pytest.skip("FUSE kernel module does not seem to be loaded")</p> 
 <p>if os.getuid() == 0:</p> 
 <p>return</p> 
 <p>mode = os.stat(fusermount_path).st_mode</p> 
 <p>if mode &amp; stat.S_ISUID == 0:</p> 
 <p>pytest.skip('fusermount executable not setuid, and we are not root.')</p> 
 <p>try:</p> 
 <p>fd = os.open('/dev/fuse', os.O_RDWR)</p> 
 <p>except OSError as exc:</p> 
 <p>pytest.skip('Unable to open /dev/fuse: %s' % exc.strerror)</p> 
 <p>else:</p> 
 <p>os.close(fd)</p> 
 <p>開發者ID:s3ql，項目名稱:s3ql，代碼行數:28，</p> 
 <p>示例9: is_setuid</p> 
 <p>​點讚 5</p> 
 <p>​</p> 
 <p># 需要導入模塊: import stat [as 別名]</p> 
 <p># 或者: from stat import S_ISUID [as 別名]</p> 
 <p>def is_setuid(self):</p> 
 <p>return True if self.status['st_mode'] &amp; stat.S_ISUID else False</p> 
 <p>開發者ID:Wenzel，項目名稱:oswatcher，代碼行數:4，</p> 
 <p>示例10: evaluate</p> 
 <p>​點讚 5</p> 
 <p>​</p> 
 <p># 需要導入模塊: import stat [as 別名]</p> 
 <p># 或者: from stat import S_ISUID [as 別名]</p> 
 <p>def evaluate(self, image_obj, context):</p> 
 <p>if not image_obj.fs:</p> 
 <p>return</p> 
 <p>files = image_obj.fs.files</p> 
 <p>if not files:</p> 
 <p>return</p> 
 <p>found = [x for x in list(files.items()) if int(x[1].get('mode', 0)) &amp; (stat.S_ISUID | stat.S_ISGID)]</p> 
 <p>for path, entry in found:</p> 
 <p>self._fire(msg='SUID or SGID found set on file {}. Mode: {}'.format(path, oct(entry.get('mode'))))</p> 
 <p>開發者ID:anchore，項目名稱:anchore-engine，代碼行數:13，</p> 
 <p>示例11: humanUnixAttributes</p> 
 <p>​點讚 4</p> 
 <p>​</p> 
 <p># 需要導入模塊: import stat [as 別名]</p> 
 <p># 或者: from stat import S_ISUID [as 別名]</p> 
 <p>def humanUnixAttributes(mode):</p> 
 <p>"""</p> 
 <p>Convert a Unix file attributes (or "file mode") to an unicode string.</p> 
 <p>Original source code:</p> 
 <p>http://cvs.savannah.gnu.org/viewcvs/coreutils/lib/filemode.c?root=coreutils</p> 
 <p>&gt;&gt;&gt; humanUnixAttributes(0644)</p> 
 <p>u'-rw-r--r-- (644)'</p> 
 <p>&gt;&gt;&gt; humanUnixAttributes(02755)</p> 
 <p>u'-rwxr-sr-x (2755)'</p> 
 <p>"""</p> 
 <p>def ftypelet(mode):</p> 
 <p>if stat.S_ISREG (mode) or not stat.S_IFMT(mode):</p> 
 <p>return '-'</p> 
 <p>if stat.S_ISBLK (mode): return 'b'</p> 
 <p>if stat.S_ISCHR (mode): return 'c'</p> 
 <p>if stat.S_ISDIR (mode): return 'd'</p> 
 <p>if stat.S_ISFIFO(mode): return 'p'</p> 
 <p>if stat.S_ISLNK (mode): return 'l'</p> 
 <p>if stat.S_ISSOCK(mode): return 's'</p> 
 <p>return '?'</p> 
 <p>chars = [ ftypelet(mode), 'r', 'w', 'x', 'r', 'w', 'x', 'r', 'w', 'x' ]</p> 
 <p>for i in xrange(1, 10):</p> 
 <p>if not mode &amp; 1 &lt;&lt; 9 - i:</p> 
 <p>chars[i] = '-'</p> 
 <p>if mode &amp; stat.S_ISUID:</p> 
 <p>if chars[3] != 'x':</p> 
 <p>chars[3] = 'S'</p> 
 <p>else:</p> 
 <p>chars[3] = 's'</p> 
 <p>if mode &amp; stat.S_ISGID:</p> 
 <p>if chars[6] != 'x':</p> 
 <p>chars[6] = 'S'</p> 
 <p>else:</p> 
 <p>chars[6] = 's'</p> 
 <p>if mode &amp; stat.S_ISVTX:</p> 
 <p>if chars[9] != 'x':</p> 
 <p>chars[9] = 'T'</p> 
 <p>else:</p> 
 <p>chars[9] = 't'</p> 
 <p>return u"%s (%o)" % (''.join(chars), mode)</p> 
 <p>開發者ID:Yukinoshita47，項目名稱:Yuki-Chan-The-Auto-Pentest，代碼行數:46，</p> 
 <p>示例12: __str__</p> 
 <p>​點讚 4</p> 
 <p>​</p> 
 <p># 需要導入模塊: import stat [as 別名]</p> 
 <p># 或者: from stat import S_ISUID [as 別名]</p> 
 <p>def __str__(self):</p> 
 <p>"create a unix-style long description of the file (like ls -l)"</p> 
 <p>if self.st_mode is not None:</p> 
 <p>kind = stat.S_IFMT(self.st_mode)</p> 
 <p>if kind == stat.S_IFIFO:</p> 
 <p>ks = 'p'</p> 
 <p>elif kind == stat.S_IFCHR:</p> 
 <p>ks = 'c'</p> 
 <p>elif kind == stat.S_IFDIR:</p> 
 <p>ks = 'd'</p> 
 <p>elif kind == stat.S_IFBLK:</p> 
 <p>ks = 'b'</p> 
 <p>elif kind == stat.S_IFREG:</p> 
 <p>ks = '-'</p> 
 <p>elif kind == stat.S_IFLNK:</p> 
 <p>ks = 'l'</p> 
 <p>elif kind == stat.S_IFSOCK:</p> 
 <p>ks = 's'</p> 
 <p>else:</p> 
 <p>ks = '?'</p> 
 <p>ks += self._rwx((self.st_mode &amp; 0700) &gt;&gt; 6, self.st_mode &amp; stat.S_ISUID)</p> 
 <p>ks += self._rwx((self.st_mode &amp; 070) &gt;&gt; 3, self.st_mode &amp; stat.S_ISGID)</p> 
 <p>ks += self._rwx(self.st_mode &amp; 7, self.st_mode &amp; stat.S_ISVTX, True)</p> 
 <p>else:</p> 
 <p>ks = '?---------'</p> 
 <p># compute display date</p> 
 <p>if (self.st_mtime is None) or (self.st_mtime == 0xffffffffL):</p> 
 <p># shouldn't really happen</p> 
 <p>datestr = '(unknown date)'</p> 
 <p>else:</p> 
 <p>if abs(time.time() - self.st_mtime) &gt; 15552000:</p> 
 <p># (15552000 = 6 months)</p> 
 <p>datestr = time.strftime('%d %b %Y', time.localtime(self.st_mtime))</p> 
 <p>else:</p> 
 <p>datestr = time.strftime('%d %b %H:%M', time.localtime(self.st_mtime))</p> 
 <p>filename = getattr(self, 'filename', '?')</p> 
 <p># not all servers support uid/gid</p> 
 <p>uid = self.st_uid</p> 
 <p>gid = self.st_gid</p> 
 <p>if uid is None:</p> 
 <p>uid = 0</p> 
 <p>if gid is None:</p> 
 <p>gid = 0</p> 
 <p>return '%s 1 %-8d %-8d %8d %-12s %s' % (ks, uid, gid, self.st_size, datestr, filename)</p> 
 <p>開發者ID:iopsgroup，項目名稱:imoocc，代碼行數:48，</p> 
 <p>示例13: __str__</p> 
 <p>​點讚 4</p> 
 <p>​</p> 
 <p># 需要導入模塊: import stat [as 別名]</p> 
 <p># 或者: from stat import S_ISUID [as 別名]</p> 
 <p>def __str__(self):</p> 
 <p>"""create a unix-style long description of the file (like ls -l)"""</p> 
 <p>if self.st_mode is not None:</p> 
 <p>kind = stat.S_IFMT(self.st_mode)</p> 
 <p>if kind == stat.S_IFIFO:</p> 
 <p>ks = 'p'</p> 
 <p>elif kind == stat.S_IFCHR:</p> 
 <p>ks = 'c'</p> 
 <p>elif kind == stat.S_IFDIR:</p> 
 <p>ks = 'd'</p> 
 <p>elif kind == stat.S_IFBLK:</p> 
 <p>ks = 'b'</p> 
 <p>elif kind == stat.S_IFREG:</p> 
 <p>ks = '-'</p> 
 <p>elif kind == stat.S_IFLNK:</p> 
 <p>ks = 'l'</p> 
 <p>elif kind == stat.S_IFSOCK:</p> 
 <p>ks = 's'</p> 
 <p>else:</p> 
 <p>ks = '?'</p> 
 <p>ks += self._rwx((self.st_mode &amp; o700) &gt;&gt; 6, self.st_mode &amp; stat.S_ISUID)</p> 
 <p>ks += self._rwx((self.st_mode &amp; o70) &gt;&gt; 3, self.st_mode &amp; stat.S_ISGID)</p> 
 <p>ks += self._rwx(self.st_mode &amp; 7, self.st_mode &amp; stat.S_ISVTX, True)</p> 
 <p>else:</p> 
 <p>ks = '?---------'</p> 
 <p># compute display date</p> 
 <p>if (self.st_mtime is None) or (self.st_mtime == xffffffff):</p> 
 <p># shouldn't really happen</p> 
 <p>datestr = '(unknown date)'</p> 
 <p>else:</p> 
 <p>if abs(time.time() - self.st_mtime) &gt; 15552000:</p> 
 <p># (15552000 = 6 months)</p> 
 <p>datestr = time.strftime('%d %b %Y', time.localtime(self.st_mtime))</p> 
 <p>else:</p> 
 <p>datestr = time.strftime('%d %b %H:%M', time.localtime(self.st_mtime))</p> 
 <p>filename = getattr(self, 'filename', '?')</p> 
 <p># not all servers support uid/gid</p> 
 <p>uid = self.st_uid</p> 
 <p>gid = self.st_gid</p> 
 <p>size = self.st_size</p> 
 <p>if uid is None:</p> 
 <p>uid = 0</p> 
 <p>if gid is None:</p> 
 <p>gid = 0</p> 
 <p>if size is None:</p> 
 <p>size = 0</p> 
 <p>return '%s 1 %-8d %-8d %8d %-12s %s' % (ks, uid, gid, size, datestr, filename)</p> 
 <p>開發者ID:iopsgroup，項目名稱:imoocc，代碼行數:51，</p> 
 <p>示例14: lsLine</p> 
 <p>​點讚 4</p> 
 <p>​</p> 
 <p># 需要導入模塊: import stat [as 別名]</p> 
 <p># 或者: from stat import S_ISUID [as 別名]</p> 
 <p>def lsLine(name, s):</p> 
 <p>mode = s.st_mode</p> 
 <p>perms = array.array('c', '-'*10)</p> 
 <p>ft = stat.S_IFMT(mode)</p> 
 <p>if stat.S_ISDIR(ft): perms[0] = 'd'</p> 
 <p>elif stat.S_ISCHR(ft): perms[0] = 'c'</p> 
 <p>elif stat.S_ISBLK(ft): perms[0] = 'b'</p> 
 <p>elif stat.S_ISREG(ft): perms[0] = '-'</p> 
 <p>elif stat.S_ISFIFO(ft): perms[0] = 'f'</p> 
 <p>elif stat.S_ISLNK(ft): perms[0] = 'l'</p> 
 <p>elif stat.S_ISSOCK(ft): perms[0] = 's'</p> 
 <p>else: perms[0] = '!'</p> 
 <p># user</p> 
 <p>if mode&amp;stat.S_IRUSR:perms[1] = 'r'</p> 
 <p>if mode&amp;stat.S_IWUSR:perms[2] = 'w'</p> 
 <p>if mode&amp;stat.S_IXUSR:perms[3] = 'x'</p> 
 <p># group</p> 
 <p>if mode&amp;stat.S_IRGRP:perms[4] = 'r'</p> 
 <p>if mode&amp;stat.S_IWGRP:perms[5] = 'w'</p> 
 <p>if mode&amp;stat.S_IXGRP:perms[6] = 'x'</p> 
 <p># other</p> 
 <p>if mode&amp;stat.S_IROTH:perms[7] = 'r'</p> 
 <p>if mode&amp;stat.S_IWOTH:perms[8] = 'w'</p> 
 <p>if mode&amp;stat.S_IXOTH:perms[9] = 'x'</p> 
 <p># suid/sgid</p> 
 <p>if mode&amp;stat.S_ISUID:</p> 
 <p>if perms[3] == 'x': perms[3] = 's'</p> 
 <p>else: perms[3] = 'S'</p> 
 <p>if mode&amp;stat.S_ISGID:</p> 
 <p>if perms[6] == 'x': perms[6] = 's'</p> 
 <p>else: perms[6] = 'S'</p> 
 <p>l = perms.tostring()</p> 
 <p>l += str(s.st_nlink).rjust(5) + ' '</p> 
 <p>un = str(s.st_uid)</p> 
 <p>l += un.ljust(9)</p> 
 <p>gr = str(s.st_gid)</p> 
 <p>l += gr.ljust(9)</p> 
 <p>sz = str(s.st_size)</p> 
 <p>l += sz.rjust(8)</p> 
 <p>l += ' '</p> 
 <p>sixmo = 60 * 60 * 24 * 7 * 26</p> 
 <p>if s.st_mtime + sixmo &lt; time(): # last edited more than 6mo ago</p> 
 <p>l += strftime("%b %d %Y ", localtime(s.st_mtime))</p> 
 <p>else:</p> 
 <p>l += strftime("%b %d %H:%M ", localtime(s.st_mtime))</p> 
 <p>l += name</p> 
 <p>return l</p> 
 <p>開發者ID:kuri65536，項目名稱:python-for-android，代碼行數:49，代碼來源:ls.py</p> 
 <p>示例15: lsLine</p> 
 <p>​點讚 4</p> 
 <p>​</p> 
 <p># 需要導入模塊: import stat [as 別名]</p> 
 <p># 或者: from stat import S_ISUID [as 別名]</p> 
 <p>def lsLine(name, s):</p> 
 <p>mode = s.st_mode</p> 
 <p>perms = array.array('c', '-'*10)</p> 
 <p>ft = stat.S_IFMT(mode)</p> 
 <p>if stat.S_ISDIR(ft): perms[0] = 'd'</p> 
 <p>elif stat.S_ISCHR(ft): perms[0] = 'c'</p> 
 <p>elif stat.S_ISBLK(ft): perms[0] = 'b'</p> 
 <p>elif stat.S_ISREG(ft): perms[0] = '-'</p> 
 <p>elif stat.S_ISFIFO(ft): perms[0] = 'f'</p> 
 <p>elif stat.S_ISLNK(ft): perms[0] = 'l'</p> 
 <p>elif stat.S_ISSOCK(ft): perms[0] = 's'</p> 
 <p>else: perms[0] = '!'</p> 
 <p># user</p> 
 <p>if mode&amp;stat.S_IRUSR:perms[1] = 'r'</p> 
 <p>if mode&amp;stat.S_IWUSR:perms[2] = 'w'</p> 
 <p>if mode&amp;stat.S_IXUSR:perms[3] = 'x'</p> 
 <p># group</p> 
 <p>if mode&amp;stat.S_IRGRP:perms[4] = 'r'</p> 
 <p>if mode&amp;stat.S_IWGRP:perms[5] = 'w'</p> 
 <p>if mode&amp;stat.S_IXGRP:perms[6] = 'x'</p> 
 <p># other</p> 
 <p>if mode&amp;stat.S_IROTH:perms[7] = 'r'</p> 
 <p>if mode&amp;stat.S_IWOTH:perms[8] = 'w'</p> 
 <p>if mode&amp;stat.S_IXOTH:perms[9] = 'x'</p> 
 <p># suid/sgid</p> 
 <p>if mode&amp;stat.S_ISUID:</p> 
 <p>if perms[3] == 'x': perms[3] = 's'</p> 
 <p>else: perms[3] = 'S'</p> 
 <p>if mode&amp;stat.S_ISGID:</p> 
 <p>if perms[6] == 'x': perms[6] = 's'</p> 
 <p>else: perms[6] = 'S'</p> 
 <p>l = perms.tostring()</p> 
 <p>l += str(s.st_nlink).rjust(5) + ' '</p> 
 <p>un = str(s.st_uid)</p> 
 <p>l += un.ljust(9)</p> 
 <p>gr = str(s.st_gid)</p> 
 <p>l += gr.ljust(9)</p> 
 <p>sz = str(s.st_size)</p> 
 <p>l += sz.rjust(8)</p> 
 <p>l += ' '</p> 
 <p>sixmo = 60 * 60 * 24 * 7 * 26</p> 
 <p>if s.st_mtime + sixmo &lt; time.time(): # last edited more than 6mo ago</p> 
 <p>l += time.strftime("%b %2d %Y ", time.localtime(s.st_mtime))</p> 
 <p>else:</p> 
 <p>l += time.strftime("%b %2d %H:%S ", time.localtime(s.st_mtime))</p> 
 <p>l += name</p> 
 <p>return l</p> 
 <p>開發者ID:kenorb-contrib，項目名稱:BitTorrent，代碼行數:49，代碼來源:ls.py</p> 
 <p>示例16: create_files_xml</p> 
 <p>​點讚 4</p> 
 <p>​</p> 
 <p># 需要導入模塊: import stat [as 別名]</p> 
 <p># 或者: from stat import S_ISUID [as 別名]</p> 
 <p>def create_files_xml(context, package):</p> 
 <p>""" Create an XML representation of our files """</p> 
 <p>files = pisi.files.Files()</p> 
 <p>global history_timestamp</p> 
 <p># TODO: Remove reliance on pisi.util functions completely.</p> 
 <p>for path in sorted(package.emit_files()):</p> 
 <p>if path[0] == '/':</p> 
 <p>path = path[1:]</p> 
 <p>full_path = os.path.join(context.get_install_dir(), path)</p> 
 <p>fpath, hash = pisi.util.calculate_hash(full_path)</p> 
 <p>if os.path.islink(fpath):</p> 
 <p>fsize = long(len(readlink(full_path)))</p> 
 <p>st = os.lstat(fpath)</p> 
 <p>else:</p> 
 <p>fsize = long(os.path.getsize(full_path))</p> 
 <p>st = os.stat(fpath)</p> 
 <p>permanent = package.is_permanent("/" + path)</p> 
 <p>if not permanent:</p> 
 <p>permanent = None</p> 
 <p>else:</p> 
 <p>permanent = "true"</p> 
 <p>ftype = get_file_type("/" + path)</p> 
 <p>if (stat.S_IMODE(st.st_mode) &amp; stat.S_ISUID):</p> 
 <p># Preserve compatibility with older eopkg implementation</p> 
 <p>console_ui.emit_warning("Package", "{} has suid bit set".</p> 
 <p>format(full_path))</p> 
 <p>path = path.decode("latin1").encode('utf-8')</p> 
 <p>file_info = pisi.files.FileInfo(path=path, type=ftype,</p> 
 <p>permanent=permanent, size=fsize,</p> 
 <p>hash=hash, uid=str(st.st_uid),</p> 
 <p>gid=str(st.st_gid),</p> 
 <p>mode=oct(stat.S_IMODE(st.st_mode)))</p> 
 <p>files.append(file_info)</p> 
 <p>fpath = os.path.join(context.get_packaging_dir(), "files.xml")</p> 
 <p>files.write(fpath)</p> 
 <p>os.utime(fpath, (history_timestamp, history_timestamp))</p> 
 <p>return files</p> 
 <p>開發者ID:solus-project，項目名稱:ypkg，代碼行數:47，</p> 
 <p>注：本文中的stat.S_ISUID屬性示例整理自Github/MSDocs等源碼及文檔管理平台，相關代碼片段篩選自各路編程大神貢獻的開源項目，源碼版權歸原作者所有，傳播和使用請參考對應項目的License；未經允許，請勿轉載。</p> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/4864e97f4010be5c0af62e08cb772a20/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">3分钟即可了解 FHub中转站文件摆渡新技能</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/0f6e9fc4d95ced86f108ce20c8da1175/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">华为云电脑和马云无影比_阿里云打造未来电脑&#34;无影&#34;，却因为5G限制，很难达到普及...</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 追风少年的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>