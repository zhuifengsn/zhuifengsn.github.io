<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Docker å¸¸ç”¨å‘½ä»¤æ•´åˆï¼ï¼ï¼å¸¦ä½ ä¸€èµ·ç†è§£å’Œå¤ä¹ æ¯ä¸ªæ“ä½œå‘½ä»¤ï¼ï¼ï¼å¸¦æ“ä½œå›¾ï¼Œä¸ä¼šä¹Ÿèƒ½çœ‹æ‡‚çš„ï¼ï¼ - è¿½é£å°‘å¹´çš„åšå®¢</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Docker å¸¸ç”¨å‘½ä»¤æ•´åˆï¼ï¼ï¼å¸¦ä½ ä¸€èµ·ç†è§£å’Œå¤ä¹ æ¯ä¸ªæ“ä½œå‘½ä»¤ï¼ï¼ï¼å¸¦æ“ä½œå›¾ï¼Œä¸ä¼šä¹Ÿèƒ½çœ‹æ‡‚çš„ï¼ï¼" />
<meta property="og:description" content="æœ¬æ–‡æ•´ç†å‡ºåœ¨Dockerä¸­å¸¸ç”¨çš„å‘½ä»¤ï¼Œä¸€æ˜¯å¯ä»¥åšä¸€ä¸ªå¤‡å¿˜å½•çš„ä½œç”¨ï¼ŒäºŒæ˜¯ä¹Ÿå¯ä»¥ä½œä¸ºä¸€ä¸ªå¤ä¹ çš„æ–‡ç« ã€‚
Dockeré•œåƒã€å®¹å™¨ã€æ—¥å¿—ç­‰ç­‰ç›¸å…³å‘½ä»¤éƒ½æ¶µç›–åœ¨å†…ï¼Œæ–‡å†…å¸¦æœ‰æ“ä½œå›¾ï¼Œä¸éš¾çš„å“¦ã€‚
å¾ˆå–œæ¬¢ä¸€å¥è¯ï¼šâ€œå…«å°æ—¶å†…è°‹ç”Ÿæ´»ï¼Œå…«å°æ—¶å¤–è°‹å‘å±•ã€‚â€
å…±å‹‰
åœ°ç‚¹ï¼šæ¹–å—é‚µé˜³
ä½œè€…ï¼šåšä¸»
ä¸€ã€Docker ç›¸å…³å‘½ä»¤ æŸ¥çœ‹Docker ç‰ˆæœ¬å·
docker --version æŸ¥çœ‹Docker ç›¸å…³ä¿¡æ¯
docker info æŸ¥çœ‹Dockerå¸®åŠ©å‘½ä»¤
docker --help å¯ä»¥æŸ¥çœ‹åˆ°æ‰€æœ‰Docker å‘½ä»¤ï¼Œä¸è¿‡å¯¹è‹±è¯­ä¸å¤ªå¥½çš„åŒå­¦ä¸å¤ªå‹å–„å“ˆã€‚ğŸ™ƒ~~ï¼ˆæˆ‘ä¹Ÿæ˜¯ï¼‰~~
äºŒã€Dockeré•œåƒç›¸å…³å‘½ä»¤ 2.1ã€é•œåƒæŸ¥çœ‹ åˆ—å‡ºæœ¬åœ°é•œåƒ
1ã€æŸ¥çœ‹å…¨éƒ¨é•œåƒ
docker images 2ã€æŸ¥çœ‹å…¨éƒ¨é•œåƒå«ä¸­é—´æ˜ åƒå±‚
docker images -a 3ã€å…¶ä»–
docker images -q #ä»…æ˜¾ç¤ºé•œåƒid docker history -H imageserver #æ˜¾ç¤ºæŒ‡å®šé•œåƒçš„å†å²åˆ›å»ºï¼›å‚æ•°ï¼š-H é•œåƒå¤§å°å’Œæ—¥æœŸ imageserver æˆ‘è‡ªå·±åšçš„ä¸€ä¸ªé•œåƒ 2.2ã€é•œåƒæœç´¢ æœç´¢MySQLçš„é•œåƒ
docker search mysql #å¸¦ä¸Šç‰ˆæœ¬å·æœç´¢ docker search mysql:5.7 #docker search &lt;é•œåƒå&gt;:&lt;ç‰ˆæœ¬å·&gt; -**-filter=stars:**åªæ˜¾ç¤º starts&gt;=600 çš„é•œåƒ
docker search --filter=stars=600 mysql â€“automated ï¼šåªåˆ—å‡º AUTOMATED=OK çš„é•œåƒ
docker search --automated mysql 2." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://zhuifengsn.github.io/posts/80ca80cff7c8cabec6a8edf23159ec70/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-08-03T22:42:32+08:00" />
<meta property="article:modified_time" content="2021-08-03T22:42:32+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="è¿½é£å°‘å¹´çš„åšå®¢" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">è¿½é£å°‘å¹´çš„åšå®¢</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Docker å¸¸ç”¨å‘½ä»¤æ•´åˆï¼ï¼ï¼å¸¦ä½ ä¸€èµ·ç†è§£å’Œå¤ä¹ æ¯ä¸ªæ“ä½œå‘½ä»¤ï¼ï¼ï¼å¸¦æ“ä½œå›¾ï¼Œä¸ä¼šä¹Ÿèƒ½çœ‹æ‡‚çš„ï¼ï¼</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-tomorrow-night">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <blockquote> 
 <p>æœ¬æ–‡æ•´ç†å‡ºåœ¨Dockerä¸­å¸¸ç”¨çš„å‘½ä»¤ï¼Œä¸€æ˜¯å¯ä»¥åšä¸€ä¸ªå¤‡å¿˜å½•çš„ä½œç”¨ï¼ŒäºŒæ˜¯ä¹Ÿå¯ä»¥ä½œä¸ºä¸€ä¸ªå¤ä¹ çš„æ–‡ç« ã€‚</p> 
 <p>Dockeré•œåƒã€å®¹å™¨ã€æ—¥å¿—ç­‰ç­‰ç›¸å…³å‘½ä»¤éƒ½æ¶µç›–åœ¨å†…ï¼Œæ–‡å†…å¸¦æœ‰æ“ä½œå›¾ï¼Œä¸éš¾çš„å“¦ã€‚</p> 
 <p>å¾ˆå–œæ¬¢ä¸€å¥è¯ï¼šâ€œ<strong>å…«å°æ—¶å†…è°‹ç”Ÿæ´»ï¼Œå…«å°æ—¶å¤–è°‹å‘å±•ã€‚</strong>â€</p> 
 <p><code>å…±å‹‰</code></p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/fd/14/Mmqot0ba_o.jpg" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> <code>åœ°ç‚¹</code>ï¼šæ¹–å—é‚µé˜³<br> <code>ä½œè€…</code>ï¼šåšä¸»</p> 
<h3><a id="Docker__11"></a>ä¸€ã€Docker ç›¸å…³å‘½ä»¤</h3> 
<ol><li> <p>æŸ¥çœ‹Docker ç‰ˆæœ¬å·</p> <pre><code class="prism language-bash">docker --version
</code></pre> <p><img src="https://images2.imgbox.com/f8/ad/exrmGRPD_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> </li><li> <p>æŸ¥çœ‹Docker ç›¸å…³ä¿¡æ¯</p> <pre><code class="prism language-bash">docker info
</code></pre> <p><img src="https://images2.imgbox.com/af/37/0o27mJRn_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> </li><li> <p>æŸ¥çœ‹Dockerå¸®åŠ©å‘½ä»¤</p> <pre><code class="prism language-bash">docker --help
</code></pre> <p>å¯ä»¥æŸ¥çœ‹åˆ°æ‰€æœ‰Docker å‘½ä»¤ï¼Œä¸è¿‡å¯¹è‹±è¯­ä¸å¤ªå¥½çš„åŒå­¦ä¸å¤ªå‹å–„å“ˆã€‚ğŸ™ƒ~~ï¼ˆæˆ‘ä¹Ÿæ˜¯ï¼‰~~</p> <p><img src="https://images2.imgbox.com/f1/59/aa7FAzyO_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> </li></ol> 
<h3><a id="Docker_42"></a>äºŒã€Dockeré•œåƒç›¸å…³å‘½ä»¤</h3> 
<h4><a id="21_44"></a>2.1ã€é•œåƒæŸ¥çœ‹</h4> 
<ul><li> <p>åˆ—å‡ºæœ¬åœ°é•œåƒ</p> <p>1ã€æŸ¥çœ‹å…¨éƒ¨é•œåƒ</p> <pre><code class="prism language-bash">docker images
</code></pre> <p><img src="https://images2.imgbox.com/38/70/Mwoni2Bw_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> <p>2ã€æŸ¥çœ‹å…¨éƒ¨é•œåƒå«ä¸­é—´æ˜ åƒå±‚</p> <pre><code class="prism language-bash">docker images -a
</code></pre> <p><img src="https://images2.imgbox.com/2d/ac/cs0vd2ok_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> <p>3ã€å…¶ä»–</p> <pre><code class="prism language-bash">docker images -q <span class="token comment">#ä»…æ˜¾ç¤ºé•œåƒid</span>
docker <span class="token function">history</span> -H imageserver <span class="token comment">#æ˜¾ç¤ºæŒ‡å®šé•œåƒçš„å†å²åˆ›å»ºï¼›å‚æ•°ï¼š-H é•œåƒå¤§å°å’Œæ—¥æœŸ imageserver æˆ‘è‡ªå·±åšçš„ä¸€ä¸ªé•œåƒ</span>
</code></pre> <p><img src="https://images2.imgbox.com/ed/c4/k4bYGBKE_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> </li></ul> 
<h4><a id="22_76"></a>2.2ã€é•œåƒæœç´¢</h4> 
<ol><li> <p>æœç´¢MySQLçš„é•œåƒ</p> <pre><code class="prism language-bash">docker search mysql 
<span class="token comment">#å¸¦ä¸Šç‰ˆæœ¬å·æœç´¢ docker search mysql:5.7 </span>
<span class="token comment">#docker search &lt;é•œåƒå&gt;:&lt;ç‰ˆæœ¬å·&gt;</span>
</code></pre> </li><li> <p>-**-filter=stars:**åªæ˜¾ç¤º starts&gt;=600 çš„é•œåƒ</p> <pre><code class="prism language-bash">docker search --filter<span class="token operator">=</span>stars<span class="token operator">=</span><span class="token number">600</span> mysql
</code></pre> </li><li> <p><strong>â€“automated</strong> ï¼šåªåˆ—å‡º AUTOMATED=OK çš„é•œåƒ</p> <pre><code class="prism language-bash">docker search  --automated mysql
</code></pre> </li></ol> 
<p><img src="https://images2.imgbox.com/53/27/M5DBVTkH_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<h4><a id="23_101"></a>2.3ã€é•œåƒä¸‹è½½</h4> 
<ol><li> <p>ä¸‹è½½æœ€æ–°å®˜æ–¹é•œåƒï¼ˆæ­¤å¤„ä»¥ä¸‹è½½redis åšä¾‹å­ï¼‰</p> <pre><code class="prism language-bash">docker pull redis <span class="token comment">#ä¸æŒ‡å®šç‰ˆæœ¬å·æ—¶ï¼Œé»˜è®¤æ‹‰å–æœ€æ–°ç‰ˆæœ¬ å³latest </span>
docker pull redis:5.0.7<span class="token comment"># æŒ‡å®šç‰ˆæœ¬å· å³åŠ ä¸€ä¸ªå¼•å· åè¯´æ˜ç‰ˆæœ¬å·å³å¯ã€‚</span>
</code></pre> </li><li> <p>ä¸‹è½½ä»“åº“æ‰€æœ‰Redisé•œåƒ</p> <pre><code class="prism language-bash">docker pull -a redis
</code></pre> </li><li> <p>ä¸‹è½½ç½‘ä¸Šå…¬å¼€çš„ä»“åº“é•œåƒ</p> <pre><code class="prism language-bash">docker pull bitnami/redis <span class="token comment">#å³åˆ«äººåˆ¶ä½œçš„å…¬å¼€æ”¾åˆ°ç½‘ä¸Šçš„é•œåƒ</span>
</code></pre> <p><img src="https://images2.imgbox.com/1c/cd/RsDjPX2F_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> </li></ol> 
<h4><a id="24_125"></a>2.4ã€é•œåƒåˆ é™¤</h4> 
<ol><li> <p>åˆ é™¤å•ä¸ªé•œåƒ</p> <p><code>æ³¨æ„ï¼š</code>(ä¸å¼ºåˆ¶åˆ é™¤ï¼Œå¿…é¡»å…ˆåˆ é™¤æ­¤é•œåƒç›¸å…³çš„å®¹å™¨ï¼Œæ‰èƒ½åˆ é™¤æ­¤é•œåƒ)</p> <pre><code class="prism language-bash"><span class="token comment">##ç›¸å½“äºï¼šdocker rmi redis:latest</span>
docker rmi redis
</code></pre> </li><li> <p>å¼ºåˆ¶åˆ é™¤ï¼ˆå³æœ‰è¿è¡Œçš„å®¹å™¨ï¼Œä¹Ÿå¼ºè¡Œåˆ é™¤,ä½†å¹¶ä¸ä¼šåˆ é™¤æ­£åœ¨è¿è¡Œçš„å®¹å™¨[å·²äº²æµ‹]ï¼‰</p> <pre><code class="prism language-bash"><span class="token comment">##å¼ºåˆ¶åˆ é™¤(é’ˆå¯¹åŸºäºé•œåƒæœ‰è¿è¡Œçš„å®¹å™¨è¿›ç¨‹)</span>
docker rmi -f redis
</code></pre> </li><li> <p>æ‰¹é‡åˆ é™¤ï¼ˆä¸åŒé•œåƒä¹‹é—´ç”¨ç©ºæ ¼é—´éš”ï¼‰</p> <pre><code class="prism language-bash">docker rmi -f redis mysql nginx
</code></pre> </li><li> <p>åˆ é™¤æœ¬åœ°å…¨éƒ¨é•œåƒ</p> <pre><code class="prism language-bash">docker rmi -f <span class="token variable"><span class="token variable">$(</span>docker images -q<span class="token variable">)</span></span> <span class="token comment">#$() å¯ä»¥ç®€å•ç†è§£ä¸ºsql è¯­å¥ä¸­åµŒå¥—è¯­å¥</span>
</code></pre> <p><img src="https://images2.imgbox.com/98/1f/CRuyPAkK_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> </li></ol> 
<h4><a id="25_158"></a>2.5ã€é•œåƒæ„å»º</h4> 
<p>æ­¤å¤„åªåšä¸€ä¸ªæœ€ç®€å•çš„ä¾‹å­ï¼Œä¸€å¥ä¸¤å¥è¯´ä¸æ¸…ã€‚ç‰µæ‰¯Dockerfileæ–‡ä»¶ä¹¦å†™ã€‚</p> 
<p>(1) ç¼–å†™æˆ‘ä»¬çš„Dockerfileæ–‡ä»¶</p> 
<pre><code class="prism language-Dockerfile">from centos:latest

ENV mypath /usr
WORKDIR $mypath

RUN yum -y install vim
RUN yum -y install net-tools

EXPOSE 80

CMD /bin/bash
</code></pre> 
<p>(2) æ„å»ºé•œåƒ</p> 
<pre><code class="prism language-bash">docker build -f /myDocker/Dockerfile2 -t mycentos:1.3 
</code></pre> 
<pre><code class="prism language-bash"><span class="token comment">#å¦‚æœ dockerfileæ–‡ä»¶åœ¨å½“å‰ç›®å½• å‘½ä»¤å¯ç®€å†™ä¸º</span>
docker build -t mycentos:1.3 <span class="token builtin class-name">.</span>
</code></pre> 
<p><strong>è§£é‡Šï¼š</strong></p> 
<p>1ã€docker build ä¸ºdockerä¸­é•œåƒæ„å»ºå‘½ä»¤</p> 
<p>2ã€-f ï¼šæŒ‡æ˜dockerfileæ–‡ä»¶çš„è·¯å¾„</p> 
<p>3ã€-t ï¼šæŒ‡å®šé•œåƒç”Ÿæˆåå­— ç‰ˆæœ¬å·ä¸ºå¯é€‰ã€‚</p> 
<p>4ã€<code>.</code> æœ€åçš„å°æ•°ç‚¹æ„æ€æ˜¯åœ¨å½“å‰ç›®å½•ä¸‹, å³Dockerfileæ‰€åœ¨ç›®å½•</p> 
<h3><a id="Docker__199"></a>ä¸‰ã€Docker å®¹å™¨ç›¸å…³å‘½ä»¤</h3> 
<h4><a id="31_201"></a>3.1ã€æŸ¥çœ‹å®¹å™¨</h4> 
<p>1ã€æŸ¥çœ‹æ­£åœ¨è¿è¡Œçš„å®¹å™¨</p> 
<pre><code class="prism language-bash">docker <span class="token function">ps</span>
</code></pre> 
<p>2ã€æŸ¥çœ‹æ­£åœ¨è¿è¡Œçš„å®¹å™¨çš„ID</p> 
<pre><code class="prism language-bash"> docker <span class="token function">ps</span> -q
</code></pre> 
<p>3ã€æŸ¥çœ‹æ­£åœ¨è¿è¡Œ+å†å²è¿è¡Œè¿‡çš„å®¹å™¨</p> 
<pre><code class="prism language-bash">docker <span class="token function">ps</span> -a
</code></pre> 
<p><img src="https://images2.imgbox.com/91/66/r29K9o66_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p>4ã€è·å–æ­£åœ¨è¿è¡Œçš„å®¹å™¨redisçš„ IP</p> 
<pre><code class="prism language-bash">docker inspect --format<span class="token operator">=</span><span class="token string">'{<!-- -->{range .NetworkSettings.Networks}}{<!-- -->{.IPAddress}}{<!-- -->{end}}'</span> redis
</code></pre> 
<p><img src="https://images2.imgbox.com/d4/ff/GHmnmD7P_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p>5ã€æŸ¥çœ‹å®¹å™¨å…ƒä¿¡æ¯ï¼ˆæ­¤å¤„ä»¥redisä¸¾ä¾‹ï¼‰</p> 
<pre><code class="prism language-bash">docker inspect myredis <span class="token comment">#myredis æ˜¯æˆ‘çš„redis å®¹å™¨å</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/75/fd/184B0WnP_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p>åœ¨å¯åŠ¨é›†ç¾¤çš„æ—¶å€™æ¯”è¾ƒæœ‰æ•ˆï¼Œå•æœºçš„è¯å°±~~ã€‚</p> 
<h4><a id="32_244"></a>3.2ã€å¯åŠ¨å®¹å™¨</h4> 
<p><strong>å¯åŠ¨æš‚åœçš„å®¹å™¨</strong></p> 
<pre><code class="prism language-bash">docker start <span class="token operator">&lt;</span>å®¹å™¨å<span class="token operator">||</span>å®¹å™¨id<span class="token operator">&gt;</span>
</code></pre> 
<p><strong>é‡å¯å®¹å™¨</strong></p> 
<pre><code class="prism language-bash">docker restart redis  <span class="token comment">#&lt;å®¹å™¨å||å®¹å™¨id&gt;</span>
</code></pre> 
<p><strong>æ­¤å¤„ä»¥å¯åŠ¨rediså®¹å™¨ä¸¾ä¾‹</strong></p> 
<pre><code class="prism language-bash">docker run --restart<span class="token operator">=</span>always --log-opt max-size<span class="token operator">=</span>100m --log-opt max-file<span class="token operator">=</span><span class="token number">2</span> -p <span class="token number">6379</span>:6379 --name myredis -v /home/redis/myredis/myredis.conf:/etc/redis/redis.conf -v /home/redis/myredis/data:/data -d redis redis-server /etc/redis/redis.conf  --appendonly <span class="token function">yes</span>  --requirepass 000415
</code></pre> 
<ol><li> <p><strong>â€“restart=always</strong> æ€»æ˜¯å¼€æœºå¯åŠ¨</p> </li><li> <p><strong>â€“log</strong>æ˜¯æ—¥å¿—æ–¹é¢çš„</p> </li><li> <p><strong>-p 6379:6379</strong> å°†6379ç«¯å£æŒ‚è½½å‡ºå»</p> <p><img src="https://images2.imgbox.com/78/7b/DTgycu6G_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> </li><li> <p><strong>â€“name</strong>:ç»™è¿™ä¸ªå®¹å™¨å–ä¸€ä¸ªåå­—</p> </li><li> <p><strong>-v æ•°æ®å·æŒ‚è½½</strong></p> 
  <ul><li>/home/redis/myredis/myredis.conf:/etc/redis/redis.conf è¿™é‡Œæ˜¯å°† liunx è·¯å¾„ä¸‹çš„myredis.conf å’Œredisä¸‹çš„redis.conf æŒ‚è½½åœ¨ä¸€èµ·ã€‚</li><li>/home/redis/myredis/data:/data è¿™ä¸ªåŒä¸Š</li></ul> </li><li> <p><strong>-d redis</strong> è¡¨ç¤ºåå°å¯åŠ¨redis</p> </li><li> <p><strong>redis-server /etc/redis/redis.conf ä»¥é…ç½®æ–‡ä»¶å¯åŠ¨redis</strong>ï¼ŒåŠ è½½å®¹å™¨å†…çš„confæ–‡ä»¶ï¼Œæœ€ç»ˆæ‰¾åˆ°çš„æ˜¯æŒ‚è½½çš„ç›®å½• /etc/redis/redis.conf ä¹Ÿ<strong>å°±æ˜¯liunxä¸‹çš„/home/redis/myredis/myredis.conf</strong></p> </li><li> <p><strong>â€“appendonly yes å¼€å¯redis æŒä¹…åŒ–</strong></p> </li><li> <p><mark>â€“requirepass 000415 è®¾ç½®å¯†ç </mark> ï¼ˆå¦‚æœä½ æ˜¯é€šè¿‡docker å®¹å™¨å†…éƒ¨è¿æ¥çš„è¯ï¼Œå°±éšæ„ï¼Œå¯è®¾å¯ä¸è®¾ã€‚ä½†æ˜¯å¦‚æœæƒ³å‘å¤–å¼€æ”¾çš„è¯ï¼Œä¸€å®šè¦è®¾ç½®ï¼Œæˆ‘è¢«æè¿‡ï¼Œå¯ä»¥çœ‹è¿™ç¯‡æ–‡ç« â€œ<a href="https://editor.csdn.net/md/?articleId=118061056" rel="nofollow">é˜¿é‡Œäº‘æœåŠ¡å™¨ä¸­æ¯’â€˜Kirito666â€™ç»å†</a>â€ï¼‰</p> </li><li> <p>æˆåŠŸç•Œé¢</p> <p><img src="https://images2.imgbox.com/79/d6/ZTUrrdU7_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> </li></ol> 
<h4><a id="33_295"></a>3.3ã€å®¹å™¨è¿›ç¨‹</h4> 
<pre><code class="prism language-bash"><span class="token comment">##topæ”¯æŒ ps å‘½ä»¤å‚æ•°ï¼Œæ ¼å¼ï¼š</span>
docker <span class="token function">top</span> <span class="token punctuation">[</span>OPTIONS<span class="token punctuation">]</span> CONTAINER <span class="token punctuation">[</span>ps OPTIONS<span class="token punctuation">]</span> 
<span class="token comment">##åˆ—å‡ºrediså®¹å™¨ä¸­è¿è¡Œè¿›ç¨‹ </span>
docker <span class="token function">top</span> redis <span class="token comment">##æŸ¥çœ‹æ‰€æœ‰è¿è¡Œå®¹å™¨çš„è¿›ç¨‹ä¿¡æ¯ </span>
</code></pre> 
<p><img src="https://images2.imgbox.com/dc/3f/O2zzezjJ_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<h4><a id="34_309"></a>3.4ã€å®¹å™¨çš„åœæ­¢å’Œåˆ é™¤</h4> 
<ol><li> <p>åœæ­¢ä¸€ä¸ªè¿è¡Œä¸­çš„å®¹å™¨</p> <pre><code class="prism language-bash">docker stop myredis <span class="token comment">#stop å è·Ÿå®¹å™¨åæˆ–å®¹å™¨id éƒ½å¯ä»¥</span>
</code></pre> </li><li> <p>æ€æ‰ä¸€ä¸ªè¿è¡Œä¸­çš„å®¹å™¨</p> <pre><code class="prism language-bash">docker <span class="token function">kill</span> myredis <span class="token comment">#åŒä¸Š</span>
</code></pre> </li></ol> 
<p><img src="https://images2.imgbox.com/92/20/7QvKao05_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<ol start="3"><li> <p>åˆ é™¤ä¸€ä¸ªå·²åœæ­¢çš„å®¹å™¨</p> <pre><code class="prism language-bash">docker <span class="token function">rm</span> myreis <span class="token comment">#åŒä¸Š</span>
</code></pre> </li><li> <p>åˆ é™¤ä¸€ä¸ªè¿è¡Œæ—¶çš„å®¹å™¨</p> <pre><code class="prism language-bash">docker <span class="token function">rm</span> -f myredis <span class="token comment">#åŒä¸Š</span>
</code></pre> </li></ol> 
<p><img src="https://images2.imgbox.com/2d/c1/hD8JllBD_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<ol start="5"><li> <p>åˆ é™¤å…¨éƒ¨å®¹å™¨</p> <pre><code class="prism language-bash">docker <span class="token function">rm</span> -f <span class="token variable"><span class="token variable">$(</span>docker <span class="token function">ps</span> -a -q<span class="token variable">)</span></span> <span class="token comment">#$() ä½ å¯ä»¥ç†è§£sql è¯­å¥ä¸­çš„åµŒå¥—è¯­å¥</span>
</code></pre> </li></ol> 
<h3><a id="Docker__347"></a>å››ã€Docker æŸ¥çœ‹è¿è¡Œæ—¥å¿—</h3> 
<blockquote> 
 <p>åŸºæœ¬æ ¼å¼ï¼šdocker logs [OPTIONS] CONTAINER</p> 
</blockquote> 
<p>OPTIONSï¼šå¯å¸¦å‚æ•° è§ä¸‹å›¾ã€‚</p> 
<p><img src="https://images2.imgbox.com/de/6c/YPmvMU3A_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<ul><li>â€“details æ˜¾ç¤ºæ›´å¤šçš„ä¿¡æ¯</li><li>-f, --follow è·Ÿè¸ªå®æ—¶æ—¥å¿—</li><li>â€“since string æ˜¾ç¤ºè‡ªæŸä¸ªtimestampä¹‹åçš„æ—¥å¿—ï¼Œæˆ–ç›¸å¯¹æ—¶é—´ï¼Œå¦‚30mï¼ˆå³30åˆ†é’Ÿï¼‰</li><li>â€“tail string ä»æ—¥å¿—æœ«å°¾æ˜¾ç¤ºå¤šå°‘è¡Œæ—¥å¿—ï¼Œ é»˜è®¤æ˜¯all</li><li>-t, --timestamps æ˜¾ç¤ºæ—¶é—´æˆ³</li><li>â€“until string æ˜¾ç¤ºè‡ªæŸä¸ªtimestampä¹‹å‰çš„æ—¥å¿—ï¼Œæˆ–ç›¸å¯¹æ—¶é—´ï¼Œå¦‚30mï¼ˆå³30åˆ†é’Ÿï¼‰</li></ul> 
<p><code>ä¸¾ä¾‹ï¼š</code></p> 
<h4><a id="41_365"></a>4.1ã€æŸ¥çœ‹æ­¤å®¹å™¨å…¨éƒ¨è¿è¡Œæ—¥å¿—ï¼š</h4> 
<pre><code class="prism language-bash">docker logs  <span class="token operator">&lt;</span>å®¹å™¨id<span class="token operator">&gt;</span>
</code></pre> 
<h4><a id="42200_371"></a>4.2ã€æŸ¥çœ‹æ—¥å¿—ï¼Œåªæ˜¾ç¤ºæœ€å200è¡Œ</h4> 
<pre><code class="prism language-bash">docker logs --tail <span class="token number">200</span> CONTAINER_ID
</code></pre> 
<h4><a id="4330_377"></a>4.3ã€æŸ¥çœ‹æœ€è¿‘30åˆ†é’Ÿçš„æ—¥å¿—</h4> 
<pre><code class="prism language-bash">docker logs --since 30m CONTAINER_ID
</code></pre> 
<h4><a id="44_383"></a>4.4ã€æŸ¥çœ‹æŸæ—¶é—´ä¹‹åçš„æ—¥å¿—</h4> 
<pre><code class="prism language-bash">dockere logs -t --since <span class="token string">"2021-07-31T10:35:10"</span> d0e <span class="token comment">#d0eæ˜¯æˆ‘çš„å®¹å™¨id </span>
</code></pre> 
<h4><a id="45_389"></a>4.5ã€æŸ¥çœ‹æŸæ—¶é—´æ®µä¹‹é—´çš„æ—¥å¿—</h4> 
<pre><code class="prism language-bash">docker logs -t --since <span class="token string">"2021-07-31T10:35:10"</span> --until <span class="token string">"2021-07-31T10:36:10"</span> CONTAINER_ID
</code></pre> 
<p><img src="https://images2.imgbox.com/c0/39/NDZkhn5B_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<h3><a id="_402"></a>äº”ã€è‡ªè¨€è‡ªè¯­</h3> 
<p>åˆæ˜¯ç»§ç»­å†…å·çš„ä¸€å¤©å•Šï¼Œæ˜¨å¤©çœ‹ç¾¤èŠï¼Œé‡Œé¢çš„å¤§ä½¬å‡Œæ™¨äº†è¿˜åœ¨è®¨è®ºé—®é¢˜ï¼Œè®²çœŸï¼Œæˆ‘æœ‰ç‚¹æ€•å•¦ã€‚è¿™è¿˜é‚€ä¸è¦äººç¡å•¦å•Šã€‚â˜ ğŸ˜‡</p> 
<p>ä¸€èµ· <code>å…±å‹‰</code> orğŸ›Œã€‚ï¼ˆ<s>æˆ‘è¿˜æ˜¯è§‰å¾—ğŸ›Œæ›´çˆ½å•Šï¼Œå”‰ï¼Œä¸è¿‡ä¸èƒ½é€‰å•Š</s>ï¼‰</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/dc23c12371b120a67dbff1e8aaf7f570/" rel="prev">
			<span class="pager__subtitle">Â«&thinsp;Previous</span>
			<p class="pager__title">å°å‹ç½‘ç«™æœåŠ¡å™¨ç³»ç»Ÿ,é’ˆå¯¹ä¸­å°å‹ç½‘ç«™çš„æœåŠ¡å™¨æ¶æ„(ä¸€)</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/85510a6ece4506c1a5fa25992a3fdf1d/" rel="next">
			<span class="pager__subtitle">Next&thinsp;Â»</span>
			<p class="pager__title">Arduinoä¸äººä½“æ„Ÿåº”æ¨¡å—</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 è¿½é£å°‘å¹´çš„åšå®¢.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>